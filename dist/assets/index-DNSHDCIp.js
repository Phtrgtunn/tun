(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ut={},Yi=[],_r=()=>{},yA=()=>!1,Pu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ih=t=>t.startsWith("onUpdate:"),Mt=Object.assign,oh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_A=Object.prototype.hasOwnProperty,rt=(t,e)=>_A.call(t,e),Ie=Array.isArray,Xi=t=>Ou(t)==="[object Map]",Q0=t=>Ou(t)==="[object Set]",Ne=t=>typeof t=="function",At=t=>typeof t=="string",Os=t=>typeof t=="symbol",gt=t=>t!==null&&typeof t=="object",Z0=t=>(gt(t)||Ne(t))&&Ne(t.then)&&Ne(t.catch),ey=Object.prototype.toString,Ou=t=>ey.call(t),bA=t=>Ou(t).slice(8,-1),ty=t=>Ou(t)==="[object Object]",ah=t=>At(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xo=sh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},wA=/-(\w)/g,Jn=Lu(t=>t.replace(wA,(e,n)=>n?n.toUpperCase():"")),xA=/\B([A-Z])/g,Ls=Lu(t=>t.replace(xA,"-$1").toLowerCase()),Nu=Lu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Cd=Lu(t=>t?`on${Nu(t)}`:""),Ss=(t,e)=>!Object.is(t,e),Vl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ny=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},df=t=>{const e=parseFloat(t);return isNaN(e)?t:e},EA=t=>{const e=At(t)?Number(t):NaN;return isNaN(e)?t:e};let Im;const $u=()=>Im||(Im=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ka(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=At(r)?kA(r):ka(r);if(s)for(const o in s)e[o]=s[o]}return e}else if(At(t)||gt(t))return t}const CA=/;(?![^(]*\))/g,SA=/:([^]+)/,TA=/\/\*[^]*?\*\//g;function kA(t){const e={};return t.replace(TA,"").split(CA).forEach(n=>{if(n){const r=n.split(SA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ke(t){let e="";if(At(t))e=t;else if(Ie(t))for(let n=0;n<t.length;n++){const r=Ke(t[n]);r&&(e+=r+" ")}else if(gt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const AA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",IA=sh(AA);function ry(t){return!!t||t===""}const sy=t=>!!(t&&t.__v_isRef===!0),ge=t=>At(t)?t:t==null?"":Ie(t)||gt(t)&&(t.toString===ey||!Ne(t.toString))?sy(t)?ge(t.value):JSON.stringify(t,iy,2):String(t),iy=(t,e)=>sy(e)?iy(t,e.value):Xi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],o)=>(n[Sd(r,o)+" =>"]=s,n),{})}:Q0(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Sd(n))}:Os(e)?Sd(e):gt(e)&&!Ie(e)&&!ty(e)?String(e):e,Sd=(t,e="")=>{var n;return Os(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;class oy{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=sn,!e&&sn&&(this.index=(sn.scopes||(sn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=sn;try{return sn=this,e()}finally{sn=n}}}on(){sn=this}off(){sn=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ay(t){return new oy(t)}function ly(){return sn}function RA(t,e=!1){sn&&sn.cleanups.push(t)}let ft;const Td=new WeakSet;class uy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,sn&&sn.active&&sn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Td.has(this)&&(Td.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||dy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rm(this),fy(this);const e=ft,n=or;ft=this,or=!0;try{return this.fn()}finally{hy(this),ft=e,or=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ch(e);this.deps=this.depsTail=void 0,Rm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Td.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ff(this)&&this.run()}get dirty(){return ff(this)}}let cy=0,Qo,Zo;function dy(t,e=!1){if(t.flags|=8,e){t.next=Zo,Zo=t;return}t.next=Qo,Qo=t}function lh(){cy++}function uh(){if(--cy>0)return;if(Zo){let e=Zo;for(Zo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Qo;){let e=Qo;for(Qo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function fy(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function hy(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),ch(r),PA(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ff(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(py(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function py(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ha))return;t.globalVersion=ha;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ff(t)){t.flags&=-3;return}const n=ft,r=or;ft=t,or=!0;try{fy(t);const s=t.fn(t._value);(e.version===0||Ss(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{ft=n,or=r,hy(t),t.flags&=-3}}function ch(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)ch(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function PA(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let or=!0;const gy=[];function Ns(){gy.push(or),or=!1}function $s(){const t=gy.pop();or=t===void 0?!0:t}function Rm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ft;ft=void 0;try{e()}finally{ft=n}}}let ha=0;class OA{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ft||!or||ft===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ft)n=this.activeLink=new OA(ft,this),ft.deps?(n.prevDep=ft.depsTail,ft.depsTail.nextDep=n,ft.depsTail=n):ft.deps=ft.depsTail=n,my(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ft.depsTail,n.nextDep=void 0,ft.depsTail.nextDep=n,ft.depsTail=n,ft.deps===n&&(ft.deps=r)}return n}trigger(e){this.version++,ha++,this.notify(e)}notify(e){lh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{uh()}}}function my(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)my(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const uu=new WeakMap,li=Symbol(""),hf=Symbol(""),pa=Symbol("");function zt(t,e,n){if(or&&ft){let r=uu.get(t);r||uu.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new dh),s.map=r,s.key=n),s.track()}}function Br(t,e,n,r,s,o){const l=uu.get(t);if(!l){ha++;return}const u=d=>{d&&d.trigger()};if(lh(),e==="clear")l.forEach(u);else{const d=Ie(t),f=d&&ah(n);if(d&&n==="length"){const h=Number(r);l.forEach((g,m)=>{(m==="length"||m===pa||!Os(m)&&m>=h)&&u(g)})}else switch((n!==void 0||l.has(void 0))&&u(l.get(n)),f&&u(l.get(pa)),e){case"add":d?f&&u(l.get("length")):(u(l.get(li)),Xi(t)&&u(l.get(hf)));break;case"delete":d||(u(l.get(li)),Xi(t)&&u(l.get(hf)));break;case"set":Xi(t)&&u(l.get(li));break}}uh()}function LA(t,e){const n=uu.get(t);return n&&n.get(e)}function $i(t){const e=Le(t);return e===t?e:(zt(e,"iterate",pa),zn(t)?e:e.map(Gt))}function Du(t){return zt(t=Le(t),"iterate",pa),t}const NA={__proto__:null,[Symbol.iterator](){return kd(this,Symbol.iterator,Gt)},concat(...t){return $i(this).concat(...t.map(e=>Ie(e)?$i(e):e))},entries(){return kd(this,"entries",t=>(t[1]=Gt(t[1]),t))},every(t,e){return Lr(this,"every",t,e,void 0,arguments)},filter(t,e){return Lr(this,"filter",t,e,n=>n.map(Gt),arguments)},find(t,e){return Lr(this,"find",t,e,Gt,arguments)},findIndex(t,e){return Lr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Lr(this,"findLast",t,e,Gt,arguments)},findLastIndex(t,e){return Lr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Lr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ad(this,"includes",t)},indexOf(...t){return Ad(this,"indexOf",t)},join(t){return $i(this).join(t)},lastIndexOf(...t){return Ad(this,"lastIndexOf",t)},map(t,e){return Lr(this,"map",t,e,void 0,arguments)},pop(){return Uo(this,"pop")},push(...t){return Uo(this,"push",t)},reduce(t,...e){return Pm(this,"reduce",t,e)},reduceRight(t,...e){return Pm(this,"reduceRight",t,e)},shift(){return Uo(this,"shift")},some(t,e){return Lr(this,"some",t,e,void 0,arguments)},splice(...t){return Uo(this,"splice",t)},toReversed(){return $i(this).toReversed()},toSorted(t){return $i(this).toSorted(t)},toSpliced(...t){return $i(this).toSpliced(...t)},unshift(...t){return Uo(this,"unshift",t)},values(){return kd(this,"values",Gt)}};function kd(t,e,n){const r=Du(t),s=r[e]();return r!==t&&!zn(t)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const $A=Array.prototype;function Lr(t,e,n,r,s,o){const l=Du(t),u=l!==t&&!zn(t),d=l[e];if(d!==$A[e]){const g=d.apply(t,o);return u?Gt(g):g}let f=n;l!==t&&(u?f=function(g,m){return n.call(this,Gt(g),m,t)}:n.length>2&&(f=function(g,m){return n.call(this,g,m,t)}));const h=d.call(l,f,r);return u&&s?s(h):h}function Pm(t,e,n,r){const s=Du(t);let o=n;return s!==t&&(zn(t)?n.length>3&&(o=function(l,u,d){return n.call(this,l,u,d,t)}):o=function(l,u,d){return n.call(this,l,Gt(u),d,t)}),s[e](o,...r)}function Ad(t,e,n){const r=Le(t);zt(r,"iterate",pa);const s=r[e](...n);return(s===-1||s===!1)&&ph(n[0])?(n[0]=Le(n[0]),r[e](...n)):s}function Uo(t,e,n=[]){Ns(),lh();const r=Le(t)[e].apply(t,n);return uh(),$s(),r}const DA=sh("__proto__,__v_isRef,__isVue"),vy=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Os));function MA(t){Os(t)||(t=String(t));const e=Le(this);return zt(e,"has",t),e.hasOwnProperty(t)}class yy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?zA:xy:o?wy:by).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=Ie(e);if(!s){let d;if(l&&(d=NA[n]))return d;if(n==="hasOwnProperty")return MA}const u=Reflect.get(e,n,kt(e)?e:r);return(Os(n)?vy.has(n):DA(n))||(s||zt(e,"get",n),o)?u:kt(u)?l&&ah(n)?u:u.value:gt(u)?s?Cy(u):xn(u):u}}class _y extends yy{constructor(e=!1){super(!1,e)}set(e,n,r,s){let o=e[n];if(!this._isShallow){const d=fi(o);if(!zn(r)&&!fi(r)&&(o=Le(o),r=Le(r)),!Ie(e)&&kt(o)&&!kt(r))return d?!1:(o.value=r,!0)}const l=Ie(e)&&ah(n)?Number(n)<e.length:rt(e,n),u=Reflect.set(e,n,r,kt(e)?e:s);return e===Le(s)&&(l?Ss(r,o)&&Br(e,"set",n,r):Br(e,"add",n,r)),u}deleteProperty(e,n){const r=rt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Br(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Os(n)||!vy.has(n))&&zt(e,"has",n),r}ownKeys(e){return zt(e,"iterate",Ie(e)?"length":li),Reflect.ownKeys(e)}}class UA extends yy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const BA=new _y,FA=new UA,jA=new _y(!0);const pf=t=>t,Ol=t=>Reflect.getPrototypeOf(t);function HA(t,e,n){return function(...r){const s=this.__v_raw,o=Le(s),l=Xi(o),u=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,f=s[t](...r),h=n?pf:e?gf:Gt;return!e&&zt(o,"iterate",d?hf:li),{next(){const{value:g,done:m}=f.next();return m?{value:g,done:m}:{value:u?[h(g[0]),h(g[1])]:h(g),done:m}},[Symbol.iterator](){return this}}}}function Ll(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qA(t,e){const n={get(s){const o=this.__v_raw,l=Le(o),u=Le(s);t||(Ss(s,u)&&zt(l,"get",s),zt(l,"get",u));const{has:d}=Ol(l),f=e?pf:t?gf:Gt;if(d.call(l,s))return f(o.get(s));if(d.call(l,u))return f(o.get(u));o!==l&&o.get(s)},get size(){const s=this.__v_raw;return!t&&zt(Le(s),"iterate",li),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,l=Le(o),u=Le(s);return t||(Ss(s,u)&&zt(l,"has",s),zt(l,"has",u)),s===u?o.has(s):o.has(s)||o.has(u)},forEach(s,o){const l=this,u=l.__v_raw,d=Le(u),f=e?pf:t?gf:Gt;return!t&&zt(d,"iterate",li),u.forEach((h,g)=>s.call(o,f(h),f(g),l))}};return Mt(n,t?{add:Ll("add"),set:Ll("set"),delete:Ll("delete"),clear:Ll("clear")}:{add(s){!e&&!zn(s)&&!fi(s)&&(s=Le(s));const o=Le(this);return Ol(o).has.call(o,s)||(o.add(s),Br(o,"add",s,s)),this},set(s,o){!e&&!zn(o)&&!fi(o)&&(o=Le(o));const l=Le(this),{has:u,get:d}=Ol(l);let f=u.call(l,s);f||(s=Le(s),f=u.call(l,s));const h=d.call(l,s);return l.set(s,o),f?Ss(o,h)&&Br(l,"set",s,o):Br(l,"add",s,o),this},delete(s){const o=Le(this),{has:l,get:u}=Ol(o);let d=l.call(o,s);d||(s=Le(s),d=l.call(o,s)),u&&u.call(o,s);const f=o.delete(s);return d&&Br(o,"delete",s,void 0),f},clear(){const s=Le(this),o=s.size!==0,l=s.clear();return o&&Br(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=HA(s,t,e)}),n}function fh(t,e){const n=qA(t,e);return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(rt(n,s)&&s in r?n:r,s,o)}const WA={get:fh(!1,!1)},KA={get:fh(!1,!0)},VA={get:fh(!0,!1)};const by=new WeakMap,wy=new WeakMap,xy=new WeakMap,zA=new WeakMap;function GA(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function JA(t){return t.__v_skip||!Object.isExtensible(t)?0:GA(bA(t))}function xn(t){return fi(t)?t:hh(t,!1,BA,WA,by)}function Ey(t){return hh(t,!1,jA,KA,wy)}function Cy(t){return hh(t,!0,FA,VA,xy)}function hh(t,e,n,r,s){if(!gt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=JA(t);if(l===0)return t;const u=new Proxy(t,l===2?r:n);return s.set(t,u),u}function Ts(t){return fi(t)?Ts(t.__v_raw):!!(t&&t.__v_isReactive)}function fi(t){return!!(t&&t.__v_isReadonly)}function zn(t){return!!(t&&t.__v_isShallow)}function ph(t){return t?!!t.__v_raw:!1}function Le(t){const e=t&&t.__v_raw;return e?Le(e):t}function gh(t){return!rt(t,"__v_skip")&&Object.isExtensible(t)&&ny(t,"__v_skip",!0),t}const Gt=t=>gt(t)?xn(t):t,gf=t=>gt(t)?Cy(t):t;function kt(t){return t?t.__v_isRef===!0:!1}function te(t){return Sy(t,!1)}function YA(t){return Sy(t,!0)}function Sy(t,e){return kt(t)?t:new XA(t,e)}class XA{constructor(e,n){this.dep=new dh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Le(e),this._value=n?e:Gt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||zn(e)||fi(e);e=r?e:Le(e),Ss(e,n)&&(this._rawValue=e,this._value=r?e:Gt(e),this.dep.trigger())}}function Fe(t){return kt(t)?t.value:t}const QA={get:(t,e,n)=>e==="__v_raw"?t:Fe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return kt(s)&&!kt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Ty(t){return Ts(t)?t:new Proxy(t,QA)}function ZA(t){const e=Ie(t)?new Array(t.length):{};for(const n in t)e[n]=tI(t,n);return e}class eI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return LA(Le(this._object),this._key)}}function tI(t,e,n){const r=t[e];return kt(r)?r:new eI(t,e,n)}class nI{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new dh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ha-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ft!==this)return dy(this,!0),!0}get value(){const e=this.dep.track();return py(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function rI(t,e,n=!1){let r,s;return Ne(t)?r=t:(r=t.get,s=t.set),new nI(r,s,n)}const Nl={},cu=new WeakMap;let ei;function sI(t,e=!1,n=ei){if(n){let r=cu.get(n);r||cu.set(n,r=[]),r.push(t)}}function iI(t,e,n=ut){const{immediate:r,deep:s,once:o,scheduler:l,augmentJob:u,call:d}=n,f=$=>s?$:zn($)||s===!1||s===0?Fr($,1):Fr($);let h,g,m,y,x=!1,S=!1;if(kt(t)?(g=()=>t.value,x=zn(t)):Ts(t)?(g=()=>f(t),x=!0):Ie(t)?(S=!0,x=t.some($=>Ts($)||zn($)),g=()=>t.map($=>{if(kt($))return $.value;if(Ts($))return f($);if(Ne($))return d?d($,2):$()})):Ne(t)?e?g=d?()=>d(t,2):t:g=()=>{if(m){Ns();try{m()}finally{$s()}}const $=ei;ei=h;try{return d?d(t,3,[y]):t(y)}finally{ei=$}}:g=_r,e&&s){const $=g,E=s===!0?1/0:s;g=()=>Fr($(),E)}const C=ly(),R=()=>{h.stop(),C&&C.active&&oh(C.effects,h)};if(o&&e){const $=e;e=(...E)=>{$(...E),R()}}let N=S?new Array(t.length).fill(Nl):Nl;const P=$=>{if(!(!(h.flags&1)||!h.dirty&&!$))if(e){const E=h.run();if(s||x||(S?E.some((I,O)=>Ss(I,N[O])):Ss(E,N))){m&&m();const I=ei;ei=h;try{const O=[E,N===Nl?void 0:S&&N[0]===Nl?[]:N,y];d?d(e,3,O):e(...O),N=E}finally{ei=I}}}else h.run()};return u&&u(P),h=new uy(g),h.scheduler=l?()=>l(P,!1):P,y=$=>sI($,!1,h),m=h.onStop=()=>{const $=cu.get(h);if($){if(d)d($,4);else for(const E of $)E();cu.delete(h)}},e?r?P(!0):N=h.run():l?l(P.bind(null,!0),!0):h.run(),R.pause=h.pause.bind(h),R.resume=h.resume.bind(h),R.stop=R,R}function Fr(t,e=1/0,n){if(e<=0||!gt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,kt(t))Fr(t.value,e,n);else if(Ie(t))for(let r=0;r<t.length;r++)Fr(t[r],e,n);else if(Q0(t)||Xi(t))t.forEach(r=>{Fr(r,e,n)});else if(ty(t)){for(const r in t)Fr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Fr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Aa(t,e,n,r){try{return r?t(...r):t()}catch(s){Mu(s,e,n)}}function lr(t,e,n,r){if(Ne(t)){const s=Aa(t,e,n,r);return s&&Z0(s)&&s.catch(o=>{Mu(o,e,n)}),s}if(Ie(t)){const s=[];for(let o=0;o<t.length;o++)s.push(lr(t[o],e,n,r));return s}}function Mu(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||ut;if(e){let u=e.parent;const d=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const h=u.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](t,d,f)===!1)return}u=u.parent}if(o){Ns(),Aa(o,null,10,[t,d,f]),$s();return}}oI(t,n,s,r,l)}function oI(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const on=[];let mr=-1;const Qi=[];let gs=null,Vi=0;const ky=Promise.resolve();let du=null;function po(t){const e=du||ky;return t?e.then(this?t.bind(this):t):e}function aI(t){let e=mr+1,n=on.length;for(;e<n;){const r=e+n>>>1,s=on[r],o=ga(s);o<t||o===t&&s.flags&2?e=r+1:n=r}return e}function mh(t){if(!(t.flags&1)){const e=ga(t),n=on[on.length-1];!n||!(t.flags&2)&&e>=ga(n)?on.push(t):on.splice(aI(e),0,t),t.flags|=1,Ay()}}function Ay(){du||(du=ky.then(Ry))}function lI(t){Ie(t)?Qi.push(...t):gs&&t.id===-1?gs.splice(Vi+1,0,t):t.flags&1||(Qi.push(t),t.flags|=1),Ay()}function Om(t,e,n=mr+1){for(;n<on.length;n++){const r=on[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;on.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Iy(t){if(Qi.length){const e=[...new Set(Qi)].sort((n,r)=>ga(n)-ga(r));if(Qi.length=0,gs){gs.push(...e);return}for(gs=e,Vi=0;Vi<gs.length;Vi++){const n=gs[Vi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}gs=null,Vi=0}}const ga=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ry(t){try{for(mr=0;mr<on.length;mr++){const e=on[mr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Aa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;mr<on.length;mr++){const e=on[mr];e&&(e.flags&=-2)}mr=-1,on.length=0,Iy(),du=null,(on.length||Qi.length)&&Ry()}}let an=null,Py=null;function fu(t){const e=an;return an=t,Py=t&&t.type.__scopeId||null,e}function pt(t,e=an,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&qm(-1);const o=fu(e);let l;try{l=t(...s)}finally{fu(o),r._d&&qm(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Vn(t,e){if(an===null)return t;const n=Wu(an),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,l,u,d=ut]=e[s];o&&(Ne(o)&&(o={mounted:o,updated:o}),o.deep&&Fr(l),r.push({dir:o,instance:n,value:l,oldValue:void 0,arg:u,modifiers:d}))}return t}function Js(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const u=s[l];o&&(u.oldValue=o[l].value);let d=u.dir[r];d&&(Ns(),lr(d,n,8,[t.el,u,t,e]),$s())}}const uI=Symbol("_vte"),Oy=t=>t.__isTeleport,ms=Symbol("_leaveCb"),$l=Symbol("_enterCb");function cI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return wn(()=>{t.isMounted=!0}),vh(()=>{t.isUnmounting=!0}),t}const Kn=[Function,Array],Ly={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Kn,onEnter:Kn,onAfterEnter:Kn,onEnterCancelled:Kn,onBeforeLeave:Kn,onLeave:Kn,onAfterLeave:Kn,onLeaveCancelled:Kn,onBeforeAppear:Kn,onAppear:Kn,onAfterAppear:Kn,onAppearCancelled:Kn},Ny=t=>{const e=t.subTree;return e.component?Ny(e.component):e},dI={name:"BaseTransition",props:Ly,setup(t,{slots:e}){const n=aR(),r=cI();return()=>{const s=e.default&&My(e.default(),!0);if(!s||!s.length)return;const o=$y(s),l=Le(t),{mode:u}=l;if(r.isLeaving)return Id(o);const d=Lm(o);if(!d)return Id(o);let f=mf(d,l,r,n,g=>f=g);d.type!==yn&&ma(d,f);let h=n.subTree&&Lm(n.subTree);if(h&&h.type!==yn&&!ri(d,h)&&Ny(n).type!==yn){let g=mf(h,l,r,n);if(ma(h,g),u==="out-in"&&d.type!==yn)return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete g.afterLeave,h=void 0},Id(o);u==="in-out"&&d.type!==yn?g.delayLeave=(m,y,x)=>{const S=Dy(r,h);S[String(h.key)]=h,m[ms]=()=>{y(),m[ms]=void 0,delete f.delayedLeave,h=void 0},f.delayedLeave=()=>{x(),delete f.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return o}}};function $y(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==yn){e=n;break}}return e}const fI=dI;function Dy(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function mf(t,e,n,r,s){const{appear:o,mode:l,persisted:u=!1,onBeforeEnter:d,onEnter:f,onAfterEnter:h,onEnterCancelled:g,onBeforeLeave:m,onLeave:y,onAfterLeave:x,onLeaveCancelled:S,onBeforeAppear:C,onAppear:R,onAfterAppear:N,onAppearCancelled:P}=e,$=String(t.key),E=Dy(n,t),I=(q,j)=>{q&&lr(q,r,9,j)},O=(q,j)=>{const he=j[1];I(q,j),Ie(q)?q.every(H=>H.length<=1)&&he():q.length<=1&&he()},z={mode:l,persisted:u,beforeEnter(q){let j=d;if(!n.isMounted)if(o)j=C||d;else return;q[ms]&&q[ms](!0);const he=E[$];he&&ri(t,he)&&he.el[ms]&&he.el[ms](),I(j,[q])},enter(q){let j=f,he=h,H=g;if(!n.isMounted)if(o)j=R||f,he=N||h,H=P||g;else return;let xe=!1;const ae=q[$l]=se=>{xe||(xe=!0,se?I(H,[q]):I(he,[q]),z.delayedLeave&&z.delayedLeave(),q[$l]=void 0)};j?O(j,[q,ae]):ae()},leave(q,j){const he=String(t.key);if(q[$l]&&q[$l](!0),n.isUnmounting)return j();I(m,[q]);let H=!1;const xe=q[ms]=ae=>{H||(H=!0,j(),ae?I(S,[q]):I(x,[q]),q[ms]=void 0,E[he]===t&&delete E[he])};E[he]=t,y?O(y,[q,xe]):xe()},clone(q){const j=mf(q,e,n,r,s);return s&&s(j),j}};return z}function Id(t){if(Uu(t))return t=Vr(t),t.children=null,t}function Lm(t){if(!Uu(t))return Oy(t.type)&&t.children?$y(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ne(n.default))return n.default()}}function ma(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ma(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function My(t,e=!1,n){let r=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const u=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===Re?(l.patchFlag&128&&s++,r=r.concat(My(l.children,e,u))):(e||l.type!==yn)&&r.push(u!=null?Vr(l,{key:u}):l)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function go(t,e){return Ne(t)?Mt({name:t.name},e,{setup:t}):t}function Uy(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function hu(t,e,n,r,s=!1){if(Ie(t)){t.forEach((x,S)=>hu(x,e&&(Ie(e)?e[S]:e),n,r,s));return}if(ea(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&hu(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?Wu(r.component):r.el,l=s?null:o,{i:u,r:d}=t,f=e&&e.r,h=u.refs===ut?u.refs={}:u.refs,g=u.setupState,m=Le(g),y=g===ut?()=>!1:x=>rt(m,x);if(f!=null&&f!==d&&(At(f)?(h[f]=null,y(f)&&(g[f]=null)):kt(f)&&(f.value=null)),Ne(d))Aa(d,u,12,[l,h]);else{const x=At(d),S=kt(d);if(x||S){const C=()=>{if(t.f){const R=x?y(d)?g[d]:h[d]:d.value;s?Ie(R)&&oh(R,o):Ie(R)?R.includes(o)||R.push(o):x?(h[d]=[o],y(d)&&(g[d]=h[d])):(d.value=[o],t.k&&(h[t.k]=d.value))}else x?(h[d]=l,y(d)&&(g[d]=l)):S&&(d.value=l,t.k&&(h[t.k]=l))};l?(C.id=-1,Pn(C,n)):C()}}}$u().requestIdleCallback;$u().cancelIdleCallback;const ea=t=>!!t.type.__asyncLoader,Uu=t=>t.type.__isKeepAlive;function hI(t,e){By(t,"a",e)}function pI(t,e){By(t,"da",e)}function By(t,e,n=Dt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Bu(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Uu(s.parent.vnode)&&gI(r,e,n,s),s=s.parent}}function gI(t,e,n,r){const s=Bu(e,t,r,!0);Fu(()=>{oh(r[e],s)},n)}function Bu(t,e,n=Dt,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{Ns();const u=Ia(n),d=lr(e,n,t,l);return u(),$s(),d});return r?s.unshift(o):s.push(o),o}}const Jr=t=>(e,n=Dt)=>{(!ya||t==="sp")&&Bu(t,(...r)=>e(...r),n)},mI=Jr("bm"),wn=Jr("m"),vI=Jr("bu"),yI=Jr("u"),vh=Jr("bum"),Fu=Jr("um"),_I=Jr("sp"),bI=Jr("rtg"),wI=Jr("rtc");function xI(t,e=Dt){Bu("ec",t,e)}const EI="components";function ju(t,e){return SI(EI,t,!0,e)||t}const CI=Symbol.for("v-ndc");function SI(t,e,n=!0,r=!1){const s=an||Dt;if(s){const o=s.type;{const u=fR(o,!1);if(u&&(u===e||u===Jn(e)||u===Nu(Jn(e))))return o}const l=Nm(s[t]||o[t],e)||Nm(s.appContext[t],e);return!l&&r?o:l}}function Nm(t,e){return t&&(t[e]||t[Jn(e)]||t[Nu(Jn(e))])}function Xe(t,e,n,r){let s;const o=n,l=Ie(t);if(l||At(t)){const u=l&&Ts(t);let d=!1;u&&(d=!zn(t),t=Du(t)),s=new Array(t.length);for(let f=0,h=t.length;f<h;f++)s[f]=e(d?Gt(t[f]):t[f],f,void 0,o)}else if(typeof t=="number"){s=new Array(t);for(let u=0;u<t;u++)s[u]=e(u+1,u,void 0,o)}else if(gt(t))if(t[Symbol.iterator])s=Array.from(t,(u,d)=>e(u,d,void 0,o));else{const u=Object.keys(t);s=new Array(u.length);for(let d=0,f=u.length;d<f;d++){const h=u[d];s[d]=e(t[h],h,d,o)}}else s=[];return s}const vf=t=>t?i_(t)?Wu(t):vf(t.parent):null,ta=Mt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>vf(t.parent),$root:t=>vf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>jy(t),$forceUpdate:t=>t.f||(t.f=()=>{mh(t.update)}),$nextTick:t=>t.n||(t.n=po.bind(t.proxy)),$watch:t=>zI.bind(t)}),Rd=(t,e)=>t!==ut&&!t.__isScriptSetup&&rt(t,e),TI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:l,type:u,appContext:d}=t;let f;if(e[0]!=="$"){const y=l[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(Rd(r,e))return l[e]=1,r[e];if(s!==ut&&rt(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&rt(f,e))return l[e]=3,o[e];if(n!==ut&&rt(n,e))return l[e]=4,n[e];yf&&(l[e]=0)}}const h=ta[e];let g,m;if(h)return e==="$attrs"&&zt(t.attrs,"get",""),h(t);if((g=u.__cssModules)&&(g=g[e]))return g;if(n!==ut&&rt(n,e))return l[e]=4,n[e];if(m=d.config.globalProperties,rt(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return Rd(s,e)?(s[e]=n,!0):r!==ut&&rt(r,e)?(r[e]=n,!0):rt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},l){let u;return!!n[l]||t!==ut&&rt(t,l)||Rd(e,l)||(u=o[0])&&rt(u,l)||rt(r,l)||rt(ta,l)||rt(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:rt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function $m(t){return Ie(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let yf=!0;function kI(t){const e=jy(t),n=t.proxy,r=t.ctx;yf=!1,e.beforeCreate&&Dm(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:u,provide:d,inject:f,created:h,beforeMount:g,mounted:m,beforeUpdate:y,updated:x,activated:S,deactivated:C,beforeDestroy:R,beforeUnmount:N,destroyed:P,unmounted:$,render:E,renderTracked:I,renderTriggered:O,errorCaptured:z,serverPrefetch:q,expose:j,inheritAttrs:he,components:H,directives:xe,filters:ae}=e;if(f&&AI(f,r,null),l)for(const me in l){const _e=l[me];Ne(_e)&&(r[me]=_e.bind(n))}if(s){const me=s.call(n,n);gt(me)&&(t.data=xn(me))}if(yf=!0,o)for(const me in o){const _e=o[me],It=Ne(_e)?_e.bind(n,n):Ne(_e.get)?_e.get.bind(n,n):_r,Cn=!Ne(_e)&&Ne(_e.set)?_e.set.bind(n):_r,Et=$e({get:It,set:Cn});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>Et.value,set:Wt=>Et.value=Wt})}if(u)for(const me in u)Fy(u[me],r,n,me);if(d){const me=Ne(d)?d.call(n):d;Reflect.ownKeys(me).forEach(_e=>{zl(_e,me[_e])})}h&&Dm(h,t,"c");function ie(me,_e){Ie(_e)?_e.forEach(It=>me(It.bind(n))):_e&&me(_e.bind(n))}if(ie(mI,g),ie(wn,m),ie(vI,y),ie(yI,x),ie(hI,S),ie(pI,C),ie(xI,z),ie(wI,I),ie(bI,O),ie(vh,N),ie(Fu,$),ie(_I,q),Ie(j))if(j.length){const me=t.exposed||(t.exposed={});j.forEach(_e=>{Object.defineProperty(me,_e,{get:()=>n[_e],set:It=>n[_e]=It})})}else t.exposed||(t.exposed={});E&&t.render===_r&&(t.render=E),he!=null&&(t.inheritAttrs=he),H&&(t.components=H),xe&&(t.directives=xe),q&&Uy(t)}function AI(t,e,n=_r){Ie(t)&&(t=_f(t));for(const r in t){const s=t[r];let o;gt(s)?"default"in s?o=Gn(s.from||r,s.default,!0):o=Gn(s.from||r):o=Gn(s),kt(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[r]=o}}function Dm(t,e,n){lr(Ie(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Fy(t,e,n,r){let s=r.includes(".")?e_(n,r):()=>n[r];if(At(t)){const o=e[t];Ne(o)&&Tt(s,o)}else if(Ne(t))Tt(s,t.bind(n));else if(gt(t))if(Ie(t))t.forEach(o=>Fy(o,e,n,r));else{const o=Ne(t.handler)?t.handler.bind(n):e[t.handler];Ne(o)&&Tt(s,o,t)}}function jy(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,u=o.get(e);let d;return u?d=u:!s.length&&!n&&!r?d=e:(d={},s.length&&s.forEach(f=>pu(d,f,l,!0)),pu(d,e,l)),gt(e)&&o.set(e,d),d}function pu(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&pu(t,o,n,!0),s&&s.forEach(l=>pu(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const u=II[l]||n&&n[l];t[l]=u?u(t[l],e[l]):e[l]}return t}const II={data:Mm,props:Um,emits:Um,methods:Vo,computed:Vo,beforeCreate:nn,created:nn,beforeMount:nn,mounted:nn,beforeUpdate:nn,updated:nn,beforeDestroy:nn,beforeUnmount:nn,destroyed:nn,unmounted:nn,activated:nn,deactivated:nn,errorCaptured:nn,serverPrefetch:nn,components:Vo,directives:Vo,watch:PI,provide:Mm,inject:RI};function Mm(t,e){return e?t?function(){return Mt(Ne(t)?t.call(this,this):t,Ne(e)?e.call(this,this):e)}:e:t}function RI(t,e){return Vo(_f(t),_f(e))}function _f(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function nn(t,e){return t?[...new Set([].concat(t,e))]:e}function Vo(t,e){return t?Mt(Object.create(null),t,e):e}function Um(t,e){return t?Ie(t)&&Ie(e)?[...new Set([...t,...e])]:Mt(Object.create(null),$m(t),$m(e??{})):e}function PI(t,e){if(!t)return e;if(!e)return t;const n=Mt(Object.create(null),t);for(const r in e)n[r]=nn(t[r],e[r]);return n}function Hy(){return{app:null,config:{isNativeTag:yA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let OI=0;function LI(t,e){return function(r,s=null){Ne(r)||(r=Mt({},r)),s!=null&&!gt(s)&&(s=null);const o=Hy(),l=new WeakSet,u=[];let d=!1;const f=o.app={_uid:OI++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:pR,get config(){return o.config},set config(h){},use(h,...g){return l.has(h)||(h&&Ne(h.install)?(l.add(h),h.install(f,...g)):Ne(h)&&(l.add(h),h(f,...g))),f},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),f},component(h,g){return g?(o.components[h]=g,f):o.components[h]},directive(h,g){return g?(o.directives[h]=g,f):o.directives[h]},mount(h,g,m){if(!d){const y=f._ceVNode||Ee(r,s);return y.appContext=o,m===!0?m="svg":m===!1&&(m=void 0),t(y,h,m),d=!0,f._container=h,h.__vue_app__=f,Wu(y.component)}},onUnmount(h){u.push(h)},unmount(){d&&(lr(u,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(h,g){return o.provides[h]=g,f},runWithContext(h){const g=ui;ui=f;try{return h()}finally{ui=g}}};return f}}let ui=null;function zl(t,e){if(Dt){let n=Dt.provides;const r=Dt.parent&&Dt.parent.provides;r===n&&(n=Dt.provides=Object.create(r)),n[t]=e}}function Gn(t,e,n=!1){const r=Dt||an;if(r||ui){const s=ui?ui._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ne(e)?e.call(r&&r.proxy):e}}function NI(){return!!(Dt||an||ui)}const qy={},Wy=()=>Object.create(qy),Ky=t=>Object.getPrototypeOf(t)===qy;function $I(t,e,n,r=!1){const s={},o=Wy();t.propsDefaults=Object.create(null),Vy(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:Ey(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function DI(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,u=Le(s),[d]=t.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=t.vnode.dynamicProps;for(let g=0;g<h.length;g++){let m=h[g];if(Hu(t.emitsOptions,m))continue;const y=e[m];if(d)if(rt(o,m))y!==o[m]&&(o[m]=y,f=!0);else{const x=Jn(m);s[x]=bf(d,u,x,y,t,!1)}else y!==o[m]&&(o[m]=y,f=!0)}}}else{Vy(t,e,s,o)&&(f=!0);let h;for(const g in u)(!e||!rt(e,g)&&((h=Ls(g))===g||!rt(e,h)))&&(d?n&&(n[g]!==void 0||n[h]!==void 0)&&(s[g]=bf(d,u,g,void 0,t,!0)):delete s[g]);if(o!==u)for(const g in o)(!e||!rt(e,g))&&(delete o[g],f=!0)}f&&Br(t.attrs,"set","")}function Vy(t,e,n,r){const[s,o]=t.propsOptions;let l=!1,u;if(e)for(let d in e){if(Xo(d))continue;const f=e[d];let h;s&&rt(s,h=Jn(d))?!o||!o.includes(h)?n[h]=f:(u||(u={}))[h]=f:Hu(t.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,l=!0)}if(o){const d=Le(n),f=u||ut;for(let h=0;h<o.length;h++){const g=o[h];n[g]=bf(s,d,g,f[g],t,!rt(f,g))}}return l}function bf(t,e,n,r,s,o){const l=t[n];if(l!=null){const u=rt(l,"default");if(u&&r===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&Ne(d)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const h=Ia(s);r=f[n]=d.call(null,e),h()}}else r=d;s.ce&&s.ce._setProp(n,r)}l[0]&&(o&&!u?r=!1:l[1]&&(r===""||r===Ls(n))&&(r=!0))}return r}const MI=new WeakMap;function zy(t,e,n=!1){const r=n?MI:e.propsCache,s=r.get(t);if(s)return s;const o=t.props,l={},u=[];let d=!1;if(!Ne(t)){const h=g=>{d=!0;const[m,y]=zy(g,e,!0);Mt(l,m),y&&u.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!o&&!d)return gt(t)&&r.set(t,Yi),Yi;if(Ie(o))for(let h=0;h<o.length;h++){const g=Jn(o[h]);Bm(g)&&(l[g]=ut)}else if(o)for(const h in o){const g=Jn(h);if(Bm(g)){const m=o[h],y=l[g]=Ie(m)||Ne(m)?{type:m}:Mt({},m),x=y.type;let S=!1,C=!0;if(Ie(x))for(let R=0;R<x.length;++R){const N=x[R],P=Ne(N)&&N.name;if(P==="Boolean"){S=!0;break}else P==="String"&&(C=!1)}else S=Ne(x)&&x.name==="Boolean";y[0]=S,y[1]=C,(S||rt(y,"default"))&&u.push(g)}}const f=[l,u];return gt(t)&&r.set(t,f),f}function Bm(t){return t[0]!=="$"&&!Xo(t)}const Gy=t=>t[0]==="_"||t==="$stable",yh=t=>Ie(t)?t.map(vr):[vr(t)],UI=(t,e,n)=>{if(e._n)return e;const r=pt((...s)=>yh(e(...s)),n);return r._c=!1,r},Jy=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Gy(s))continue;const o=t[s];if(Ne(o))e[s]=UI(s,o,r);else if(o!=null){const l=yh(o);e[s]=()=>l}}},Yy=(t,e)=>{const n=yh(e);t.slots.default=()=>n},Xy=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},BI=(t,e,n)=>{const r=t.slots=Wy();if(t.vnode.shapeFlag&32){const s=e._;s?(Xy(r,e,n),n&&ny(r,"_",s,!0)):Jy(e,r)}else e&&Yy(t,e)},FI=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,l=ut;if(r.shapeFlag&32){const u=e._;u?n&&u===1?o=!1:Xy(s,e,n):(o=!e.$stable,Jy(e,s)),l=e}else e&&(Yy(t,e),l={default:1});if(o)for(const u in s)!Gy(u)&&l[u]==null&&delete s[u]},Pn=eR;function jI(t){return HI(t)}function HI(t,e){const n=$u();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:l,createText:u,createComment:d,setText:f,setElementText:h,parentNode:g,nextSibling:m,setScopeId:y=_r,insertStaticContent:x}=t,S=(T,A,U,J=null,Z=null,G=null,ue=void 0,oe=null,re=!!A.dynamicChildren)=>{if(T===A)return;T&&!ri(T,A)&&(J=Q(T),Wt(T,Z,G,!0),T=null),A.patchFlag===-2&&(re=!1,A.dynamicChildren=null);const{type:ee,ref:be,shapeFlag:de}=A;switch(ee){case qu:C(T,A,U,J);break;case yn:R(T,A,U,J);break;case Jl:T==null&&N(A,U,J,ue);break;case Re:H(T,A,U,J,Z,G,ue,oe,re);break;default:de&1?E(T,A,U,J,Z,G,ue,oe,re):de&6?xe(T,A,U,J,Z,G,ue,oe,re):(de&64||de&128)&&ee.process(T,A,U,J,Z,G,ue,oe,re,ye)}be!=null&&Z&&hu(be,T&&T.ref,G,A||T,!A)},C=(T,A,U,J)=>{if(T==null)r(A.el=u(A.children),U,J);else{const Z=A.el=T.el;A.children!==T.children&&f(Z,A.children)}},R=(T,A,U,J)=>{T==null?r(A.el=d(A.children||""),U,J):A.el=T.el},N=(T,A,U,J)=>{[T.el,T.anchor]=x(T.children,A,U,J,T.el,T.anchor)},P=({el:T,anchor:A},U,J)=>{let Z;for(;T&&T!==A;)Z=m(T),r(T,U,J),T=Z;r(A,U,J)},$=({el:T,anchor:A})=>{let U;for(;T&&T!==A;)U=m(T),s(T),T=U;s(A)},E=(T,A,U,J,Z,G,ue,oe,re)=>{A.type==="svg"?ue="svg":A.type==="math"&&(ue="mathml"),T==null?I(A,U,J,Z,G,ue,oe,re):q(T,A,Z,G,ue,oe,re)},I=(T,A,U,J,Z,G,ue,oe)=>{let re,ee;const{props:be,shapeFlag:de,transition:we,dirs:Ce}=T;if(re=T.el=l(T.type,G,be&&be.is,be),de&8?h(re,T.children):de&16&&z(T.children,re,null,J,Z,Pd(T,G),ue,oe),Ce&&Js(T,null,J,"created"),O(re,T,T.scopeId,ue,J),be){for(const Ze in be)Ze!=="value"&&!Xo(Ze)&&o(re,Ze,null,be[Ze],G,J);"value"in be&&o(re,"value",null,be.value,G),(ee=be.onVnodeBeforeMount)&&pr(ee,J,T)}Ce&&Js(T,null,J,"beforeMount");const Ve=qI(Z,we);Ve&&we.beforeEnter(re),r(re,A,U),((ee=be&&be.onVnodeMounted)||Ve||Ce)&&Pn(()=>{ee&&pr(ee,J,T),Ve&&we.enter(re),Ce&&Js(T,null,J,"mounted")},Z)},O=(T,A,U,J,Z)=>{if(U&&y(T,U),J)for(let G=0;G<J.length;G++)y(T,J[G]);if(Z){let G=Z.subTree;if(A===G||n_(G.type)&&(G.ssContent===A||G.ssFallback===A)){const ue=Z.vnode;O(T,ue,ue.scopeId,ue.slotScopeIds,Z.parent)}}},z=(T,A,U,J,Z,G,ue,oe,re=0)=>{for(let ee=re;ee<T.length;ee++){const be=T[ee]=oe?vs(T[ee]):vr(T[ee]);S(null,be,A,U,J,Z,G,ue,oe)}},q=(T,A,U,J,Z,G,ue)=>{const oe=A.el=T.el;let{patchFlag:re,dynamicChildren:ee,dirs:be}=A;re|=T.patchFlag&16;const de=T.props||ut,we=A.props||ut;let Ce;if(U&&Ys(U,!1),(Ce=we.onVnodeBeforeUpdate)&&pr(Ce,U,A,T),be&&Js(A,T,U,"beforeUpdate"),U&&Ys(U,!0),(de.innerHTML&&we.innerHTML==null||de.textContent&&we.textContent==null)&&h(oe,""),ee?j(T.dynamicChildren,ee,oe,U,J,Pd(A,Z),G):ue||_e(T,A,oe,null,U,J,Pd(A,Z),G,!1),re>0){if(re&16)he(oe,de,we,U,Z);else if(re&2&&de.class!==we.class&&o(oe,"class",null,we.class,Z),re&4&&o(oe,"style",de.style,we.style,Z),re&8){const Ve=A.dynamicProps;for(let Ze=0;Ze<Ve.length;Ze++){const ze=Ve[Ze],Bt=de[ze],Ot=we[ze];(Ot!==Bt||ze==="value")&&o(oe,ze,Bt,Ot,Z,U)}}re&1&&T.children!==A.children&&h(oe,A.children)}else!ue&&ee==null&&he(oe,de,we,U,Z);((Ce=we.onVnodeUpdated)||be)&&Pn(()=>{Ce&&pr(Ce,U,A,T),be&&Js(A,T,U,"updated")},J)},j=(T,A,U,J,Z,G,ue)=>{for(let oe=0;oe<A.length;oe++){const re=T[oe],ee=A[oe],be=re.el&&(re.type===Re||!ri(re,ee)||re.shapeFlag&70)?g(re.el):U;S(re,ee,be,null,J,Z,G,ue,!0)}},he=(T,A,U,J,Z)=>{if(A!==U){if(A!==ut)for(const G in A)!Xo(G)&&!(G in U)&&o(T,G,A[G],null,Z,J);for(const G in U){if(Xo(G))continue;const ue=U[G],oe=A[G];ue!==oe&&G!=="value"&&o(T,G,oe,ue,Z,J)}"value"in U&&o(T,"value",A.value,U.value,Z)}},H=(T,A,U,J,Z,G,ue,oe,re)=>{const ee=A.el=T?T.el:u(""),be=A.anchor=T?T.anchor:u("");let{patchFlag:de,dynamicChildren:we,slotScopeIds:Ce}=A;Ce&&(oe=oe?oe.concat(Ce):Ce),T==null?(r(ee,U,J),r(be,U,J),z(A.children||[],U,be,Z,G,ue,oe,re)):de>0&&de&64&&we&&T.dynamicChildren?(j(T.dynamicChildren,we,U,Z,G,ue,oe),(A.key!=null||Z&&A===Z.subTree)&&Qy(T,A,!0)):_e(T,A,U,be,Z,G,ue,oe,re)},xe=(T,A,U,J,Z,G,ue,oe,re)=>{A.slotScopeIds=oe,T==null?A.shapeFlag&512?Z.ctx.activate(A,U,J,ue,re):ae(A,U,J,Z,G,ue,re):se(T,A,re)},ae=(T,A,U,J,Z,G,ue)=>{const oe=T.component=oR(T,J,Z);if(Uu(T)&&(oe.ctx.renderer=ye),lR(oe,!1,ue),oe.asyncDep){if(Z&&Z.registerDep(oe,ie,ue),!T.el){const re=oe.subTree=Ee(yn);R(null,re,A,U)}}else ie(oe,T,A,U,Z,G,ue)},se=(T,A,U)=>{const J=A.component=T.component;if(QI(T,A,U))if(J.asyncDep&&!J.asyncResolved){me(J,A,U);return}else J.next=A,J.update();else A.el=T.el,J.vnode=A},ie=(T,A,U,J,Z,G,ue)=>{const oe=()=>{if(T.isMounted){let{next:de,bu:we,u:Ce,parent:Ve,vnode:Ze}=T;{const dn=Zy(T);if(dn){de&&(de.el=Ze.el,me(T,de,ue)),dn.asyncDep.then(()=>{T.isUnmounted||oe()});return}}let ze=de,Bt;Ys(T,!1),de?(de.el=Ze.el,me(T,de,ue)):de=Ze,we&&Vl(we),(Bt=de.props&&de.props.onVnodeBeforeUpdate)&&pr(Bt,Ve,de,Ze),Ys(T,!0);const Ot=jm(T),cn=T.subTree;T.subTree=Ot,S(cn,Ot,g(cn.el),Q(cn),T,Z,G),de.el=Ot.el,ze===null&&ZI(T,Ot.el),Ce&&Pn(Ce,Z),(Bt=de.props&&de.props.onVnodeUpdated)&&Pn(()=>pr(Bt,Ve,de,Ze),Z)}else{let de;const{el:we,props:Ce}=A,{bm:Ve,m:Ze,parent:ze,root:Bt,type:Ot}=T,cn=ea(A);Ys(T,!1),Ve&&Vl(Ve),!cn&&(de=Ce&&Ce.onVnodeBeforeMount)&&pr(de,ze,A),Ys(T,!0);{Bt.ce&&Bt.ce._injectChildStyle(Ot);const dn=T.subTree=jm(T);S(null,dn,U,J,T,Z,G),A.el=dn.el}if(Ze&&Pn(Ze,Z),!cn&&(de=Ce&&Ce.onVnodeMounted)){const dn=A;Pn(()=>pr(de,ze,dn),Z)}(A.shapeFlag&256||ze&&ea(ze.vnode)&&ze.vnode.shapeFlag&256)&&T.a&&Pn(T.a,Z),T.isMounted=!0,A=U=J=null}};T.scope.on();const re=T.effect=new uy(oe);T.scope.off();const ee=T.update=re.run.bind(re),be=T.job=re.runIfDirty.bind(re);be.i=T,be.id=T.uid,re.scheduler=()=>mh(be),Ys(T,!0),ee()},me=(T,A,U)=>{A.component=T;const J=T.vnode.props;T.vnode=A,T.next=null,DI(T,A.props,J,U),FI(T,A.children,U),Ns(),Om(T),$s()},_e=(T,A,U,J,Z,G,ue,oe,re=!1)=>{const ee=T&&T.children,be=T?T.shapeFlag:0,de=A.children,{patchFlag:we,shapeFlag:Ce}=A;if(we>0){if(we&128){Cn(ee,de,U,J,Z,G,ue,oe,re);return}else if(we&256){It(ee,de,U,J,Z,G,ue,oe,re);return}}Ce&8?(be&16&&Ut(ee,Z,G),de!==ee&&h(U,de)):be&16?Ce&16?Cn(ee,de,U,J,Z,G,ue,oe,re):Ut(ee,Z,G,!0):(be&8&&h(U,""),Ce&16&&z(de,U,J,Z,G,ue,oe,re))},It=(T,A,U,J,Z,G,ue,oe,re)=>{T=T||Yi,A=A||Yi;const ee=T.length,be=A.length,de=Math.min(ee,be);let we;for(we=0;we<de;we++){const Ce=A[we]=re?vs(A[we]):vr(A[we]);S(T[we],Ce,U,null,Z,G,ue,oe,re)}ee>be?Ut(T,Z,G,!0,!1,de):z(A,U,J,Z,G,ue,oe,re,de)},Cn=(T,A,U,J,Z,G,ue,oe,re)=>{let ee=0;const be=A.length;let de=T.length-1,we=be-1;for(;ee<=de&&ee<=we;){const Ce=T[ee],Ve=A[ee]=re?vs(A[ee]):vr(A[ee]);if(ri(Ce,Ve))S(Ce,Ve,U,null,Z,G,ue,oe,re);else break;ee++}for(;ee<=de&&ee<=we;){const Ce=T[de],Ve=A[we]=re?vs(A[we]):vr(A[we]);if(ri(Ce,Ve))S(Ce,Ve,U,null,Z,G,ue,oe,re);else break;de--,we--}if(ee>de){if(ee<=we){const Ce=we+1,Ve=Ce<be?A[Ce].el:J;for(;ee<=we;)S(null,A[ee]=re?vs(A[ee]):vr(A[ee]),U,Ve,Z,G,ue,oe,re),ee++}}else if(ee>we)for(;ee<=de;)Wt(T[ee],Z,G,!0),ee++;else{const Ce=ee,Ve=ee,Ze=new Map;for(ee=Ve;ee<=we;ee++){const Ft=A[ee]=re?vs(A[ee]):vr(A[ee]);Ft.key!=null&&Ze.set(Ft.key,ee)}let ze,Bt=0;const Ot=we-Ve+1;let cn=!1,dn=0;const Er=new Array(Ot);for(ee=0;ee<Ot;ee++)Er[ee]=0;for(ee=Ce;ee<=de;ee++){const Ft=T[ee];if(Bt>=Ot){Wt(Ft,Z,G,!0);continue}let fn;if(Ft.key!=null)fn=Ze.get(Ft.key);else for(ze=Ve;ze<=we;ze++)if(Er[ze-Ve]===0&&ri(Ft,A[ze])){fn=ze;break}fn===void 0?Wt(Ft,Z,G,!0):(Er[fn-Ve]=ee+1,fn>=dn?dn=fn:cn=!0,S(Ft,A[fn],U,null,Z,G,ue,oe,re),Bt++)}const _i=cn?WI(Er):Yi;for(ze=_i.length-1,ee=Ot-1;ee>=0;ee--){const Ft=Ve+ee,fn=A[Ft],bi=Ft+1<be?A[Ft+1].el:J;Er[ee]===0?S(null,fn,U,bi,Z,G,ue,oe,re):cn&&(ze<0||ee!==_i[ze]?Et(fn,U,bi,2):ze--)}}},Et=(T,A,U,J,Z=null)=>{const{el:G,type:ue,transition:oe,children:re,shapeFlag:ee}=T;if(ee&6){Et(T.component.subTree,A,U,J);return}if(ee&128){T.suspense.move(A,U,J);return}if(ee&64){ue.move(T,A,U,ye);return}if(ue===Re){r(G,A,U);for(let de=0;de<re.length;de++)Et(re[de],A,U,J);r(T.anchor,A,U);return}if(ue===Jl){P(T,A,U);return}if(J!==2&&ee&1&&oe)if(J===0)oe.beforeEnter(G),r(G,A,U),Pn(()=>oe.enter(G),Z);else{const{leave:de,delayLeave:we,afterLeave:Ce}=oe,Ve=()=>r(G,A,U),Ze=()=>{de(G,()=>{Ve(),Ce&&Ce()})};we?we(G,Ve,Ze):Ze()}else r(G,A,U)},Wt=(T,A,U,J=!1,Z=!1)=>{const{type:G,props:ue,ref:oe,children:re,dynamicChildren:ee,shapeFlag:be,patchFlag:de,dirs:we,cacheIndex:Ce}=T;if(de===-2&&(Z=!1),oe!=null&&hu(oe,null,U,T,!0),Ce!=null&&(A.renderCache[Ce]=void 0),be&256){A.ctx.deactivate(T);return}const Ve=be&1&&we,Ze=!ea(T);let ze;if(Ze&&(ze=ue&&ue.onVnodeBeforeUnmount)&&pr(ze,A,T),be&6)Xn(T.component,U,J);else{if(be&128){T.suspense.unmount(U,J);return}Ve&&Js(T,null,A,"beforeUnmount"),be&64?T.type.remove(T,A,U,ye,J):ee&&!ee.hasOnce&&(G!==Re||de>0&&de&64)?Ut(ee,A,U,!1,!0):(G===Re&&de&384||!Z&&be&16)&&Ut(re,A,U),J&&Zr(T)}(Ze&&(ze=ue&&ue.onVnodeUnmounted)||Ve)&&Pn(()=>{ze&&pr(ze,A,T),Ve&&Js(T,null,A,"unmounted")},U)},Zr=T=>{const{type:A,el:U,anchor:J,transition:Z}=T;if(A===Re){es(U,J);return}if(A===Jl){$(T);return}const G=()=>{s(U),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(T.shapeFlag&1&&Z&&!Z.persisted){const{leave:ue,delayLeave:oe}=Z,re=()=>ue(U,G);oe?oe(T.el,G,re):re()}else G()},es=(T,A)=>{let U;for(;T!==A;)U=m(T),s(T),T=U;s(A)},Xn=(T,A,U)=>{const{bum:J,scope:Z,job:G,subTree:ue,um:oe,m:re,a:ee}=T;Fm(re),Fm(ee),J&&Vl(J),Z.stop(),G&&(G.flags|=8,Wt(ue,T,A,U)),oe&&Pn(oe,A),Pn(()=>{T.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Ut=(T,A,U,J=!1,Z=!1,G=0)=>{for(let ue=G;ue<T.length;ue++)Wt(T[ue],A,U,J,Z)},Q=T=>{if(T.shapeFlag&6)return Q(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const A=m(T.anchor||T.el),U=A&&A[uI];return U?m(U):A};let fe=!1;const le=(T,A,U)=>{T==null?A._vnode&&Wt(A._vnode,null,null,!0):S(A._vnode||null,T,A,null,null,null,U),A._vnode=T,fe||(fe=!0,Om(),Iy(),fe=!1)},ye={p:S,um:Wt,m:Et,r:Zr,mt:ae,mc:z,pc:_e,pbc:j,n:Q,o:t};return{render:le,hydrate:void 0,createApp:LI(le)}}function Pd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ys({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function qI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Qy(t,e,n=!1){const r=t.children,s=e.children;if(Ie(r)&&Ie(s))for(let o=0;o<r.length;o++){const l=r[o];let u=s[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[o]=vs(s[o]),u.el=l.el),!n&&u.patchFlag!==-2&&Qy(l,u)),u.type===qu&&(u.el=l.el)}}function WI(t){const e=t.slice(),n=[0];let r,s,o,l,u;const d=t.length;for(r=0;r<d;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(o=0,l=n.length-1;o<l;)u=o+l>>1,t[n[u]]<f?o=u+1:l=u;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}function Zy(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Zy(e)}function Fm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const KI=Symbol.for("v-scx"),VI=()=>Gn(KI);function Gl(t,e){return _h(t,null,e)}function Tt(t,e,n){return _h(t,e,n)}function _h(t,e,n=ut){const{immediate:r,deep:s,flush:o,once:l}=n,u=Mt({},n),d=e&&r||!e&&o!=="post";let f;if(ya){if(o==="sync"){const y=VI();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!d){const y=()=>{};return y.stop=_r,y.resume=_r,y.pause=_r,y}}const h=Dt;u.call=(y,x,S)=>lr(y,h,x,S);let g=!1;o==="post"?u.scheduler=y=>{Pn(y,h&&h.suspense)}:o!=="sync"&&(g=!0,u.scheduler=(y,x)=>{x?y():mh(y)}),u.augmentJob=y=>{e&&(y.flags|=4),g&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const m=iI(t,e,u);return ya&&(f?f.push(m):d&&m()),m}function zI(t,e,n){const r=this.proxy,s=At(t)?t.includes(".")?e_(r,t):()=>r[t]:t.bind(r,r);let o;Ne(e)?o=e:(o=e.handler,n=e);const l=Ia(this),u=_h(s,o.bind(r),n);return l(),u}function e_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const GI=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Jn(e)}Modifiers`]||t[`${Ls(e)}Modifiers`];function JI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ut;let s=n;const o=e.startsWith("update:"),l=o&&GI(r,e.slice(7));l&&(l.trim&&(s=n.map(h=>At(h)?h.trim():h)),l.number&&(s=n.map(df)));let u,d=r[u=Cd(e)]||r[u=Cd(Jn(e))];!d&&o&&(d=r[u=Cd(Ls(e))]),d&&lr(d,t,6,s);const f=r[u+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,lr(f,t,6,s)}}function t_(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let l={},u=!1;if(!Ne(t)){const d=f=>{const h=t_(f,e,!0);h&&(u=!0,Mt(l,h))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!o&&!u?(gt(t)&&r.set(t,null),null):(Ie(o)?o.forEach(d=>l[d]=null):Mt(l,o),gt(t)&&r.set(t,l),l)}function Hu(t,e){return!t||!Pu(e)?!1:(e=e.slice(2).replace(/Once$/,""),rt(t,e[0].toLowerCase()+e.slice(1))||rt(t,Ls(e))||rt(t,e))}function jm(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:l,attrs:u,emit:d,render:f,renderCache:h,props:g,data:m,setupState:y,ctx:x,inheritAttrs:S}=t,C=fu(t);let R,N;try{if(n.shapeFlag&4){const $=s||r,E=$;R=vr(f.call(E,$,h,g,y,m,x)),N=u}else{const $=e;R=vr($.length>1?$(g,{attrs:u,slots:l,emit:d}):$(g,null)),N=e.props?u:YI(u)}}catch($){na.length=0,Mu($,t,1),R=Ee(yn)}let P=R;if(N&&S!==!1){const $=Object.keys(N),{shapeFlag:E}=P;$.length&&E&7&&(o&&$.some(ih)&&(N=XI(N,o)),P=Vr(P,N,!1,!0))}return n.dirs&&(P=Vr(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&ma(P,n.transition),R=P,fu(C),R}const YI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Pu(n))&&((e||(e={}))[n]=t[n]);return e},XI=(t,e)=>{const n={};for(const r in t)(!ih(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function QI(t,e,n){const{props:r,children:s,component:o}=t,{props:l,children:u,patchFlag:d}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?Hm(r,l,f):!!l;if(d&8){const h=e.dynamicProps;for(let g=0;g<h.length;g++){const m=h[g];if(l[m]!==r[m]&&!Hu(f,m))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:r===l?!1:r?l?Hm(r,l,f):!0:!!l;return!1}function Hm(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!Hu(n,o))return!0}return!1}function ZI({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const n_=t=>t.__isSuspense;function eR(t,e){e&&e.pendingBranch?Ie(t)?e.effects.push(...t):e.effects.push(t):lI(t)}const Re=Symbol.for("v-fgt"),qu=Symbol.for("v-txt"),yn=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),na=[];let Nn=null;function D(t=!1){na.push(Nn=t?null:[])}function tR(){na.pop(),Nn=na[na.length-1]||null}let va=1;function qm(t,e=!1){va+=t,t<0&&Nn&&e&&(Nn.hasOnce=!0)}function r_(t){return t.dynamicChildren=va>0?Nn||Yi:null,tR(),va>0&&Nn&&Nn.push(t),t}function F(t,e,n,r,s,o){return r_(b(t,e,n,r,s,o,!0))}function _t(t,e,n,r,s){return r_(Ee(t,e,n,r,s,!0))}function so(t){return t?t.__v_isVNode===!0:!1}function ri(t,e){return t.type===e.type&&t.key===e.key}const s_=({key:t})=>t??null,Yl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?At(t)||kt(t)||Ne(t)?{i:an,r:t,k:e,f:!!n}:t:null);function b(t,e=null,n=null,r=0,s=null,o=t===Re?0:1,l=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&s_(e),ref:e&&Yl(e),scopeId:Py,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:an};return u?(bh(d,n),o&128&&t.normalize(d)):n&&(d.shapeFlag|=At(n)?8:16),va>0&&!l&&Nn&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Nn.push(d),d}const Ee=nR;function nR(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===CI)&&(t=yn),so(t)){const u=Vr(t,e,!0);return n&&bh(u,n),va>0&&!o&&Nn&&(u.shapeFlag&6?Nn[Nn.indexOf(t)]=u:Nn.push(u)),u.patchFlag=-2,u}if(hR(t)&&(t=t.__vccOpts),e){e=rR(e);let{class:u,style:d}=e;u&&!At(u)&&(e.class=Ke(u)),gt(d)&&(ph(d)&&!Ie(d)&&(d=Mt({},d)),e.style=ka(d))}const l=At(t)?1:n_(t)?128:Oy(t)?64:gt(t)?4:Ne(t)?2:0;return b(t,e,n,r,s,l,o,!0)}function rR(t){return t?ph(t)||Ky(t)?Mt({},t):t:null}function Vr(t,e,n=!1,r=!1){const{props:s,ref:o,patchFlag:l,children:u,transition:d}=t,f=e?Yr(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&s_(f),ref:e&&e.ref?n&&o?Ie(o)?o.concat(Yl(e)):[o,Yl(e)]:Yl(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Re?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:d,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vr(t.ssContent),ssFallback:t.ssFallback&&Vr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return d&&r&&ma(h,d.clone(h)),h}function Pe(t=" ",e=0){return Ee(qu,null,t,e)}function Dn(t,e){const n=Ee(Jl,null,t);return n.staticCount=e,n}function Ye(t="",e=!1){return e?(D(),_t(yn,null,t)):Ee(yn,null,t)}function vr(t){return t==null||typeof t=="boolean"?Ee(yn):Ie(t)?Ee(Re,null,t.slice()):so(t)?vs(t):Ee(qu,null,String(t))}function vs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vr(t)}function bh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ie(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),bh(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Ky(e)?e._ctx=an:s===3&&an&&(an.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ne(e)?(e={default:e,_ctx:an},n=32):(e=String(e),r&64?(n=16,e=[Pe(e)]):n=8);t.children=e,t.shapeFlag|=n}function Yr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ke([e.class,r.class]));else if(s==="style")e.style=ka([e.style,r.style]);else if(Pu(s)){const o=e[s],l=r[s];l&&o!==l&&!(Ie(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=r[s])}return e}function pr(t,e,n,r=null){lr(t,e,7,[n,r])}const sR=Hy();let iR=0;function oR(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||sR,o={uid:iR++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zy(r,s),emitsOptions:t_(r,s),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:r.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=JI.bind(null,o),t.ce&&t.ce(o),o}let Dt=null;const aR=()=>Dt||an;let gu,wf;{const t=$u(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),o=>{s.length>1?s.forEach(l=>l(o)):s[0](o)}};gu=e("__VUE_INSTANCE_SETTERS__",n=>Dt=n),wf=e("__VUE_SSR_SETTERS__",n=>ya=n)}const Ia=t=>{const e=Dt;return gu(t),t.scope.on(),()=>{t.scope.off(),gu(e)}},Wm=()=>{Dt&&Dt.scope.off(),gu(null)};function i_(t){return t.vnode.shapeFlag&4}let ya=!1;function lR(t,e=!1,n=!1){e&&wf(e);const{props:r,children:s}=t.vnode,o=i_(t);$I(t,r,o,e),BI(t,s,n);const l=o?uR(t,e):void 0;return e&&wf(!1),l}function uR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,TI);const{setup:r}=n;if(r){Ns();const s=t.setupContext=r.length>1?dR(t):null,o=Ia(t),l=Aa(r,t,0,[t.props,s]),u=Z0(l);if($s(),o(),(u||t.sp)&&!ea(t)&&Uy(t),u){if(l.then(Wm,Wm),e)return l.then(d=>{Km(t,d)}).catch(d=>{Mu(d,t,0)});t.asyncDep=l}else Km(t,l)}else o_(t)}function Km(t,e,n){Ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:gt(e)&&(t.setupState=Ty(e)),o_(t)}function o_(t,e,n){const r=t.type;t.render||(t.render=r.render||_r);{const s=Ia(t);Ns();try{kI(t)}finally{$s(),s()}}}const cR={get(t,e){return zt(t,"get",""),t[e]}};function dR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,cR),slots:t.slots,emit:t.emit,expose:e}}function Wu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ty(gh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ta)return ta[n](t)},has(e,n){return n in e||n in ta}})):t.proxy}function fR(t,e=!0){return Ne(t)?t.displayName||t.name:t.name||e&&t.__name}function hR(t){return Ne(t)&&"__vccOpts"in t}const $e=(t,e)=>rI(t,e,ya);function ii(t,e,n){const r=arguments.length;return r===2?gt(e)&&!Ie(e)?so(e)?Ee(t,null,[e]):Ee(t,e):Ee(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&so(n)&&(n=[n]),Ee(t,e,n))}const pR="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xf;const Vm=typeof window<"u"&&window.trustedTypes;if(Vm)try{xf=Vm.createPolicy("vue",{createHTML:t=>t})}catch{}const a_=xf?t=>xf.createHTML(t):t=>t,gR="http://www.w3.org/2000/svg",mR="http://www.w3.org/1998/Math/MathML",Mr=typeof document<"u"?document:null,zm=Mr&&Mr.createElement("template"),vR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Mr.createElementNS(gR,t):e==="mathml"?Mr.createElementNS(mR,t):n?Mr.createElement(t,{is:n}):Mr.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Mr.createTextNode(t),createComment:t=>Mr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Mr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{zm.innerHTML=a_(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const u=zm.content;if(r==="svg"||r==="mathml"){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}e.insertBefore(u,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cs="transition",Bo="animation",_a=Symbol("_vtc"),l_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yR=Mt({},Ly,l_),_R=t=>(t.displayName="Transition",t.props=yR,t),bR=_R((t,{slots:e})=>ii(fI,wR(t),e)),Xs=(t,e=[])=>{Ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},Gm=t=>t?Ie(t)?t.some(e=>e.length>1):t.length>1:!1;function wR(t){const e={};for(const H in t)H in l_||(e[H]=t[H]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:d=o,appearActiveClass:f=l,appearToClass:h=u,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,x=xR(s),S=x&&x[0],C=x&&x[1],{onBeforeEnter:R,onEnter:N,onEnterCancelled:P,onLeave:$,onLeaveCancelled:E,onBeforeAppear:I=R,onAppear:O=N,onAppearCancelled:z=P}=e,q=(H,xe,ae,se)=>{H._enterCancelled=se,Qs(H,xe?h:u),Qs(H,xe?f:l),ae&&ae()},j=(H,xe)=>{H._isLeaving=!1,Qs(H,g),Qs(H,y),Qs(H,m),xe&&xe()},he=H=>(xe,ae)=>{const se=H?O:N,ie=()=>q(xe,H,ae);Xs(se,[xe,ie]),Jm(()=>{Qs(xe,H?d:o),Nr(xe,H?h:u),Gm(se)||Ym(xe,r,S,ie)})};return Mt(e,{onBeforeEnter(H){Xs(R,[H]),Nr(H,o),Nr(H,l)},onBeforeAppear(H){Xs(I,[H]),Nr(H,d),Nr(H,f)},onEnter:he(!1),onAppear:he(!0),onLeave(H,xe){H._isLeaving=!0;const ae=()=>j(H,xe);Nr(H,g),H._enterCancelled?(Nr(H,m),Zm()):(Zm(),Nr(H,m)),Jm(()=>{H._isLeaving&&(Qs(H,g),Nr(H,y),Gm($)||Ym(H,r,C,ae))}),Xs($,[H,ae])},onEnterCancelled(H){q(H,!1,void 0,!0),Xs(P,[H])},onAppearCancelled(H){q(H,!0,void 0,!0),Xs(z,[H])},onLeaveCancelled(H){j(H),Xs(E,[H])}})}function xR(t){if(t==null)return null;if(gt(t))return[Od(t.enter),Od(t.leave)];{const e=Od(t);return[e,e]}}function Od(t){return EA(t)}function Nr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[_a]||(t[_a]=new Set)).add(e)}function Qs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[_a];n&&(n.delete(e),n.size||(t[_a]=void 0))}function Jm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ER=0;function Ym(t,e,n,r){const s=t._endId=++ER,o=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:l,timeout:u,propCount:d}=CR(t,e);if(!l)return r();const f=l+"end";let h=0;const g=()=>{t.removeEventListener(f,m),o()},m=y=>{y.target===t&&++h>=d&&g()};setTimeout(()=>{h<d&&g()},u+1),t.addEventListener(f,m)}function CR(t,e){const n=window.getComputedStyle(t),r=x=>(n[x]||"").split(", "),s=r(`${cs}Delay`),o=r(`${cs}Duration`),l=Xm(s,o),u=r(`${Bo}Delay`),d=r(`${Bo}Duration`),f=Xm(u,d);let h=null,g=0,m=0;e===cs?l>0&&(h=cs,g=l,m=o.length):e===Bo?f>0&&(h=Bo,g=f,m=d.length):(g=Math.max(l,f),h=g>0?l>f?cs:Bo:null,m=h?h===cs?o.length:d.length:0);const y=h===cs&&/\b(transform|all)(,|$)/.test(r(`${cs}Property`).toString());return{type:h,timeout:g,propCount:m,hasTransform:y}}function Xm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Qm(n)+Qm(t[r])))}function Qm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Zm(){return document.body.offsetHeight}function SR(t,e,n){const r=t[_a];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const mu=Symbol("_vod"),u_=Symbol("_vsh"),Ld={beforeMount(t,{value:e},{transition:n}){t[mu]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Fo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Fo(t,!0),r.enter(t)):r.leave(t,()=>{Fo(t,!1)}):Fo(t,e))},beforeUnmount(t,{value:e}){Fo(t,e)}};function Fo(t,e){t.style.display=e?t[mu]:"none",t[u_]=!e}const TR=Symbol(""),kR=/(^|;)\s*display\s*:/;function AR(t,e,n){const r=t.style,s=At(n);let o=!1;if(n&&!s){if(e)if(At(e))for(const l of e.split(";")){const u=l.slice(0,l.indexOf(":")).trim();n[u]==null&&Xl(r,u,"")}else for(const l in e)n[l]==null&&Xl(r,l,"");for(const l in n)l==="display"&&(o=!0),Xl(r,l,n[l])}else if(s){if(e!==n){const l=r[TR];l&&(n+=";"+l),r.cssText=n,o=kR.test(n)}}else e&&t.removeAttribute("style");mu in t&&(t[mu]=o?r.display:"",t[u_]&&(r.display="none"))}const ev=/\s*!important$/;function Xl(t,e,n){if(Ie(n))n.forEach(r=>Xl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=IR(t,e);ev.test(n)?t.setProperty(Ls(r),n.replace(ev,""),"important"):t[r]=n}}const tv=["Webkit","Moz","ms"],Nd={};function IR(t,e){const n=Nd[e];if(n)return n;let r=Jn(e);if(r!=="filter"&&r in t)return Nd[e]=r;r=Nu(r);for(let s=0;s<tv.length;s++){const o=tv[s]+r;if(o in t)return Nd[e]=o}return e}const nv="http://www.w3.org/1999/xlink";function rv(t,e,n,r,s,o=IA(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(nv,e.slice(6,e.length)):t.setAttributeNS(nv,e,n):n==null||o&&!ry(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Os(n)?String(n):n)}function sv(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?a_(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,d=n==null?t.type==="checkbox"?"on":"":String(n);(u!==d||!("_value"in t))&&(t.value=d),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=ry(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(s||e)}function zi(t,e,n,r){t.addEventListener(e,n,r)}function RR(t,e,n,r){t.removeEventListener(e,n,r)}const iv=Symbol("_vei");function PR(t,e,n,r,s=null){const o=t[iv]||(t[iv]={}),l=o[e];if(r&&l)l.value=r;else{const[u,d]=OR(e);if(r){const f=o[e]=$R(r,s);zi(t,u,f,d)}else l&&(RR(t,u,l,d),o[e]=void 0)}}const ov=/(?:Once|Passive|Capture)$/;function OR(t){let e;if(ov.test(t)){e={};let r;for(;r=t.match(ov);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ls(t.slice(2)),e]}let $d=0;const LR=Promise.resolve(),NR=()=>$d||(LR.then(()=>$d=0),$d=Date.now());function $R(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;lr(DR(r,n.value),e,5,[r])};return n.value=t,n.attached=NR(),n}function DR(t,e){if(Ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const av=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,MR=(t,e,n,r,s,o)=>{const l=s==="svg";e==="class"?SR(t,r,l):e==="style"?AR(t,n,r):Pu(e)?ih(e)||PR(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):UR(t,e,r,l))?(sv(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&rv(t,e,r,l,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!At(r))?sv(t,Jn(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),rv(t,e,r,l))};function UR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&av(e)&&Ne(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return av(e)&&At(n)?!1:e in t}const lv=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ie(e)?n=>Vl(e,n):e};function BR(t){t.target.composing=!0}function uv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Dd=Symbol("_assign"),Wr={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Dd]=lv(s);const o=r||s.props&&s.props.type==="number";zi(t,e?"change":"input",l=>{if(l.target.composing)return;let u=t.value;n&&(u=u.trim()),o&&(u=df(u)),t[Dd](u)}),n&&zi(t,"change",()=>{t.value=t.value.trim()}),e||(zi(t,"compositionstart",BR),zi(t,"compositionend",uv),zi(t,"change",uv))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},l){if(t[Dd]=lv(l),t.composing)return;const u=(o||t.type==="number")&&!/^0\d/.test(t.value)?df(t.value):t.value,d=e??"";u!==d&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===d)||(t.value=d))}},FR=["ctrl","shift","alt","meta"],jR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>FR.some(n=>t[`${n}Key`]&&!e.includes(n))},c_=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...o)=>{for(let l=0;l<e.length;l++){const u=jR[e[l]];if(u&&u(s,e))return}return t(s,...o)})},HR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rr=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=Ls(s.key);if(e.some(l=>l===o||HR[l]===o))return t(s)})},qR=Mt({patchProp:MR},vR);let cv;function WR(){return cv||(cv=jI(qR))}const d_=(...t)=>{const e=WR().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=VR(r);if(!s)return;const o=e._component;!Ne(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,KR(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function KR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function VR(t){return At(t)?document.querySelector(t):t}const zR=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},GR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},h_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,h=o>>2,g=(o&3)<<4|u>>4;let m=(u&15)<<2|f>>6,y=f&63;d||(y=64,l||(m=64)),r.push(n[h],n[g],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||f==null||g==null)throw new JR;const m=o<<2|u>>4;if(r.push(m),f!==64){const y=u<<4&240|f>>2;if(r.push(y),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YR=function(t){const e=f_(t);return h_.encodeByteArray(e,!0)},vu=function(t){return YR(t).replace(/\./g,"")},p_=function(t){try{return h_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=()=>XR().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof dv>"u")return;const t=dv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},e2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p_(t[1]);return e&&JSON.parse(e)},wh=()=>{try{return zR()||QR()||ZR()||e2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g_=t=>{var e,n;return(n=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t2=t=>{const e=g_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m_=()=>{var t;return(t=wh())===null||t===void 0?void 0:t.config},v_=t=>{var e;return(e=wh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n2=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){return t.endsWith(".cloudworkstations.dev")}async function y_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vu(JSON.stringify(n)),vu(JSON.stringify(l)),""].join(".")}const ra={};function s2(){const t={prod:[],emulator:[]};for(const e of Object.keys(ra))ra[e]?t.emulator.push(e):t.prod.push(e);return t}function i2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fv=!1;function __(t,e){if(typeof window>"u"||typeof document>"u"||!Ra(window.location.host)||ra[t]===e||ra[t]||fv)return;ra[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",o=s2().prod.length>0;function l(){const m=document.getElementById(r);m&&m.remove()}function u(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function d(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function f(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{fv=!0,l()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=i2(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),R=n("preprendIcon"),N=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const P=m.element;u(P),h(C,S);const $=f();d(N,R),P.append(N,x,C,$),document.body.appendChild(P)}o?(x.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function a2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c2(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d2(){try{return typeof indexedDB=="object"}catch{return!1}}function f2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h2,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pa.prototype.create)}}class Pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?p2(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Xr(s,u,r)}}function p2(t,e){return t.replace(g2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const g2=/\{\$([^}]+)}/g;function m2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function io(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(hv(o)&&hv(l)){if(!io(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Go(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function v2(t,e){const n=new y2(t,e);return n.subscribe.bind(n)}class y2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Md),s.error===void 0&&(s.error=Md),s.complete===void 0&&(s.complete=Md);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x2(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w2(t){return t===ti?void 0:t}function x2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const C2={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},S2=lt.INFO,T2={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},k2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=T2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b_{constructor(e){this.name=e,this._logLevel=S2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const A2=(t,e)=>e.some(n=>t instanceof n);let pv,gv;function I2(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w_=new WeakMap,Ef=new WeakMap,x_=new WeakMap,Ud=new WeakMap,xh=new WeakMap;function P2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ks(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&w_.set(n,t)}).catch(()=>{}),xh.set(e,t),e}function O2(t){if(Ef.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Ef.set(t,e)}let Cf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ef.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L2(t){Cf=t(Cf)}function N2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bd(this),e,...n);return x_.set(r,e.sort?e.sort():[e]),ks(r)}:R2().includes(t)?function(...e){return t.apply(Bd(this),e),ks(w_.get(this))}:function(...e){return ks(t.apply(Bd(this),e))}}function $2(t){return typeof t=="function"?N2(t):(t instanceof IDBTransaction&&O2(t),A2(t,I2())?new Proxy(t,Cf):t)}function ks(t){if(t instanceof IDBRequest)return P2(t);if(Ud.has(t))return Ud.get(t);const e=$2(t);return e!==t&&(Ud.set(t,e),xh.set(e,t)),e}const Bd=t=>xh.get(t);function D2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=ks(l);return r&&l.addEventListener("upgradeneeded",d=>{r(ks(l.result),d.oldVersion,d.newVersion,ks(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const M2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],Fd=new Map;function mv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=U2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||M2.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&d.done]))[0]};return Fd.set(e,o),o}L2(t=>({...t,get:(e,n,r)=>mv(e,n)||t.get(e,n,r),has:(e,n)=>!!mv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sf="@firebase/app",vv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new b_("@firebase/app"),j2="@firebase/app-compat",H2="@firebase/analytics-compat",q2="@firebase/analytics",W2="@firebase/app-check-compat",K2="@firebase/app-check",V2="@firebase/auth",z2="@firebase/auth-compat",G2="@firebase/database",J2="@firebase/data-connect",Y2="@firebase/database-compat",X2="@firebase/functions",Q2="@firebase/functions-compat",Z2="@firebase/installations",eP="@firebase/installations-compat",tP="@firebase/messaging",nP="@firebase/messaging-compat",rP="@firebase/performance",sP="@firebase/performance-compat",iP="@firebase/remote-config",oP="@firebase/remote-config-compat",aP="@firebase/storage",lP="@firebase/storage-compat",uP="@firebase/firestore",cP="@firebase/ai",dP="@firebase/firestore-compat",fP="firebase",hP="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",pP={[Sf]:"fire-core",[j2]:"fire-core-compat",[q2]:"fire-analytics",[H2]:"fire-analytics-compat",[K2]:"fire-app-check",[W2]:"fire-app-check-compat",[V2]:"fire-auth",[z2]:"fire-auth-compat",[G2]:"fire-rtdb",[J2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[X2]:"fire-fn",[Q2]:"fire-fn-compat",[Z2]:"fire-iid",[eP]:"fire-iid-compat",[tP]:"fire-fcm",[nP]:"fire-fcm-compat",[rP]:"fire-perf",[sP]:"fire-perf-compat",[iP]:"fire-rc",[oP]:"fire-rc-compat",[aP]:"fire-gcs",[lP]:"fire-gcs-compat",[uP]:"fire-fst",[dP]:"fire-fst-compat",[cP]:"fire-vertex","fire-js":"fire-js",[fP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,gP=new Map,kf=new Map;function yv(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(kf.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,t);for(const n of yu.values())yv(n,t);for(const n of gP.values())yv(n,t);return!0}function Eh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Pa("app","Firebase",mP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=hP;function Ch(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tf,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw As.create("bad-app-name",{appName:String(s)});if(n||(n=m_()),!n)throw As.create("no-options");const o=yu.get(s);if(o){if(io(n,o.options)&&io(r,o.config))return o;throw As.create("duplicate-app",{appName:s})}const l=new E2(s);for(const d of kf.values())l.addComponent(d);const u=new vP(n,r,l);return yu.set(s,u),u}function E_(t=Tf){const e=yu.get(t);if(!e&&t===Tf&&m_())return Ch();if(!e)throw As.create("no-app",{appName:t});return e}function Is(t,e,n){var r;let s=(r=pP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(u.join(" "));return}oo(new hi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="firebase-heartbeat-database",_P=1,ba="firebase-heartbeat-store";let jd=null;function C_(){return jd||(jd=D2(yP,_P,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),jd}async function bP(t){try{const n=(await C_()).transaction(ba),r=await n.objectStore(ba).get(S_(t));return await n.done,r}catch(e){if(e instanceof Xr)zr.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function _v(t,e){try{const r=(await C_()).transaction(ba,"readwrite");await r.objectStore(ba).put(e,S_(t)),await r.done}catch(n){if(n instanceof Xr)zr.warn(n.message);else{const r=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function S_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=1024,xP=30;class EP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>xP){const l=TP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bv(),{heartbeatsToSend:r,unsentEntries:s}=CP(this._heartbeatsCache.heartbeats),o=vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zr.warn(n),""}}}function bv(){return new Date().toISOString().substring(0,10)}function CP(t,e=wP){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),wv(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d2()?f2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wv(t){return vu(JSON.stringify({version:2,heartbeats:t})).length}function TP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){oo(new hi("platform-logger",e=>new B2(e),"PRIVATE")),oo(new hi("heartbeat",e=>new EP(e),"PRIVATE")),Is(Sf,vv,t),Is(Sf,vv,"esm2017"),Is("fire-js","")}kP("");function Sh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function T_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AP=T_,k_=new Pa("auth","Firebase",T_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new b_("@firebase/auth");function IP(t,...e){_u.logLevel<=lt.WARN&&_u.warn(`Auth (${mo}): ${t}`,...e)}function Ql(t,...e){_u.logLevel<=lt.ERROR&&_u.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw kh(t,...e)}function ar(t,...e){return kh(t,...e)}function Th(t,e,n){const r=Object.assign(Object.assign({},AP()),{[e]:n});return new Pa("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return Th(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),Th(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return k_.create(t,...e)}function Ae(t,e,...n){if(!t)throw kh(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function Gr(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PP(){return xv()==="http:"||xv()==="https:"}function xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PP()||l2()||"connection"in navigator)?navigator.onLine:!0}function LP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=o2()||u2()}get(){return OP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DP=new La(3e4,6e4);function Ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qr(t,e,n,r,s={}){return I_(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Oa(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},o);return a2()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ra(t.emulatorConfig.host)&&(f.credentials="include"),A_.fetch()(await R_(t,t.config.apiHost,n,u),f)})}async function I_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NP),e);try{const s=new UP(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Dl(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dl(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Dl(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Dl(t,"user-disabled",l);const h=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Th(t,h,f);Yn(t,h)}}catch(s){if(s instanceof Xr)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function Na(t,e,n,r,s={}){const o=await Qr(t,e,n,r,s);return"mfaPendingCredential"in o&&Yn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function R_(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Ah(t.config,s):`${t.config.apiScheme}://${s}`;return $P.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function MP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),DP.get())})}}function Dl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ar(t,e,r);return s.customData._tokenResponse=n,s}function Ev(t){return t!==void 0&&t.enterprise!==void 0}class BP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FP(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function bu(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HP(t,e=!1){const n=En(t),r=await n.getIdToken(e),s=Ih(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:sa(Hd(s.auth_time)),issuedAtTime:sa(Hd(s.iat)),expirationTime:sa(Hd(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function Ih(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ql("JWT malformed, contained fewer than 3 sections"),null;try{const s=p_(n);return s?JSON.parse(s):(Ql("Failed to decode base64 JWT payload"),null)}catch(s){return Ql("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Cv(t){const e=Ih(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&qP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sa(this.lastLoginAt),this.creationTime=sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ao(t,bu(n,{idToken:r}));Ae(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?P_(o.providerUserInfo):[],u=VP(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),h=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new If(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function KP(t){const e=En(t);await wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function P_(t){return t.map(e=>{var{providerId:n}=e,r=Sh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){const n=await I_(t,{},async()=>{const r=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await R_(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",A_.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GP(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await zP(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new Zi;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zi,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Sh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new If(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ao(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HP(this,e)}reload(){return KP(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await ao(this,jP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,l,u,d,f,h;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,C=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,N=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:$,isAnonymous:E,providerData:I,stsTokenManager:O}=n;Ae(P&&O,e,"internal-error");const z=Zi.fromJSON(this.name,O);Ae(typeof P=="string",e,"internal-error"),ds(g,e.name),ds(m,e.name),Ae(typeof $=="boolean",e,"internal-error"),Ae(typeof E=="boolean",e,"internal-error"),ds(y,e.name),ds(x,e.name),ds(S,e.name),ds(C,e.name),ds(R,e.name),ds(N,e.name);const q=new ir({uid:P,auth:e,email:m,emailVerified:$,displayName:g,isAnonymous:E,photoURL:x,phoneNumber:y,tenantId:S,stsTokenManager:z,createdAt:R,lastLoginAt:N});return I&&Array.isArray(I)&&(q.providerData=I.map(j=>Object.assign({},j))),C&&(q._redirectEventId=C),q}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zi;s.updateFromServerResponse(n);const o=new ir({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await wu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?P_(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new Zi;u.updateFromIdToken(r);const d=new ir({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new If(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;function qr(t){Gr(t instanceof Function,"Expected a class definition");let e=Sv.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O_.type="NONE";const Tv=O_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t,e,n){return`firebase:${t}:${e}:${n}`}class eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Zl(this.userKey,s.apiKey,o),this.fullPersistenceKey=Zl("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bu(this.auth,{idToken:e}).catch(()=>{});return n?ir._fromGetAccountInfoResponse(this.auth,n,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eo(qr(Tv),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||qr(Tv);const l=Zl(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(l);if(h){let g;if(typeof h=="string"){const m=await bu(e,{idToken:h}).catch(()=>{});if(!m)break;g=await ir._fromGetAccountInfoResponse(e,m,h)}else g=ir._fromJSON(e,h);f!==o&&(u=g),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new eo(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new eo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U_(e))return"Blackberry";if(B_(e))return"Webos";if(N_(e))return"Safari";if((e.includes("chrome/")||$_(e))&&!e.includes("edge/"))return"Chrome";if(M_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function L_(t=ln()){return/firefox\//i.test(t)}function N_(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $_(t=ln()){return/crios\//i.test(t)}function D_(t=ln()){return/iemobile/i.test(t)}function M_(t=ln()){return/android/i.test(t)}function U_(t=ln()){return/blackberry/i.test(t)}function B_(t=ln()){return/webos/i.test(t)}function Rh(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JP(t=ln()){var e;return Rh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YP(){return c2()&&document.documentMode===10}function F_(t=ln()){return Rh(t)||M_(t)||B_(t)||U_(t)||/windows phone/i.test(t)||D_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e=[]){let n;switch(t){case"Browser":n=kv(ln());break;case"Worker":n=`${kv(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=6;class eO{constructor(e){var n,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:ZP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new XP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bu(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Kr(this));const n=e?En(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QP(this),n=new eO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ms(t){return En(t)}class Av{constructor(e){this.auth=e,this.observer=null,this.addObserver=v2(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nO(t){Ku=t}function H_(t){return Ku.loadJS(t)}function rO(){return Ku.recaptchaEnterpriseScript}function sO(){return Ku.gapiScript}function iO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oO{constructor(){this.enterprise=new aO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lO="recaptcha-enterprise",q_="NO_RECAPTCHA";class uO{constructor(e){this.type=lO,this.auth=Ms(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{FP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new BP(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function s(o,l,u){const d=window.grecaptcha;Ev(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(q_)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&Ev(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=rO();d.length!==0&&(d+=u),H_(d).then(()=>{s(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Iv(t,e,n,r=!1,s=!1){const o=new uO(t);let l;if(s)l=q_;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Rf(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Iv(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Iv(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t,e){const n=Eh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(io(o,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function dO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fO(t,e,n){const r=Ms(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=W_(e),{host:l,port:u}=hO(e),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},h=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(io(f,r.config.emulator)&&io(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ra(l)?(y_(`${o}//${l}${d}`),__("Auth",!0)):pO()}function W_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hO(t){const e=W_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Rv(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Rv(l)}}}function Rv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function gO(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){return Na(t,"POST","/v1/accounts:signInWithPassword",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e){return Na(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}async function yO(t,e){return Na(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Ph{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rf(e,n,"signInWithPassword",mO);case"emailLink":return vO(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rf(e,r,"signUpPassword",gO);case"emailLink":return yO(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t,e){return Na(t,"POST","/v1/accounts:signInWithIdp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="http://localhost";class pi extends Ph{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Sh(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new pi(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,to(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:_O,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(t){const e=zo(Go(t)).link,n=e?zo(Go(e)).deep_link_id:null,r=zo(Go(t)).deep_link_id;return(r?zo(Go(r)).link:null)||r||n||e||t}class Oh{constructor(e){var n,r,s,o,l,u;const d=zo(Go(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,h=(r=d.oobCode)!==null&&r!==void 0?r:null,g=bO((s=d.mode)!==null&&s!==void 0?s:null);Ae(f&&h&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=h,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=wO(e);try{return new Oh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return wa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Oh.parseLink(n);return Ae(r,"argument-error"),wa._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Lh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends $a{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends $a{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends $a{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){return Na(t,"POST","/v1/accounts:signUp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ir._fromIdTokenResponse(e,r,s),l=Pv(r);return new gi({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Pv(r);return new gi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Pv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Xr{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xu(e,n,r,s)}}function K_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xu._fromErrorAndOperation(t,o,e,r):o})}async function EO(t,e,n=!1){const r=await ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e,n=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(Kr(r));const s="reauthenticate";try{const o=await ao(t,K_(r,s,e,t),n);Ae(o.idToken,r,"internal-error");const l=Ih(o.idToken);Ae(l,r,"internal-error");const{sub:u}=l;return Ae(t.uid===u,r,"user-mismatch"),gi._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V_(t,e,n=!1){if(Ln(t.app))return Promise.reject(Kr(t));const r="signIn",s=await K_(t,r,e),o=await gi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function SO(t,e){return V_(Ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z_(t){const e=Ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TO(t,e,n){if(Ln(t.app))return Promise.reject(Kr(t));const r=Ms(t),l=await Rf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&z_(t),d}),u=await gi._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function kO(t,e,n){return Ln(t.app)?Promise.reject(Kr(t)):SO(En(t),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&z_(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e){return Qr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=En(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await ao(r,AO(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function IO(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function RO(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function yo(t,e,n,r){return En(t).onAuthStateChanged(e,n,r)}function PO(t){return En(t).signOut()}const Cu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cu,"1"),this.storage.removeItem(Cu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=1e3,LO=10;class J_ extends G_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);YP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,LO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J_.type="LOCAL";const NO=J_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends G_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y_.type="SESSION";const X_=Y_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Vu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async f=>f(n.origin,o)),d=await $O(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=Nh("",20);s.port1.start();const h=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const m=g;if(m.data.eventId===f)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(m.data.response);break;default:clearTimeout(h),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function MO(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function UO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FO(){return Q_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="firebaseLocalStorageDb",jO=1,Su="firebaseLocalStorage",eb="fbase_key";class Da{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zu(t,e){return t.transaction([Su],e?"readwrite":"readonly").objectStore(Su)}function HO(){const t=indexedDB.deleteDatabase(Z_);return new Da(t).toPromise()}function Pf(){const t=indexedDB.open(Z_,jO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Su,{keyPath:eb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Su)?e(r):(r.close(),await HO(),e(await Pf()))})})}async function Ov(t,e,n){const r=zu(t,!0).put({[eb]:e,value:n});return new Da(r).toPromise()}async function qO(t,e){const n=zu(t,!1).get(e),r=await new Da(n).toPromise();return r===void 0?null:r.value}function Lv(t,e){const n=zu(t,!0).delete(e);return new Da(n).toPromise()}const WO=800,KO=3;class tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vu._getInstance(FO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UO(),!this.activeServiceWorker)return;this.sender=new DO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pf();return await Ov(e,Cu,"1"),await Lv(e,Cu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ov(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=zu(s,!1).getAll();return new Da(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tb.type="LOCAL";const VO=tb;new La(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e){return e?qr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Ph{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zO(t){return V_(t.auth,new $h(t),t.bypassAuthState)}function GO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),CO(n,new $h(t),t.bypassAuthState)}async function JO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),EO(n,new $h(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zO;case"linkViaPopup":case"linkViaRedirect":return JO;case"reauthViaPopup":case"reauthViaRedirect":return GO;default:Yn(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new La(2e3,1e4);async function XO(t,e,n){if(Ln(t.app))return Promise.reject(ar(t,"operation-not-supported-in-this-environment"));const r=Ms(t);RP(t,e,Lh);const s=nb(r,n);return new oi(r,"signInViaPopup",e,s).executeNotNull()}class oi extends rb{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,oi.currentPopupAction&&oi.currentPopupAction.cancel(),oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}oi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="pendingRedirect",eu=new Map;class ZO extends rb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eu.get(this.auth._key());if(!e){try{const r=await eL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eu.set(this.auth._key(),e)}return this.bypassAuthState||eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eL(t,e){const n=rL(e),r=nL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tL(t,e){eu.set(t._key(),e)}function nL(t){return qr(t._redirectPersistence)}function rL(t){return Zl(QO,t.config.apiKey,t.name)}async function sL(t,e,n=!1){if(Ln(t.app))return Promise.reject(Kr(t));const r=Ms(t),s=nb(r,e),l=await new ZO(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=10*60*1e3;class oL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(e))}saveEventToCache(e){this.cachedEventUids.add(Nv(e)),this.lastProcessedEventTime=Date.now()}}function Nv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cL=/^https?/;async function dL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lL(t);for(const n of e)try{if(fL(n))return}catch{}Yn(t,"unauthorized-domain")}function fL(t){const e=Af(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!cL.test(n))return!1;if(uL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new La(3e4,6e4);function $v(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pL(t){return new Promise((e,n)=>{var r,s,o;function l(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(ar(t,"network-request-failed"))},timeout:hL.get()})}if(!((s=(r=br().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=br().gapi)===null||o===void 0)&&o.load)l();else{const u=iO("iframefcb");return br()[u]=()=>{gapi.load?l():n(ar(t,"network-request-failed"))},H_(`${sO()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw tu=null,e})}let tu=null;function gL(t){return tu=tu||pL(t),tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new La(5e3,15e3),vL="__/auth/iframe",yL="emulator/auth/iframe",_L={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wL(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ah(e,yL):`https://${t.config.authDomain}/${vL}`,r={apiKey:e.apiKey,appName:t.name,v:mo},s=bL.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Oa(r).slice(1)}`}async function xL(t){const e=await gL(t),n=br().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:wL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_L,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=ar(t,"network-request-failed"),u=br().setTimeout(()=>{o(l)},mL.get());function d(){br().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CL=500,SL=600,TL="_blank",kL="http://localhost";class Dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AL(t,e,n,r=CL,s=SL){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},EL),{width:r.toString(),height:s.toString(),top:o,left:l}),f=ln().toLowerCase();n&&(u=$_(f)?TL:n),L_(f)&&(e=e||kL,d.scrollbars="yes");const h=Object.entries(d).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(JP(f)&&u!=="_self")return IL(e||"",u),new Dv(null);const g=window.open(e||"",u,h);Ae(g,t,"popup-blocked");try{g.focus()}catch{}return new Dv(g)}function IL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="__/auth/handler",PL="emulator/auth/handler",OL=encodeURIComponent("fac");async function Mv(t,e,n,r,s,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:s};if(e instanceof Lh){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",m2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))l[h]=g}if(e instanceof $a){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(l.scopes=h.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const d=await t._getAppCheckToken(),f=d?`#${OL}=${encodeURIComponent(d)}`:"";return`${LL(t)}?${Oa(u).slice(1)}${f}`}function LL({config:t}){return t.emulator?Ah(t,PL):`https://${t.authDomain}/${RL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class NL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X_,this._completeRedirectFn=sL,this._overrideRedirectResult=tL}async _openPopup(e,n,r,s){var o;Gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Mv(e,n,r,Af(),s);return AL(e,l,Nh())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Mv(e,n,r,Af(),s);return MO(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Gr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xL(e),r=new oL(e);return n.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qd,{type:qd},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[qd];l!==void 0&&n(!!l),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F_()||N_()||Rh()}}const $L=NL;var Uv="@firebase/auth",Bv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UL(t){oo(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j_(t)},f=new tO(r,s,o,d);return dO(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new hi("auth-internal",e=>{const n=Ms(e.getProvider("auth").getImmediate());return(r=>new DL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(Uv,Bv,ML(t)),Is(Uv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=5*60,FL=v_("authIdTokenMaxAge")||BL;let Fv=null;const jL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FL)return;const s=n==null?void 0:n.token;Fv!==s&&(Fv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Rs(t=E_()){const e=Eh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cO(t,{popupRedirectResolver:$L,persistence:[VO,NO,X_]}),r=v_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=jL(o.toString());RO(n,l,()=>l(n.currentUser)),IO(n,u=>l(u))}}const s=g_("auth");return s&&fO(n,`http://${s}`),n}function HL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=ar("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",HL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UL("Browser");/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Gi=typeof document<"u";function ib(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ib(t.default)}const nt=Object.assign;function Wd(t,e){const n={};for(const r in e){const s=e[r];n[r]=ur(s)?s.map(t):t(s)}return n}const ia=()=>{},ur=Array.isArray,ob=/#/g,WL=/&/g,KL=/\//g,VL=/=/g,zL=/\?/g,ab=/\+/g,GL=/%5B/g,JL=/%5D/g,lb=/%5E/g,YL=/%60/g,ub=/%7B/g,XL=/%7C/g,cb=/%7D/g,QL=/%20/g;function Dh(t){return encodeURI(""+t).replace(XL,"|").replace(GL,"[").replace(JL,"]")}function ZL(t){return Dh(t).replace(ub,"{").replace(cb,"}").replace(lb,"^")}function Of(t){return Dh(t).replace(ab,"%2B").replace(QL,"+").replace(ob,"%23").replace(WL,"%26").replace(YL,"`").replace(ub,"{").replace(cb,"}").replace(lb,"^")}function e4(t){return Of(t).replace(VL,"%3D")}function t4(t){return Dh(t).replace(ob,"%23").replace(zL,"%3F")}function n4(t){return t==null?"":t4(t).replace(KL,"%2F")}function xa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const r4=/\/$/,s4=t=>t.replace(r4,"");function Kd(t,e,n="/"){let r,s={},o="",l="";const u=e.indexOf("#");let d=e.indexOf("?");return u<d&&u>=0&&(d=-1),d>-1&&(r=e.slice(0,d),o=e.slice(d+1,u>-1?u:e.length),s=t(o)),u>-1&&(r=r||e.slice(0,u),l=e.slice(u,e.length)),r=l4(r??e,n),{fullPath:r+(o&&"?")+o+l,path:r,query:s,hash:xa(l)}}function i4(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function o4(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&lo(e.matched[r],n.matched[s])&&db(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function lo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function db(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!a4(t[n],e[n]))return!1;return!0}function a4(t,e){return ur(t)?Hv(t,e):ur(e)?Hv(e,t):t===e}function Hv(t,e){return ur(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function l4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,l,u;for(l=0;l<r.length;l++)if(u=r[l],u!==".")if(u==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(l).join("/")}const fs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ea;(function(t){t.pop="pop",t.push="push"})(Ea||(Ea={}));var oa;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oa||(oa={}));function u4(t){if(!t)if(Gi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),s4(t)}const c4=/^[^#]+#/;function d4(t,e){return t.replace(c4,"#")+e}function f4(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Gu=()=>({left:window.scrollX,top:window.scrollY});function h4(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=f4(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function qv(t,e){return(history.state?history.state.position-e:-1)+t}const Lf=new Map;function p4(t,e){Lf.set(t,e)}function g4(t){const e=Lf.get(t);return Lf.delete(t),e}let m4=()=>location.protocol+"//"+location.host;function fb(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let u=s.includes(t.slice(o))?t.slice(o).length:1,d=s.slice(u);return d[0]!=="/"&&(d="/"+d),jv(d,"")}return jv(n,t)+r+s}function v4(t,e,n,r){let s=[],o=[],l=null;const u=({state:m})=>{const y=fb(t,location),x=n.value,S=e.value;let C=0;if(m){if(n.value=y,e.value=m,l&&l===x){l=null;return}C=S?m.position-S.position:0}else r(y);s.forEach(R=>{R(n.value,x,{delta:C,type:Ea.pop,direction:C?C>0?oa.forward:oa.back:oa.unknown})})};function d(){l=n.value}function f(m){s.push(m);const y=()=>{const x=s.indexOf(m);x>-1&&s.splice(x,1)};return o.push(y),y}function h(){const{history:m}=window;m.state&&m.replaceState(nt({},m.state,{scroll:Gu()}),"")}function g(){for(const m of o)m();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:d,listen:f,destroy:g}}function Wv(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Gu():null}}function y4(t){const{history:e,location:n}=window,r={value:fb(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(d,f,h){const g=t.indexOf("#"),m=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+d:m4()+t+d;try{e[h?"replaceState":"pushState"](f,"",m),s.value=f}catch(y){console.error(y),n[h?"replace":"assign"](m)}}function l(d,f){const h=nt({},e.state,Wv(s.value.back,d,s.value.forward,!0),f,{position:s.value.position});o(d,h,!0),r.value=d}function u(d,f){const h=nt({},s.value,e.state,{forward:d,scroll:Gu()});o(h.current,h,!0);const g=nt({},Wv(r.value,d,null),{position:h.position+1},f);o(d,g,!1),r.value=d}return{location:r,state:s,push:u,replace:l}}function _4(t){t=u4(t);const e=y4(t),n=v4(t,e.state,e.location,e.replace);function r(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=nt({location:"",base:t,go:r,createHref:d4.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function b4(t){return typeof t=="string"||t&&typeof t=="object"}function hb(t){return typeof t=="string"||typeof t=="symbol"}const pb=Symbol("");var Kv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Kv||(Kv={}));function uo(t,e){return nt(new Error,{type:t,[pb]:!0},e)}function $r(t,e){return t instanceof Error&&pb in t&&(e==null||!!(t.type&e))}const Vv="[^/]+?",w4={sensitive:!1,strict:!1,start:!0,end:!0},x4=/[.+*?^${}()[\]/\\]/g;function E4(t,e){const n=nt({},w4,e),r=[];let s=n.start?"^":"";const o=[];for(const f of t){const h=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let g=0;g<f.length;g++){const m=f[g];let y=40+(n.sensitive?.25:0);if(m.type===0)g||(s+="/"),s+=m.value.replace(x4,"\\$&"),y+=40;else if(m.type===1){const{value:x,repeatable:S,optional:C,regexp:R}=m;o.push({name:x,repeatable:S,optional:C});const N=R||Vv;if(N!==Vv){y+=10;try{new RegExp(`(${N})`)}catch($){throw new Error(`Invalid custom RegExp for param "${x}" (${N}): `+$.message)}}let P=S?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;g||(P=C&&f.length<2?`(?:/${P})`:"/"+P),C&&(P+="?"),s+=P,y+=20,C&&(y+=-8),S&&(y+=-20),N===".*"&&(y+=-50)}h.push(y)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function u(f){const h=f.match(l),g={};if(!h)return null;for(let m=1;m<h.length;m++){const y=h[m]||"",x=o[m-1];g[x.name]=y&&x.repeatable?y.split("/"):y}return g}function d(f){let h="",g=!1;for(const m of t){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const y of m)if(y.type===0)h+=y.value;else if(y.type===1){const{value:x,repeatable:S,optional:C}=y,R=x in f?f[x]:"";if(ur(R)&&!S)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const N=ur(R)?R.join("/"):R;if(!N)if(C)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${x}"`);h+=N}}return h||"/"}return{re:l,score:r,keys:o,parse:u,stringify:d}}function C4(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function gb(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=C4(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(zv(r))return 1;if(zv(s))return-1}return s.length-r.length}function zv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const S4={type:0,value:""},T4=/[a-zA-Z0-9_]/;function k4(t){if(!t)return[[]];if(t==="/")return[[S4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,r=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let u=0,d,f="",h="";function g(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:h,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function m(){f+=d}for(;u<t.length;){if(d=t[u++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(f&&g(),l()):d===":"?(g(),n=1):m();break;case 4:m(),n=r;break;case 1:d==="("?n=2:T4.test(d)?m():(g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&u--);break;case 2:d===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+d:n=3:h+=d;break;case 3:g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&u--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),g(),l(),s}function A4(t,e,n){const r=E4(k4(t.path),n),s=nt(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function I4(t,e){const n=[],r=new Map;e=Xv({strict:!1,end:!0,sensitive:!1},e);function s(g){return r.get(g)}function o(g,m,y){const x=!y,S=Jv(g);S.aliasOf=y&&y.record;const C=Xv(e,g),R=[S];if("alias"in g){const $=typeof g.alias=="string"?[g.alias]:g.alias;for(const E of $)R.push(Jv(nt({},S,{components:y?y.record.components:S.components,path:E,aliasOf:y?y.record:S})))}let N,P;for(const $ of R){const{path:E}=$;if(m&&E[0]!=="/"){const I=m.record.path,O=I[I.length-1]==="/"?"":"/";$.path=m.record.path+(E&&O+E)}if(N=A4($,m,C),y?y.alias.push(N):(P=P||N,P!==N&&P.alias.push(N),x&&g.name&&!Yv(N)&&l(g.name)),mb(N)&&d(N),S.children){const I=S.children;for(let O=0;O<I.length;O++)o(I[O],N,y&&y.children[O])}y=y||N}return P?()=>{l(P)}:ia}function l(g){if(hb(g)){const m=r.get(g);m&&(r.delete(g),n.splice(n.indexOf(m),1),m.children.forEach(l),m.alias.forEach(l))}else{const m=n.indexOf(g);m>-1&&(n.splice(m,1),g.record.name&&r.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function u(){return n}function d(g){const m=O4(g,n);n.splice(m,0,g),g.record.name&&!Yv(g)&&r.set(g.record.name,g)}function f(g,m){let y,x={},S,C;if("name"in g&&g.name){if(y=r.get(g.name),!y)throw uo(1,{location:g});C=y.record.name,x=nt(Gv(m.params,y.keys.filter(P=>!P.optional).concat(y.parent?y.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),g.params&&Gv(g.params,y.keys.map(P=>P.name))),S=y.stringify(x)}else if(g.path!=null)S=g.path,y=n.find(P=>P.re.test(S)),y&&(x=y.parse(S),C=y.record.name);else{if(y=m.name?r.get(m.name):n.find(P=>P.re.test(m.path)),!y)throw uo(1,{location:g,currentLocation:m});C=y.record.name,x=nt({},m.params,g.params),S=y.stringify(x)}const R=[];let N=y;for(;N;)R.unshift(N.record),N=N.parent;return{name:C,path:S,params:x,matched:R,meta:P4(R)}}t.forEach(g=>o(g));function h(){n.length=0,r.clear()}return{addRoute:o,resolve:f,removeRoute:l,clearRoutes:h,getRoutes:u,getRecordMatcher:s}}function Gv(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Jv(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:R4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function R4(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Yv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function P4(t){return t.reduce((e,n)=>nt(e,n.meta),{})}function Xv(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function O4(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;gb(t,e[o])<0?r=o:n=o+1}const s=L4(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function L4(t){let e=t;for(;e=e.parent;)if(mb(e)&&gb(t,e)===0)return e}function mb({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function N4(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(ab," "),l=o.indexOf("="),u=xa(l<0?o:o.slice(0,l)),d=l<0?null:xa(o.slice(l+1));if(u in e){let f=e[u];ur(f)||(f=e[u]=[f]),f.push(d)}else e[u]=d}return e}function Qv(t){let e="";for(let n in t){const r=t[n];if(n=e4(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ur(r)?r.map(o=>o&&Of(o)):[r&&Of(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function $4(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ur(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const D4=Symbol(""),Zv=Symbol(""),Ju=Symbol(""),Mh=Symbol(""),Nf=Symbol("");function jo(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ys(t,e,n,r,s,o=l=>l()){const l=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((u,d)=>{const f=m=>{m===!1?d(uo(4,{from:n,to:e})):m instanceof Error?d(m):b4(m)?d(uo(2,{from:e,to:m})):(l&&r.enterCallbacks[s]===l&&typeof m=="function"&&l.push(m),u())},h=o(()=>t.call(r&&r.instances[s],e,n,f));let g=Promise.resolve(h);t.length<3&&(g=g.then(f)),g.catch(m=>d(m))})}function Vd(t,e,n,r,s=o=>o()){const o=[];for(const l of t)for(const u in l.components){let d=l.components[u];if(!(e!=="beforeRouteEnter"&&!l.instances[u]))if(ib(d)){const h=(d.__vccOpts||d)[e];h&&o.push(ys(h,n,r,l,u,s))}else{let f=d();o.push(()=>f.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${u}" at "${l.path}"`);const g=qL(h)?h.default:h;l.mods[u]=h,l.components[u]=g;const y=(g.__vccOpts||g)[e];return y&&ys(y,n,r,l,u,s)()}))}}return o}function e0(t){const e=Gn(Ju),n=Gn(Mh),r=$e(()=>{const d=Fe(t.to);return e.resolve(d)}),s=$e(()=>{const{matched:d}=r.value,{length:f}=d,h=d[f-1],g=n.matched;if(!h||!g.length)return-1;const m=g.findIndex(lo.bind(null,h));if(m>-1)return m;const y=t0(d[f-2]);return f>1&&t0(h)===y&&g[g.length-1].path!==y?g.findIndex(lo.bind(null,d[f-2])):m}),o=$e(()=>s.value>-1&&F4(n.params,r.value.params)),l=$e(()=>s.value>-1&&s.value===n.matched.length-1&&db(n.params,r.value.params));function u(d={}){if(B4(d)){const f=e[Fe(t.replace)?"replace":"push"](Fe(t.to)).catch(ia);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:$e(()=>r.value.href),isActive:o,isExactActive:l,navigate:u}}function M4(t){return t.length===1?t[0]:t}const U4=go({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:e0,setup(t,{slots:e}){const n=xn(e0(t)),{options:r}=Gn(Ju),s=$e(()=>({[n0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[n0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&M4(e.default(n));return t.custom?o:ii("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Uh=U4;function B4(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function F4(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ur(s)||s.length!==r.length||r.some((o,l)=>o!==s[l]))return!1}return!0}function t0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const n0=(t,e,n)=>t??e??n,j4=go({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Gn(Nf),s=$e(()=>t.route||r.value),o=Gn(Zv,0),l=$e(()=>{let f=Fe(o);const{matched:h}=s.value;let g;for(;(g=h[f])&&!g.components;)f++;return f}),u=$e(()=>s.value.matched[l.value]);zl(Zv,$e(()=>l.value+1)),zl(D4,u),zl(Nf,s);const d=te();return Tt(()=>[d.value,u.value,t.name],([f,h,g],[m,y,x])=>{h&&(h.instances[g]=f,y&&y!==h&&f&&f===m&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),f&&h&&(!y||!lo(h,y)||!m)&&(h.enterCallbacks[g]||[]).forEach(S=>S(f))},{flush:"post"}),()=>{const f=s.value,h=t.name,g=u.value,m=g&&g.components[h];if(!m)return r0(n.default,{Component:m,route:f});const y=g.props[h],x=y?y===!0?f.params:typeof y=="function"?y(f):y:null,C=ii(m,nt({},x,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(g.instances[h]=null)},ref:d}));return r0(n.default,{Component:C,route:f})||C}}});function r0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const H4=j4;function q4(t){const e=I4(t.routes,t),n=t.parseQuery||N4,r=t.stringifyQuery||Qv,s=t.history,o=jo(),l=jo(),u=jo(),d=YA(fs);let f=fs;Gi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Wd.bind(null,Q=>""+Q),g=Wd.bind(null,n4),m=Wd.bind(null,xa);function y(Q,fe){let le,ye;return hb(Q)?(le=e.getRecordMatcher(Q),ye=fe):ye=Q,e.addRoute(ye,le)}function x(Q){const fe=e.getRecordMatcher(Q);fe&&e.removeRoute(fe)}function S(){return e.getRoutes().map(Q=>Q.record)}function C(Q){return!!e.getRecordMatcher(Q)}function R(Q,fe){if(fe=nt({},fe||d.value),typeof Q=="string"){const U=Kd(n,Q,fe.path),J=e.resolve({path:U.path},fe),Z=s.createHref(U.fullPath);return nt(U,J,{params:m(J.params),hash:xa(U.hash),redirectedFrom:void 0,href:Z})}let le;if(Q.path!=null)le=nt({},Q,{path:Kd(n,Q.path,fe.path).path});else{const U=nt({},Q.params);for(const J in U)U[J]==null&&delete U[J];le=nt({},Q,{params:g(U)}),fe.params=g(fe.params)}const ye=e.resolve(le,fe),Qe=Q.hash||"";ye.params=h(m(ye.params));const T=i4(r,nt({},Q,{hash:ZL(Qe),path:ye.path})),A=s.createHref(T);return nt({fullPath:T,hash:Qe,query:r===Qv?$4(Q.query):Q.query||{}},ye,{redirectedFrom:void 0,href:A})}function N(Q){return typeof Q=="string"?Kd(n,Q,d.value.path):nt({},Q)}function P(Q,fe){if(f!==Q)return uo(8,{from:fe,to:Q})}function $(Q){return O(Q)}function E(Q){return $(nt(N(Q),{replace:!0}))}function I(Q){const fe=Q.matched[Q.matched.length-1];if(fe&&fe.redirect){const{redirect:le}=fe;let ye=typeof le=="function"?le(Q):le;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=N(ye):{path:ye},ye.params={}),nt({query:Q.query,hash:Q.hash,params:ye.path!=null?{}:Q.params},ye)}}function O(Q,fe){const le=f=R(Q),ye=d.value,Qe=Q.state,T=Q.force,A=Q.replace===!0,U=I(le);if(U)return O(nt(N(U),{state:typeof U=="object"?nt({},Qe,U.state):Qe,force:T,replace:A}),fe||le);const J=le;J.redirectedFrom=fe;let Z;return!T&&o4(r,ye,le)&&(Z=uo(16,{to:J,from:ye}),Et(ye,ye,!0,!1)),(Z?Promise.resolve(Z):j(J,ye)).catch(G=>$r(G)?$r(G,2)?G:Cn(G):_e(G,J,ye)).then(G=>{if(G){if($r(G,2))return O(nt({replace:A},N(G.to),{state:typeof G.to=="object"?nt({},Qe,G.to.state):Qe,force:T}),fe||J)}else G=H(J,ye,!0,A,Qe);return he(J,ye,G),G})}function z(Q,fe){const le=P(Q,fe);return le?Promise.reject(le):Promise.resolve()}function q(Q){const fe=es.values().next().value;return fe&&typeof fe.runWithContext=="function"?fe.runWithContext(Q):Q()}function j(Q,fe){let le;const[ye,Qe,T]=W4(Q,fe);le=Vd(ye.reverse(),"beforeRouteLeave",Q,fe);for(const U of ye)U.leaveGuards.forEach(J=>{le.push(ys(J,Q,fe))});const A=z.bind(null,Q,fe);return le.push(A),Ut(le).then(()=>{le=[];for(const U of o.list())le.push(ys(U,Q,fe));return le.push(A),Ut(le)}).then(()=>{le=Vd(Qe,"beforeRouteUpdate",Q,fe);for(const U of Qe)U.updateGuards.forEach(J=>{le.push(ys(J,Q,fe))});return le.push(A),Ut(le)}).then(()=>{le=[];for(const U of T)if(U.beforeEnter)if(ur(U.beforeEnter))for(const J of U.beforeEnter)le.push(ys(J,Q,fe));else le.push(ys(U.beforeEnter,Q,fe));return le.push(A),Ut(le)}).then(()=>(Q.matched.forEach(U=>U.enterCallbacks={}),le=Vd(T,"beforeRouteEnter",Q,fe,q),le.push(A),Ut(le))).then(()=>{le=[];for(const U of l.list())le.push(ys(U,Q,fe));return le.push(A),Ut(le)}).catch(U=>$r(U,8)?U:Promise.reject(U))}function he(Q,fe,le){u.list().forEach(ye=>q(()=>ye(Q,fe,le)))}function H(Q,fe,le,ye,Qe){const T=P(Q,fe);if(T)return T;const A=fe===fs,U=Gi?history.state:{};le&&(ye||A?s.replace(Q.fullPath,nt({scroll:A&&U&&U.scroll},Qe)):s.push(Q.fullPath,Qe)),d.value=Q,Et(Q,fe,le,A),Cn()}let xe;function ae(){xe||(xe=s.listen((Q,fe,le)=>{if(!Xn.listening)return;const ye=R(Q),Qe=I(ye);if(Qe){O(nt(Qe,{replace:!0,force:!0}),ye).catch(ia);return}f=ye;const T=d.value;Gi&&p4(qv(T.fullPath,le.delta),Gu()),j(ye,T).catch(A=>$r(A,12)?A:$r(A,2)?(O(nt(N(A.to),{force:!0}),ye).then(U=>{$r(U,20)&&!le.delta&&le.type===Ea.pop&&s.go(-1,!1)}).catch(ia),Promise.reject()):(le.delta&&s.go(-le.delta,!1),_e(A,ye,T))).then(A=>{A=A||H(ye,T,!1),A&&(le.delta&&!$r(A,8)?s.go(-le.delta,!1):le.type===Ea.pop&&$r(A,20)&&s.go(-1,!1)),he(ye,T,A)}).catch(ia)}))}let se=jo(),ie=jo(),me;function _e(Q,fe,le){Cn(Q);const ye=ie.list();return ye.length?ye.forEach(Qe=>Qe(Q,fe,le)):console.error(Q),Promise.reject(Q)}function It(){return me&&d.value!==fs?Promise.resolve():new Promise((Q,fe)=>{se.add([Q,fe])})}function Cn(Q){return me||(me=!Q,ae(),se.list().forEach(([fe,le])=>Q?le(Q):fe()),se.reset()),Q}function Et(Q,fe,le,ye){const{scrollBehavior:Qe}=t;if(!Gi||!Qe)return Promise.resolve();const T=!le&&g4(qv(Q.fullPath,0))||(ye||!le)&&history.state&&history.state.scroll||null;return po().then(()=>Qe(Q,fe,T)).then(A=>A&&h4(A)).catch(A=>_e(A,Q,fe))}const Wt=Q=>s.go(Q);let Zr;const es=new Set,Xn={currentRoute:d,listening:!0,addRoute:y,removeRoute:x,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:S,resolve:R,options:t,push:$,replace:E,go:Wt,back:()=>Wt(-1),forward:()=>Wt(1),beforeEach:o.add,beforeResolve:l.add,afterEach:u.add,onError:ie.add,isReady:It,install(Q){const fe=this;Q.component("RouterLink",Uh),Q.component("RouterView",H4),Q.config.globalProperties.$router=fe,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>Fe(d)}),Gi&&!Zr&&d.value===fs&&(Zr=!0,$(s.location).catch(Qe=>{}));const le={};for(const Qe in fs)Object.defineProperty(le,Qe,{get:()=>d.value[Qe],enumerable:!0});Q.provide(Ju,fe),Q.provide(Mh,Ey(le)),Q.provide(Nf,d);const ye=Q.unmount;es.add(Q),Q.unmount=function(){es.delete(Q),es.size<1&&(f=fs,xe&&xe(),xe=null,d.value=fs,Zr=!1,me=!1),ye()}}};function Ut(Q){return Q.reduce((fe,le)=>fe.then(()=>q(le)),Promise.resolve())}return Xn}function W4(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const u=e.matched[l];u&&(t.matched.find(f=>lo(f,u))?r.push(u):n.push(u));const d=t.matched[l];d&&(e.matched.find(f=>lo(f,d))||s.push(d))}return[n,r,s]}function xr(){return Gn(Ju)}function _o(t){return Gn(Mh)}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let vb;const Yu=t=>vb=t,yb=Symbol();function $f(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var aa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(aa||(aa={}));function K4(){const t=ay(!0),e=t.run(()=>te({}));let n=[],r=[];const s=gh({install(o){Yu(s),s._a=o,o.provide(yb,s),o.config.globalProperties.$pinia=s,r.forEach(l=>n.push(l)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const _b=()=>{};function s0(t,e,n,r=_b){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&ly()&&RA(s),s}function Di(t,...e){t.slice().forEach(n=>{n(...e)})}const V4=t=>t(),i0=Symbol(),zd=Symbol();function Df(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];$f(s)&&$f(r)&&t.hasOwnProperty(n)&&!kt(r)&&!Ts(r)?t[n]=Df(s,r):t[n]=r}return t}const z4=Symbol();function G4(t){return!$f(t)||!Object.prototype.hasOwnProperty.call(t,z4)}const{assign:hs}=Object;function J4(t){return!!(kt(t)&&t.effect)}function Y4(t,e,n,r){const{state:s,actions:o,getters:l}=e,u=n.state.value[t];let d;function f(){u||(n.state.value[t]=s?s():{});const h=ZA(n.state.value[t]);return hs(h,o,Object.keys(l||{}).reduce((g,m)=>(g[m]=gh($e(()=>{Yu(n);const y=n._s.get(t);return l[m].call(y,y)})),g),{}))}return d=bb(t,f,e,n,r,!0),d}function bb(t,e,n={},r,s,o){let l;const u=hs({actions:{}},n),d={deep:!0};let f,h,g=[],m=[],y;const x=r.state.value[t];!o&&!x&&(r.state.value[t]={}),te({});let S;function C(z){let q;f=h=!1,typeof z=="function"?(z(r.state.value[t]),q={type:aa.patchFunction,storeId:t,events:y}):(Df(r.state.value[t],z),q={type:aa.patchObject,payload:z,storeId:t,events:y});const j=S=Symbol();po().then(()=>{S===j&&(f=!0)}),h=!0,Di(g,q,r.state.value[t])}const R=o?function(){const{state:q}=n,j=q?q():{};this.$patch(he=>{hs(he,j)})}:_b;function N(){l.stop(),g=[],m=[],r._s.delete(t)}const P=(z,q="")=>{if(i0 in z)return z[zd]=q,z;const j=function(){Yu(r);const he=Array.from(arguments),H=[],xe=[];function ae(me){H.push(me)}function se(me){xe.push(me)}Di(m,{args:he,name:j[zd],store:E,after:ae,onError:se});let ie;try{ie=z.apply(this&&this.$id===t?this:E,he)}catch(me){throw Di(xe,me),me}return ie instanceof Promise?ie.then(me=>(Di(H,me),me)).catch(me=>(Di(xe,me),Promise.reject(me))):(Di(H,ie),ie)};return j[i0]=!0,j[zd]=q,j},$={_p:r,$id:t,$onAction:s0.bind(null,m),$patch:C,$reset:R,$subscribe(z,q={}){const j=s0(g,z,q.detached,()=>he()),he=l.run(()=>Tt(()=>r.state.value[t],H=>{(q.flush==="sync"?h:f)&&z({storeId:t,type:aa.direct,events:y},H)},hs({},d,q)));return j},$dispose:N},E=xn($);r._s.set(t,E);const O=(r._a&&r._a.runWithContext||V4)(()=>r._e.run(()=>(l=ay()).run(()=>e({action:P}))));for(const z in O){const q=O[z];if(kt(q)&&!J4(q)||Ts(q))o||(x&&G4(q)&&(kt(q)?q.value=x[z]:Df(q,x[z])),r.state.value[t][z]=q);else if(typeof q=="function"){const j=P(q,z);O[z]=j,u.actions[z]=q}}return hs(E,O),hs(Le(E),O),Object.defineProperty(E,"$state",{get:()=>r.state.value[t],set:z=>{C(q=>{hs(q,z)})}}),r._p.forEach(z=>{hs(E,l.run(()=>z({store:E,app:r._a,pinia:r,options:u})))}),x&&o&&n.hydrate&&n.hydrate(E.$state,x),f=!0,h=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Xu(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function o(l,u){const d=NI();return l=l||(d?Gn(yb,null):null),l&&Yu(l),l=vb,l._s.has(t)||(s?bb(t,e,r,l):Y4(t,r,l)),l._s.get(t)}return o.$id=t,o}const X4="modulepreload",Q4=function(t){return"/"+t},o0={},Ma=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=Q4(d),d in o0)return;o0[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":X4,f||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},Z4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ma(async()=>{const{default:r}=await Promise.resolve().then(()=>bo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bh extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class eN extends Bh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tN extends Bh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nN extends Bh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mf||(Mf={}));var rN=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};class sN{constructor(e,{headers:n={},customFetch:r,region:s=Mf.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Z4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return rN(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=n;let u={},{region:d}=n;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let f;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f}).catch(x=>{throw new eN(x)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new tN(h);if(!h.ok)throw new nN(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield h.json():m==="application/octet-stream"?y=yield h.blob():m==="text/event-stream"?y=h:m==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Nt={},Mi={},Ui={},Bi={},Fi={},ji={},aN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},co=aN();const lN=co.fetch,wb=co.fetch.bind(co),xb=co.Headers,uN=co.Request,cN=co.Response,bo=Object.freeze(Object.defineProperty({__proto__:null,Headers:xb,Request:uN,Response:cN,default:wb,fetch:lN},Symbol.toStringTag,{value:"Module"})),dN=oN(bo);var Ul={},a0;function Eb(){if(a0)return Ul;a0=1,Object.defineProperty(Ul,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ul.default=t,Ul}var l0;function Cb(){if(l0)return ji;l0=1;var t=ji&&ji.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ji,"__esModule",{value:!0});const e=t(dN),n=t(Eb());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,g,m;let y=null,x=null,S=null,C=f.status,R=f.statusText;if(f.ok){if(this.method!=="HEAD"){const E=await f.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=E:x=JSON.parse(E))}const P=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),$=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");P&&$&&$.length>1&&(S=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(y={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,S=null,C=406,R="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const P=await f.text();try{y=JSON.parse(P),Array.isArray(y)&&f.status===404&&(x=[],y=null,C=200,R="OK")}catch{f.status===404&&P===""?(C=204,R="No Content"):y={message:P}}if(y&&this.isMaybeSingle&&(!((m=y==null?void 0:y.details)===null||m===void 0)&&m.includes("0 rows"))&&(y=null,C=200,R="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:x,count:S,status:C,statusText:R}});return this.shouldThrowOnError||(d=d.catch(f=>{var h,g,m;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(m=f==null?void 0:f.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return ji.default=r,ji}var u0;function Sb(){if(u0)return Fi;u0=1;var t=Fi&&Fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fi,"__esModule",{value:!0});const e=t(Cb());class n extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var h;const g=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${m}"; options=${g};`,f==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Fi.default=n,Fi}var c0;function Fh(){if(c0)return Bi;c0=1;var t=Bi&&Bi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bi,"__esModule",{value:!0});const e=t(Sb());class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${d}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return Bi.default=n,Bi}var d0;function Tb(){if(d0)return Ui;d0=1;var t=Ui&&Ui.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ui,"__esModule",{value:!0});const e=t(Fh());class n{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=o,this.schema=l,this.fetch=u}select(s,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:o,defaultToNull:l=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const f=s.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){const f="POST",h=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(s)){const g=s.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const o="DELETE",l=[];return s&&l.push(`count=${s}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ui.default=n,Ui}var Ho={},qo={},f0;function fN(){return f0||(f0=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.version=void 0,qo.version="0.0.0-automated"),qo}var h0;function hN(){if(h0)return Ho;h0=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.DEFAULT_HEADERS=void 0;const t=fN();return Ho.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Ho}var p0;function pN(){if(p0)return Mi;p0=1;var t=Mi&&Mi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Mi,"__esModule",{value:!0});const e=t(Tb()),n=t(Fh()),r=hN();class s{constructor(l,{headers:u={},schema:d,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:f=!1,count:h}={}){let g;const m=new URL(`${this.url}/rpc/${l}`);let y;d||f?(g=d?"HEAD":"GET",Object.entries(u).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{m.searchParams.append(S,C)})):(g="POST",y=u);const x=Object.assign({},this.headers);return h&&(x.Prefer=`count=${h}`),new n.default({method:g,url:m,headers:x,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Mi.default=s,Mi}var g0;function gN(){if(g0)return Nt;g0=1;var t=Nt&&Nt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const e=t(pN());Nt.PostgrestClient=e.default;const n=t(Tb());Nt.PostgrestQueryBuilder=n.default;const r=t(Fh());Nt.PostgrestFilterBuilder=r.default;const s=t(Sb());Nt.PostgrestTransformBuilder=s.default;const o=t(Cb());Nt.PostgrestBuilder=o.default;const l=t(Eb());return Nt.PostgrestError=l.default,Nt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},Nt}var mN=gN();const vN=iN(mN),{PostgrestClient:yN,PostgrestQueryBuilder:$F,PostgrestFilterBuilder:DF,PostgrestTransformBuilder:MF,PostgrestBuilder:UF,PostgrestError:BF}=vN;let Uf;typeof window>"u"?Uf=require("ws"):Uf=window.WebSocket;const _N="2.11.10",bN={"X-Client-Info":`realtime-js/${_N}`},wN="1.0.0",kb=1e4,xN=1e3;var no;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(no||(no={}));var rn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rn||(rn={}));var sr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(sr||(sr={}));var Bf;(function(t){t.websocket="websocket"})(Bf||(Bf={}));var si;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(si||(si={}));class EN{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class Ab{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(dt||(dt={}));const m0=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,l)=>(o[l]=CN(l,t,e,s),o),{})},CN=(t,e,n,r)=>{const s=e.find(u=>u.name===t),o=s==null?void 0:s.type,l=n[t];return o&&!r.includes(o)?Ib(o,l):Ff(l)},Ib=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return AN(e,n)}switch(t){case dt.bool:return SN(e);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return TN(e);case dt.json:case dt.jsonb:return kN(e);case dt.timestamp:return IN(e);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return Ff(e);default:return Ff(e)}},Ff=t=>t,SN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},AN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Ib(e,u))}return t},IN=t=>typeof t=="string"?t.replace(" ","T"):t,Rb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Gd{constructor(e,n,r={},s=kb){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var v0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(v0||(v0={}));class la{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=la.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=la.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=la.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),l=this.transformState(n),u={},d={};return this.map(o,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const g=o[f];if(g){const m=h.map(C=>C.presence_ref),y=g.map(C=>C.presence_ref),x=h.filter(C=>y.indexOf(C.presence_ref)<0),S=g.filter(C=>m.indexOf(C.presence_ref)<0);x.length>0&&(u[f]=x),S.length>0&&(d[f]=S)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:d},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,d)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),h.length>0){const g=e[u].map(y=>y.presence_ref),m=h.filter(y=>g.indexOf(y.presence_ref)<0);e[u].unshift(...m)}r(u,h,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const h=d.map(g=>g.presence_ref);f=f.filter(g=>h.indexOf(g.presence_ref)<0),e[u]=f,s(u,f,d),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(y0||(y0={}));var _0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_0||(_0={}));var Ur;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ur||(Ur={}));class jh{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gd(this,sr.join,this.params,this.timeout),this.rejoinTimer=new Ab(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new la(this),this.broadcastEndpointURL=Rb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(h=>e==null?void 0:e(Ur.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ur.CLOSED));const d={},f={broadcast:o,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(Ur.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,x=[];for(let S=0;S<y;S++){const C=m[S],{filter:{event:R,schema:N,table:P,filter:$}}=C,E=h&&h[S];if(E&&E.event===R&&E.schema===N&&E.table===P&&E.filter===$)x.push(Object.assign(Object.assign({},C),{id:E.id}));else{this.unsubscribe(),this.state=rn.errored,e==null||e(Ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Ur.SUBSCRIBED);return}}).receive("error",h=>{this.state=rn.errored,e==null||e(Ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Gd(this,sr.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gd(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=sr;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let m=this._onMessage(l,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,S,C;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(S=y.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(y=>y.callback(m,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var x,S,C,R,N,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const $=y.id,E=(x=y.filter)===null||x===void 0?void 0:x.event;return $&&((S=n.ids)===null||S===void 0?void 0:S.includes($))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const $=(N=(R=y==null?void 0:y.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return $==="*"||$===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:S,table:C,commit_timestamp:R,type:N,errors:P}=x;m=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:R,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(x))}y.callback(m,r)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&jh.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sr.close,{},e)}_onError(e){this._on(sr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=m0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=m0(e.columns,e.old_record)),n}}const b0=()=>{},RN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PN{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=bN,this.params={},this.timeout=kb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=b0,this.ref=0,this.logger=b0,this.conn=null,this.sendBuffer=[],this.serializer=new EN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>Ma(async()=>{const{default:d}=await Promise.resolve().then(()=>bo);return{default:d}},void 0).then(({default:d})=>d(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${Bf.websocket}`,this.httpEndpoint=Rb(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,l)=>l(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ab(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Uf),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new ON(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wN}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case no.connecting:return si.Connecting;case no.open:return si.Open;case no.closing:return si.Closing;default:return si.Closed}}isConnected(){return this.connectionState()===si.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new jh(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(sr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(xN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:o,ref:l}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(sr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([RN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class ON{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=no.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}let Hh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function $t(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class LN extends Hh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jf extends Hh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var NN=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};const Pb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ma(async()=>{const{default:r}=await Promise.resolve().then(()=>bo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$N=()=>NN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ma(()=>Promise.resolve().then(()=>bo),void 0)).Response:Response}),Hf=t=>{if(Array.isArray(t))return t.map(n=>Hf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Hf(r)}),e};var yi=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};const Jd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DN=(t,e,n)=>yi(void 0,void 0,void 0,function*(){const r=yield $N();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new LN(Jd(s),t.status||500))}).catch(s=>{e(new jf(Jd(s),s))}):e(new jf(Jd(t),t))}),MN=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ua(t,e,n,r,s,o){return yi(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,MN(e,r,s,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>DN(d,u,r))})})}function Tu(t,e,n,r){return yi(this,void 0,void 0,function*(){return Ua(t,"GET",e,n,r)})}function _s(t,e,n,r,s){return yi(this,void 0,void 0,function*(){return Ua(t,"POST",e,r,s,n)})}function UN(t,e,n,r,s){return yi(this,void 0,void 0,function*(){return Ua(t,"PUT",e,r,s,n)})}function BN(t,e,n,r){return yi(this,void 0,void 0,function*(){return Ua(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ob(t,e,n,r,s){return yi(this,void 0,void 0,function*(){return Ua(t,"DELETE",e,r,s,n)})}var vn=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};const FN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},w0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jN{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Pb(s)}uploadOrUpdate(e,n,r,s){return vn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},w0),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),g=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield g.json();return g.ok?{data:{path:f,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if($t(o))return{data:null,error:o};throw o}})}upload(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return vn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:w0.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const g=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:h}),m=yield g.json();return g.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(d){if($t(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return vn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield _s(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new Hh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}update(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}copy(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:{path:(yield _s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return vn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield _s(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return vn(this,void 0,void 0,function*(){try{const s=yield _s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}download(e,n){return vn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Tu(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if($t(u))return{data:null,error:u};throw u}})}info(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Tu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hf(r),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}exists(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield BN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($t(r)&&r instanceof jf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return vn(this,void 0,void 0,function*(){try{return{data:yield Ob(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}list(e,n,r){return vn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},FN),n),{prefix:e||""});return{data:yield _s(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const HN="2.7.1",qN={"X-Client-Info":`storage-js/${HN}`};var Hi=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};class WN{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},qN),n),this.fetch=Pb(r)}listBuckets(){return Hi(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if($t(e))return{data:null,error:e};throw e}})}getBucket(e){return Hi(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Hi(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Hi(this,void 0,void 0,function*(){try{return{data:yield UN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Hi(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Hi(this,void 0,void 0,function*(){try{return{data:yield Ob(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}}class KN extends WN{constructor(e,n={},r){super(e,n,r)}from(e){return new jN(this.url,this.headers,e,this.fetch)}}const VN="2.50.0";let Jo="";typeof Deno<"u"?Jo="deno":typeof document<"u"?Jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jo="react-native":Jo="node";const zN={"X-Client-Info":`supabase-js-${Jo}/${VN}`},GN={headers:zN},JN={schema:"public"},YN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XN={};var QN=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};const ZN=t=>{let e;return t?e=t:typeof fetch>"u"?e=wb:e=fetch,(...n)=>e(...n)},e$=()=>typeof Headers>"u"?xb:Headers,t$=(t,e,n)=>{const r=ZN(n),s=e$();return(o,l)=>QN(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:t;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var n$=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};function r$(t){return t.endsWith("/")?t:t+"/"}function s$(t,e){var n,r;const{db:s,auth:o,realtime:l,global:u}=t,{db:d,auth:f,realtime:h,global:g}=e,m={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},h),l),global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>n$(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Lb="2.70.0",Ji=30*1e3,qf=3,Yd=qf*Ji,i$="http://localhost:9999",o$="supabase.auth.token",a$={"X-Client-Info":`gotrue-js/${Lb}`},Wf="X-Supabase-Api-Version",Nb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u$=6e5;class qh extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class c$ extends qh{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function d$(t){return Me(t)&&t.name==="AuthApiError"}class $b extends qh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Us extends qh{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ps extends Us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f$(t){return Me(t)&&t.name==="AuthSessionMissingError"}class Bl extends Us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fl extends Us{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jl extends Us{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h$(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}class x0 extends Us{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kf extends Us{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xd(t){return Me(t)&&t.name==="AuthRetryableFetchError"}class E0 extends Us{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ua extends Us{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C0=` 	
\r=`.split(""),p$=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<C0.length;e+=1)t[C0[e].charCodeAt(0)]=-2;for(let e=0;e<ku.length;e+=1)t[ku[e].charCodeAt(0)]=e;return t})();function S0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ku[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ku[r]),e.queuedBits-=6}}function Db(t,e,n){const r=p$[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function T0(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{v$(l,r,n)};for(let l=0;l<t.length;l+=1)Db(t.charCodeAt(l),s,o);return e.join("")}function g$(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function m$(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}g$(r,e)}}function v$(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function y$(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Db(t.charCodeAt(s),n,r);return new Uint8Array(e)}function _$(t){const e=[];return m$(t,n=>e.push(n)),new Uint8Array(e)}function b$(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>S0(s,n,r)),S0(null,n,r),e.join("")}function w$(t){return Math.round(Date.now()/1e3)+t}function x$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nr=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},ca=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function E$(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Mb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ma(async()=>{const{default:r}=await Promise.resolve().then(()=>bo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},C$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ub=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ql=async(t,e)=>{await t.removeItem(e)};class Qu{constructor(){this.promise=new Qu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Qu.promiseConstructor=Promise;function Qd(t){const e=t.split(".");if(e.length!==3)throw new ua("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!l$.test(e[r]))throw new ua("JWT not in base64url format");return{header:JSON.parse(T0(e[0])),payload:JSON.parse(T0(e[1])),signature:y$(e[2]),raw:{header:e[0],payload:e[1]}}}async function S$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function T$(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function k$(t){return("0"+t.toString(16)).substr(-2)}function A$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,k$).join("")}async function I$(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function R$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await I$(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qi(t,e,n=!1){const r=A$();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ub(t,`${e}-code-verifier`,s);const o=await R$(r);return[o,r===o?"plain":"s256"]}const P$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O$(t){const e=t.headers.get(Wf);if(!e||!e.match(P$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function L$(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function N$(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wi(t){if(!$$.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var D$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const ni=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),M$=[502,503,504];async function k0(t){var e;if(!C$(t))throw new Kf(ni(t),0);if(M$.includes(t.status))throw new Kf(ni(t),t.status);let n;try{n=await t.json()}catch(o){throw new $b(ni(o),o)}let r;const s=O$(t);if(s&&s.getTime()>=Nb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new E0(ni(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ps}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new E0(ni(n),t.status,n.weak_password.reasons);throw new c$(ni(n),t.status||500,r)}const U$=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function We(t,e,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Wf]||(o[Wf]=Nb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await B$(t,e,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function B$(t,e,n,r,s,o){const l=U$(e,r,s,o);let u;try{u=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new Kf(ni(d),0)}if(u.ok||await k0(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await k0(d)}}function Dr(t){var e;let n=null;q$(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=w$(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function A0(t){const e=Dr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Es(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function F$(t){return{data:t,error:null}}function j$(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,l=D$(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function H$(t){return t}function q$(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zd=["global","local","others"];var W$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class K${constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Mb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Zd[0]){if(Zd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zd.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Es})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=W$(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:j$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Es})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:H$});if(h.error)throw h.error;const g=await h.json(),m=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(m)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Me(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Wi(e);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Es})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Wi(e);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Es})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Wi(e);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Es})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Wi(e.userId);try{const{data:n,error:r}=await We(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Wi(e.userId),Wi(e.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}const V$={getItem:t=>ca()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ca()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ca()&&globalThis.localStorage.removeItem(t)}};function I0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function z$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ki={debug:!!(globalThis&&ca()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class G$ extends Bb{}async function J$(t,e,n){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new G$(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ki.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}z$();const Y$={url:i$,storageKey:o$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function R0(t,e,n){return await n()}class Ca{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ca.nextInstanceID,Ca.nextInstanceID+=1,this.instanceID>0&&nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Y$),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new K$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Mb(s.fetch),this.lock=s.lock||R0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=J$:this.lock=R0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ca()?this.storage=V$:(this.memoryStorage={},this.storage=I0(this.memoryStorage)):(this.memoryStorage={},this.storage=I0(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=E$(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),h$(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Me(n)?{error:n}:{error:new $b("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:h,password:g,options:m}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await qi(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:x},xform:Dr})}else if("phone"in e){const{phone:h,password:g,options:m}=e;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Dr})}else throw new Fl("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:u}=e;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:A0})}else if("phone"in e){const{phone:o,password:l,options:u}=e;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:A0})}else throw new Fl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,o,l,u,d,f,h,g,m,y;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:C,wallet:R,statement:N,options:P}=e;let $;if(nr())if(typeof R=="object")$=R;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))$=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=R}const E=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const I=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),N?{statement:N}:null));let O;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")O=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)O=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),S=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=P==null?void 0:P.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((g=(h=P==null?void 0:P.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...P.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const I=await $.signMessage(new TextEncoder().encode(x),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:C,error:R}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:b$(S)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Dr});if(R)throw R;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Bl}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:R})}catch(C){if(Me(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:l}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Dr});if(await ql(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Bl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(Me(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=e,u=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dr}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Bl}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,o,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await qi(this.storage,this.storageKey));const{error:g}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:h}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Fl("You must provide either an email or phone number.")}catch(u){if(Me(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Dr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await qi(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:F$})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ps;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:l}=await We(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:l,error:u}=await We(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Fl("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Yd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,h)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,h))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Es}):await this._useSession(async n=>{var r,s,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Es})})}catch(n){if(Me(n))return f$(n)&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ps;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await qi(this.storage,this.storageKey));const{data:f,error:h}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Es});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ps;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=Qd(e.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ps;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!nr())throw new jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new x0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x0("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!o||!u||!l||!f)throw new jl("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let m=h+g;d&&(m=parseInt(d));const y=m-h;y*1e3<=Ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const x=m-g;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,h);const{data:S,error:C}=await this._getUser(o);if(C)throw C;const R={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:m,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(Me(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(d$(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=x$(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await qi(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,u,d,f,h;const{data:g,error:m}=o;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return nr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Me(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await T$(async s=>(s>0&&await S$(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&Xd(o)&&Date.now()+l-r<Ji})}catch(r){if(this._debug(n,"error",r),Me(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Hl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Yd;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Yd}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Xd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qu;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new ps;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Me(o)){const l={session:null,error:o};return Xd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ub(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ql(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ji);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ji}ms, refresh threshold is ${qf} ticks`),s<=qf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await qi(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:f}=await We(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:u}=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Qd(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r||(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+u$>Date.now()))return r;const{data:s,error:o}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ua("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(l=>l.kid===e),!r)throw new ua("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};r=y.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:d}}=Qd(r);if(L$(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:s,signature:l},error:null}}const f=N$(s.alg),h=await this.fetchJwk(s.kid,n),g=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,g,l,_$(`${u}.${d}`)))throw new ua("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}}Ca.nextInstanceID=0;const X$=Ca;class Q$ extends X${constructor(e){super(e)}}var Z$=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):s(h.value).then(u,d)}f((r=r.apply(t,e||[])).next())})};class eD{constructor(e,n,r){var s,o,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=r$(e),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:JN,realtime:XN,auth:Object.assign(Object.assign({},YN),{storageKey:f}),global:GN},g=s$(r??{},h);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=t$(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new yN(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new sN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new KN(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Z$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:l,lock:u,debug:d},f,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q$({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:u,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new PN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tD=(t,e,n)=>new eD(t,e,n),nD="https://lpdbupezactldtxjsnjn.supabase.co",rD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxwZGJ1cGV6YWN0bGR0eGpzbmpuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzNjYyMjIsImV4cCI6MjA2NDk0MjIyMn0.L-RBsTTTDtYdAOtDtQwyQFJC9viuEuGXehyd8cHXPzA",Yt=tD(nD,rD),Ba=Xu("country",{state:()=>({countries:[],loading:!1,error:null}),actions:{async getCountry(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await Yt.from("movies").select("country");if(e)throw e;let n=new Set;t&&t.forEach(r=>{r.country&&Array.isArray(r.country)&&r.country.forEach(s=>{typeof s=="string"&&s.trim()!==""&&n.add(s.trim())})}),this.countries=Array.from(n).map(r=>({name:r,slug:r.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((r,s)=>r.name.localeCompare(s.name)),console.log("Country Store:  ti countries t Supabase (t bng movies):",this.countries)}catch(t){console.error("Error fetching countries from Supabase (from movies table):",t.message),this.error=t.message,this.countries=[]}finally{this.loading=!1}}},getters:{getAllCountries:t=>t.countries,filterCountries:t=>e=>e?t.countries.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())):t.countries,getLoading:t=>t.loading,getError:t=>t.error}}),Fa=Xu("category",{state:()=>({categories:[],loading:!1,error:null}),actions:{async getCategory(){this.loading=!0,this.error=null,console.log("CategoryStore: Bt u fetch genres t bng movies...");try{const{data:t,error:e}=await Yt.from("movies").select("genres");if(e)throw e;let n=new Set;t&&t.forEach(r=>{r.genres&&Array.isArray(r.genres)&&r.genres.forEach(s=>{typeof s=="string"&&s.trim()!==""&&n.add(s.trim())})}),this.categories=Array.from(n).map(r=>({name:r,slug:r.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((r,s)=>r.name.localeCompare(s.name)),console.log("CategoryStore: Genres fetched thnh cng (t bng movies). S lng:",this.categories.length,"D liu:",this.categories)}catch(t){this.error=t.message,console.error("CategoryStore: Li khi fetch genres (t bng movies):",t.message)}finally{this.loading=!1,console.log("CategoryStore: Kt thc fetch genres. Loading:",this.loading)}}},getters:{getAllCategories:t=>t.categories,getLoading:t=>t.loading,getError:t=>t.error}}),sD=Xu("movie",{state:()=>({movies:[],loading:!1,error:null}),actions:{async searchMovies(t){if(!t.trim()){this.movies=[],this.error=null;return}this.loading=!0,this.error=null;try{const{data:e,error:n}=await Yt.from("movies").select("title, original_title, poster_path, slug").or(`title.ilike.%${t}%,original_title.ilike.%${t}%`);if(n)throw n;this.movies=e.map(r=>({name:r.title||r.original_title||"Unknown",slug:r.slug||"",thumb_url:r.poster_path||"https://placehold.co/40x40/ccc/fff?text=No+Img"})),console.log("SEARCH MOVIES (Pinia - Supabase):",{query:t,supabaseResponseData:e,mappedMovies:this.movies})}catch(e){console.error("Error searching movies from Supabase:",e.message),this.error=e.message,this.movies=[]}finally{this.loading=!1}}},getters:{getMovies:t=>t.movies,getLoading:t=>t.loading,getError:t=>t.error}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebasestorage.googleapis.com",jb="storageBucket",iD=2*60*1e3,oD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends Xr{constructor(e,n,r=0){super(ef(e),`Firebase Storage: ${n} (${ef(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ef(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function ef(t){return"storage/"+t}function Wh(){const t="An unknown error occurred, please check the error payload for server response.";return new xt(wt.UNKNOWN,t)}function aD(t){return new xt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lD(t){return new xt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(wt.UNAUTHENTICATED,t)}function cD(){return new xt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dD(t){return new xt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fD(){return new xt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hD(){return new xt(wt.CANCELED,"User canceled the upload/download.")}function pD(t){return new xt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function gD(t){return new xt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mD(){return new xt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jb+"' property when initializing the app?")}function vD(){return new xt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yD(){return new xt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _D(t){return new xt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vf(t){return new xt(wt.INVALID_ARGUMENT,t)}function Hb(){return new xt(wt.APP_DELETED,"The Firebase app was deleted.")}function bD(t){return new xt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function da(t,e){return new xt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wo(t){throw new xt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(r.path==="")return r;throw gD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const h="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${h}/b/${s}/o${m}`,"i"),x={bucket:1,path:3},S=n===Fb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",R=new RegExp(`^https?://${S}/${s}/${C}`,"i"),P=[{regex:u,indices:d,postModify:o},{regex:y,indices:x,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<P.length;$++){const E=P[$],I=E.regex.exec(e);if(I){const O=I[E.indices.bucket];let z=I[E.indices.path];z||(z=""),r=new $n(O,z),E.postModify(r);break}}if(r==null)throw pD(e);return r}}class wD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e,n){let r=1,s=null,o=null,l=!1,u=0;function d(){return u===2}let f=!1;function h(...C){f||(f=!0,e.apply(null,C))}function g(C){s=setTimeout(()=>{s=null,t(y,d())},C)}function m(){o&&clearTimeout(o)}function y(C,...R){if(f){m();return}if(C){m(),h.call(null,C,...R);return}if(d()||l){m(),h.call(null,C,...R);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,g(P)}let x=!1;function S(C){x||(x=!0,m(),!f&&(s!==null?(C||(u=2),clearTimeout(s),g(0)):C||(u=1)))}return g(0),o=setTimeout(()=>{l=!0,S(!0)},n),S}function ED(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){return t!==void 0}function SD(t){return typeof t=="object"&&!Array.isArray(t)}function Kh(t){return typeof t=="string"||t instanceof String}function P0(t){return Vh()&&t instanceof Blob}function Vh(){return typeof Blob<"u"}function O0(t,e,n,r){if(r<e)throw Vf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Vf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ci;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ci||(ci={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,s,o,l,u,d,f,h,g,m=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=g,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,S)=>{this.resolve_=x,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===ci.NO_ERROR,d=o.getStatus();if(!u||TD(d,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===ci.ABORT;r(!1,new Wl(!1,null,h));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Wl(f,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());CD(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=Wh();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?Hb():hD();l(d)}else{const d=fD();l(d)}};this.canceled_?n(!1,new Wl(!1,null,!0)):this.backoffId_=xD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ED(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function AD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ID(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OD(t,e,n,r,s,o,l=!0,u=!1){const d=qb(t.urlParams),f=t.url+d,h=Object.assign({},t.headers);return RD(h,e),AD(h,n),ID(h,o),PD(h,r),new kD(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ND(...t){const e=LD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Vh())return new Blob(t);throw new xt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $D(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){if(typeof atob>"u")throw _D("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tf{constructor(e,n){this.data=e,this.contentType=n||null}}function MD(t,e){switch(t){case yr.RAW:return new tf(Wb(e));case yr.BASE64:case yr.BASE64URL:return new tf(Kb(t,e));case yr.DATA_URL:return new tf(BD(e),FD(e))}throw Wh()}function Wb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function UD(t){let e;try{e=decodeURIComponent(t)}catch{throw da(yr.DATA_URL,"Malformed data URL.")}return Wb(e)}function Kb(t,e){switch(t){case yr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw da(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw da(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DD(e)}catch(s){throw s.message.includes("polyfill")?s:da(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Vb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw da(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function BD(t){const e=new Vb(t);return e.base64?Kb(yr.BASE64,e.rest):UD(e.rest)}function FD(t){return new Vb(t).contentType}function jD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){let r=0,s="";P0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(P0(this.data_)){const r=this.data_,s=$D(r,e,n);return s===null?null:new Cs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Cs(r,!0)}}static getBlob(...e){if(Vh()){const n=e.map(r=>r instanceof Cs?r.data_:r);return new Cs(ND.apply(null,n))}else{const n=e.map(l=>Kh(l)?MD(yr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[o++]=l[u]}),new Cs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){let e;try{e=JSON.parse(t)}catch{return null}return SD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Gb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t,e){return e}class tn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||WD}}let Kl=null;function KD(t){return!Kh(t)||t.length<2?t:Gb(t)}function Jb(){if(Kl)return Kl;const t=[];t.push(new tn("bucket")),t.push(new tn("generation")),t.push(new tn("metageneration")),t.push(new tn("name","fullPath",!0));function e(o,l){return KD(l)}const n=new tn("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new tn("size");return s.xform=r,t.push(s),t.push(new tn("timeCreated")),t.push(new tn("updated")),t.push(new tn("md5Hash",null,!0)),t.push(new tn("cacheControl",null,!0)),t.push(new tn("contentDisposition",null,!0)),t.push(new tn("contentEncoding",null,!0)),t.push(new tn("contentLanguage",null,!0)),t.push(new tn("contentType",null,!0)),t.push(new tn("metadata","customMetadata",!0)),Kl=t,Kl}function VD(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new $n(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function zD(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return VD(r,t),r}function Yb(t,e,n){const r=zb(e);return r===null?null:zD(t,r,n)}function GD(t,e,n,r){const s=zb(e);if(s===null||!Kh(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,g=t.fullPath,m="/b/"+l(h)+"/o/"+l(g),y=zh(m,n,r),x=qb({alt:"media",token:f});return y+x})[0]}function JD(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Xb{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){if(!t)throw Wh()}function YD(t,e){function n(r,s){const o=Yb(t,s,e);return Qb(o!==null),o}return n}function XD(t,e){function n(r,s){const o=Yb(t,s,e);return Qb(o!==null),GD(o,s,t.host,t._protocol)}return n}function Zb(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=cD():s=uD():n.getStatus()===402?s=lD(t.bucket):n.getStatus()===403?s=dD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function QD(t){const e=Zb(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=aD(t.path)),o.serverResponse=s.serverResponse,o}return n}function ZD(t,e,n){const r=e.fullServerUrl(),s=zh(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new Xb(s,o,XD(t,n),l);return u.errorHandler=QD(e),u}function e3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function t3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=e3(null,e)),r}function n3(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let $=0;$<2;$++)P=P+Math.random().toString().slice(2);return P}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=t3(e,r,s),h=JD(f,n),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,m=`\r
--`+d+"--",y=Cs.getBlob(g,r,m);if(y===null)throw vD();const x={name:f.fullPath},S=zh(o,t.host,t._protocol),C="POST",R=t.maxUploadRetryTime,N=new Xb(S,C,YD(t,n),R);return N.urlParams=x,N.headers=l,N.body=y.uploadData(),N.errorHandler=Zb(e),N}class r3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ci.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ci.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ci.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw Wo("cannot .send() more than once");if(Ra(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s3 extends r3{initXhr(){this.xhr_.responseType="text"}}function ew(){return new s3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mi(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gb(this._location.path)}get storage(){return this._service}get parent(){const e=HD(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new mi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bD(e)}}function i3(t,e,n){t._throwIfRoot("uploadBytes");const r=n3(t.storage,t._location,Jb(),new Cs(e,!0),n);return t.storage.makeRequestWithTokens(r,ew).then(s=>({metadata:s,ref:t}))}function o3(t){t._throwIfRoot("getDownloadURL");const e=ZD(t.storage,t._location,Jb());return t.storage.makeRequestWithTokens(e,ew).then(n=>{if(n===null)throw yD();return n})}function a3(t,e){const n=qD(t._location.path,e),r=new $n(t._location.bucket,n);return new mi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){return/^[A-Za-z]+:\/\//.test(t)}function u3(t,e){return new mi(t,e)}function tw(t,e){if(t instanceof Gh){const n=t;if(n._bucket==null)throw mD();const r=new mi(n,n._bucket);return e!=null?tw(r,e):r}else return e!==void 0?a3(t,e):t}function c3(t,e){if(e&&l3(e)){if(t instanceof Gh)return u3(t,e);throw Vf("To use ref(service, url), the first argument must be a Storage instance.")}else return tw(t,e)}function L0(t,e){const n=e==null?void 0:e[jb];return n==null?null:$n.makeFromBucketSpec(n,t)}function d3(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ra(e);s&&(y_(`https://${t.host}`),__("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:r2(o,t.app.options.projectId))}class Gh{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=Fb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iD,this._maxUploadRetryTime=oD,this._requests=new Set,s!=null?this._bucket=$n.makeFromBucketSpec(s,this._host):this._bucket=L0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=L0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mi(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new wD(Hb());{const l=OD(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const N0="@firebase/storage",$0="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="storage";function f3(t,e,n){return t=En(t),i3(t,e,n)}function h3(t){return t=En(t),o3(t)}function p3(t,e){return t=En(t),c3(t,e)}function g3(t=E_(),e){t=En(t);const r=Eh(t,nw).getImmediate({identifier:e}),s=t2("storage");return s&&m3(r,...s),r}function m3(t,e,n,r={}){d3(t,e,n,r)}function v3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Gh(n,r,s,e,mo)}function y3(){oo(new hi(nw,v3,"PUBLIC").setMultipleInstances(!0)),Is(N0,$0,""),Is(N0,$0,"esm2017")}y3();var Yo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var _3=Yo.exports,D0;function b3(){return D0||(D0=1,function(t,e){(function(){var n,r="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",g=1,m=2,y=4,x=1,S=2,C=1,R=2,N=4,P=8,$=16,E=32,I=64,O=128,z=256,q=512,j=30,he="...",H=800,xe=16,ae=1,se=2,ie=3,me=1/0,_e=9007199254740991,It=17976931348623157e292,Cn=NaN,Et=4294967295,Wt=Et-1,Zr=Et>>>1,es=[["ary",O],["bind",C],["bindKey",R],["curry",P],["curryRight",$],["flip",q],["partial",E],["partialRight",I],["rearg",z]],Xn="[object Arguments]",Ut="[object Array]",Q="[object AsyncFunction]",fe="[object Boolean]",le="[object Date]",ye="[object DOMException]",Qe="[object Error]",T="[object Function]",A="[object GeneratorFunction]",U="[object Map]",J="[object Number]",Z="[object Null]",G="[object Object]",ue="[object Promise]",oe="[object Proxy]",re="[object RegExp]",ee="[object Set]",be="[object String]",de="[object Symbol]",we="[object Undefined]",Ce="[object WeakMap]",Ve="[object WeakSet]",Ze="[object ArrayBuffer]",ze="[object DataView]",Bt="[object Float32Array]",Ot="[object Float64Array]",cn="[object Int8Array]",dn="[object Int16Array]",Er="[object Int32Array]",_i="[object Uint8Array]",Ft="[object Uint8ClampedArray]",fn="[object Uint16Array]",bi="[object Uint32Array]",Bw=/\b__p \+= '';/g,Fw=/\b(__p \+=) '' \+/g,jw=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ep=/&(?:amp|lt|gt|quot|#39);/g,tp=/[&<>"']/g,Hw=RegExp(ep.source),qw=RegExp(tp.source),Ww=/<%-([\s\S]+?)%>/g,Kw=/<%([\s\S]+?)%>/g,np=/<%=([\s\S]+?)%>/g,Vw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zw=/^\w*$/,Gw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fc=/[\\^$.*+?()[\]{}|]/g,Jw=RegExp(fc.source),hc=/^\s+/,Yw=/\s/,Xw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qw=/\{\n\/\* \[wrapped with (.+)\] \*/,Zw=/,? & /,e1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,t1=/[()=,{}\[\]\/\s]/,n1=/\\(\\)?/g,r1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rp=/\w*$/,s1=/^[-+]0x[0-9a-f]+$/i,i1=/^0b[01]+$/i,o1=/^\[object .+?Constructor\]$/,a1=/^0o[0-7]+$/i,l1=/^(?:0|[1-9]\d*)$/,u1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wa=/($^)/,c1=/['\n\r\u2028\u2029\\]/g,Ka="\\ud800-\\udfff",d1="\\u0300-\\u036f",f1="\\ufe20-\\ufe2f",h1="\\u20d0-\\u20ff",sp=d1+f1+h1,ip="\\u2700-\\u27bf",op="a-z\\xdf-\\xf6\\xf8-\\xff",p1="\\xac\\xb1\\xd7\\xf7",g1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",m1="\\u2000-\\u206f",v1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ap="A-Z\\xc0-\\xd6\\xd8-\\xde",lp="\\ufe0e\\ufe0f",up=p1+g1+m1+v1,pc="[']",y1="["+Ka+"]",cp="["+up+"]",Va="["+sp+"]",dp="\\d+",_1="["+ip+"]",fp="["+op+"]",hp="[^"+Ka+up+dp+ip+op+ap+"]",gc="\\ud83c[\\udffb-\\udfff]",b1="(?:"+Va+"|"+gc+")",pp="[^"+Ka+"]",mc="(?:\\ud83c[\\udde6-\\uddff]){2}",vc="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+ap+"]",gp="\\u200d",mp="(?:"+fp+"|"+hp+")",w1="(?:"+wi+"|"+hp+")",vp="(?:"+pc+"(?:d|ll|m|re|s|t|ve))?",yp="(?:"+pc+"(?:D|LL|M|RE|S|T|VE))?",_p=b1+"?",bp="["+lp+"]?",x1="(?:"+gp+"(?:"+[pp,mc,vc].join("|")+")"+bp+_p+")*",E1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",C1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wp=bp+_p+x1,S1="(?:"+[_1,mc,vc].join("|")+")"+wp,T1="(?:"+[pp+Va+"?",Va,mc,vc,y1].join("|")+")",k1=RegExp(pc,"g"),A1=RegExp(Va,"g"),yc=RegExp(gc+"(?="+gc+")|"+T1+wp,"g"),I1=RegExp([wi+"?"+fp+"+"+vp+"(?="+[cp,wi,"$"].join("|")+")",w1+"+"+yp+"(?="+[cp,wi+mp,"$"].join("|")+")",wi+"?"+mp+"+"+vp,wi+"+"+yp,C1,E1,dp,S1].join("|"),"g"),R1=RegExp("["+gp+Ka+sp+lp+"]"),P1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,O1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],L1=-1,ht={};ht[Bt]=ht[Ot]=ht[cn]=ht[dn]=ht[Er]=ht[_i]=ht[Ft]=ht[fn]=ht[bi]=!0,ht[Xn]=ht[Ut]=ht[Ze]=ht[fe]=ht[ze]=ht[le]=ht[Qe]=ht[T]=ht[U]=ht[J]=ht[G]=ht[re]=ht[ee]=ht[be]=ht[Ce]=!1;var ct={};ct[Xn]=ct[Ut]=ct[Ze]=ct[ze]=ct[fe]=ct[le]=ct[Bt]=ct[Ot]=ct[cn]=ct[dn]=ct[Er]=ct[U]=ct[J]=ct[G]=ct[re]=ct[ee]=ct[be]=ct[de]=ct[_i]=ct[Ft]=ct[fn]=ct[bi]=!0,ct[Qe]=ct[T]=ct[Ce]=!1;var N1={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},$1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},D1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},M1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},U1=parseFloat,B1=parseInt,xp=typeof Ml=="object"&&Ml&&Ml.Object===Object&&Ml,F1=typeof self=="object"&&self&&self.Object===Object&&self,jt=xp||F1||Function("return this")(),_c=e&&!e.nodeType&&e,Fs=_c&&!0&&t&&!t.nodeType&&t,Ep=Fs&&Fs.exports===_c,bc=Ep&&xp.process,Mn=function(){try{var M=Fs&&Fs.require&&Fs.require("util").types;return M||bc&&bc.binding&&bc.binding("util")}catch{}}(),Cp=Mn&&Mn.isArrayBuffer,Sp=Mn&&Mn.isDate,Tp=Mn&&Mn.isMap,kp=Mn&&Mn.isRegExp,Ap=Mn&&Mn.isSet,Ip=Mn&&Mn.isTypedArray;function Sn(M,V,W){switch(W.length){case 0:return M.call(V);case 1:return M.call(V,W[0]);case 2:return M.call(V,W[0],W[1]);case 3:return M.call(V,W[0],W[1],W[2])}return M.apply(V,W)}function j1(M,V,W,pe){for(var Oe=-1,et=M==null?0:M.length;++Oe<et;){var Rt=M[Oe];V(pe,Rt,W(Rt),M)}return pe}function Un(M,V){for(var W=-1,pe=M==null?0:M.length;++W<pe&&V(M[W],W,M)!==!1;);return M}function H1(M,V){for(var W=M==null?0:M.length;W--&&V(M[W],W,M)!==!1;);return M}function Rp(M,V){for(var W=-1,pe=M==null?0:M.length;++W<pe;)if(!V(M[W],W,M))return!1;return!0}function ts(M,V){for(var W=-1,pe=M==null?0:M.length,Oe=0,et=[];++W<pe;){var Rt=M[W];V(Rt,W,M)&&(et[Oe++]=Rt)}return et}function za(M,V){var W=M==null?0:M.length;return!!W&&xi(M,V,0)>-1}function wc(M,V,W){for(var pe=-1,Oe=M==null?0:M.length;++pe<Oe;)if(W(V,M[pe]))return!0;return!1}function mt(M,V){for(var W=-1,pe=M==null?0:M.length,Oe=Array(pe);++W<pe;)Oe[W]=V(M[W],W,M);return Oe}function ns(M,V){for(var W=-1,pe=V.length,Oe=M.length;++W<pe;)M[Oe+W]=V[W];return M}function xc(M,V,W,pe){var Oe=-1,et=M==null?0:M.length;for(pe&&et&&(W=M[++Oe]);++Oe<et;)W=V(W,M[Oe],Oe,M);return W}function q1(M,V,W,pe){var Oe=M==null?0:M.length;for(pe&&Oe&&(W=M[--Oe]);Oe--;)W=V(W,M[Oe],Oe,M);return W}function Ec(M,V){for(var W=-1,pe=M==null?0:M.length;++W<pe;)if(V(M[W],W,M))return!0;return!1}var W1=Cc("length");function K1(M){return M.split("")}function V1(M){return M.match(e1)||[]}function Pp(M,V,W){var pe;return W(M,function(Oe,et,Rt){if(V(Oe,et,Rt))return pe=et,!1}),pe}function Ga(M,V,W,pe){for(var Oe=M.length,et=W+(pe?1:-1);pe?et--:++et<Oe;)if(V(M[et],et,M))return et;return-1}function xi(M,V,W){return V===V?sx(M,V,W):Ga(M,Op,W)}function z1(M,V,W,pe){for(var Oe=W-1,et=M.length;++Oe<et;)if(pe(M[Oe],V))return Oe;return-1}function Op(M){return M!==M}function Lp(M,V){var W=M==null?0:M.length;return W?Tc(M,V)/W:Cn}function Cc(M){return function(V){return V==null?n:V[M]}}function Sc(M){return function(V){return M==null?n:M[V]}}function Np(M,V,W,pe,Oe){return Oe(M,function(et,Rt,at){W=pe?(pe=!1,et):V(W,et,Rt,at)}),W}function G1(M,V){var W=M.length;for(M.sort(V);W--;)M[W]=M[W].value;return M}function Tc(M,V){for(var W,pe=-1,Oe=M.length;++pe<Oe;){var et=V(M[pe]);et!==n&&(W=W===n?et:W+et)}return W}function kc(M,V){for(var W=-1,pe=Array(M);++W<M;)pe[W]=V(W);return pe}function J1(M,V){return mt(V,function(W){return[W,M[W]]})}function $p(M){return M&&M.slice(0,Bp(M)+1).replace(hc,"")}function Tn(M){return function(V){return M(V)}}function Ac(M,V){return mt(V,function(W){return M[W]})}function Eo(M,V){return M.has(V)}function Dp(M,V){for(var W=-1,pe=M.length;++W<pe&&xi(V,M[W],0)>-1;);return W}function Mp(M,V){for(var W=M.length;W--&&xi(V,M[W],0)>-1;);return W}function Y1(M,V){for(var W=M.length,pe=0;W--;)M[W]===V&&++pe;return pe}var X1=Sc(N1),Q1=Sc($1);function Z1(M){return"\\"+M1[M]}function ex(M,V){return M==null?n:M[V]}function Ei(M){return R1.test(M)}function tx(M){return P1.test(M)}function nx(M){for(var V,W=[];!(V=M.next()).done;)W.push(V.value);return W}function Ic(M){var V=-1,W=Array(M.size);return M.forEach(function(pe,Oe){W[++V]=[Oe,pe]}),W}function Up(M,V){return function(W){return M(V(W))}}function rs(M,V){for(var W=-1,pe=M.length,Oe=0,et=[];++W<pe;){var Rt=M[W];(Rt===V||Rt===h)&&(M[W]=h,et[Oe++]=W)}return et}function Ja(M){var V=-1,W=Array(M.size);return M.forEach(function(pe){W[++V]=pe}),W}function rx(M){var V=-1,W=Array(M.size);return M.forEach(function(pe){W[++V]=[pe,pe]}),W}function sx(M,V,W){for(var pe=W-1,Oe=M.length;++pe<Oe;)if(M[pe]===V)return pe;return-1}function ix(M,V,W){for(var pe=W+1;pe--;)if(M[pe]===V)return pe;return pe}function Ci(M){return Ei(M)?ax(M):W1(M)}function Qn(M){return Ei(M)?lx(M):K1(M)}function Bp(M){for(var V=M.length;V--&&Yw.test(M.charAt(V)););return V}var ox=Sc(D1);function ax(M){for(var V=yc.lastIndex=0;yc.test(M);)++V;return V}function lx(M){return M.match(yc)||[]}function ux(M){return M.match(I1)||[]}var cx=function M(V){V=V==null?jt:Si.defaults(jt.Object(),V,Si.pick(jt,O1));var W=V.Array,pe=V.Date,Oe=V.Error,et=V.Function,Rt=V.Math,at=V.Object,Rc=V.RegExp,dx=V.String,Bn=V.TypeError,Ya=W.prototype,fx=et.prototype,Ti=at.prototype,Xa=V["__core-js_shared__"],Qa=fx.toString,ot=Ti.hasOwnProperty,hx=0,Fp=function(){var i=/[^.]+$/.exec(Xa&&Xa.keys&&Xa.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Za=Ti.toString,px=Qa.call(at),gx=jt._,mx=Rc("^"+Qa.call(ot).replace(fc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),el=Ep?V.Buffer:n,ss=V.Symbol,tl=V.Uint8Array,jp=el?el.allocUnsafe:n,nl=Up(at.getPrototypeOf,at),Hp=at.create,qp=Ti.propertyIsEnumerable,rl=Ya.splice,Wp=ss?ss.isConcatSpreadable:n,Co=ss?ss.iterator:n,js=ss?ss.toStringTag:n,sl=function(){try{var i=Vs(at,"defineProperty");return i({},"",{}),i}catch{}}(),vx=V.clearTimeout!==jt.clearTimeout&&V.clearTimeout,yx=pe&&pe.now!==jt.Date.now&&pe.now,_x=V.setTimeout!==jt.setTimeout&&V.setTimeout,il=Rt.ceil,ol=Rt.floor,Pc=at.getOwnPropertySymbols,bx=el?el.isBuffer:n,Kp=V.isFinite,wx=Ya.join,xx=Up(at.keys,at),Pt=Rt.max,Kt=Rt.min,Ex=pe.now,Cx=V.parseInt,Vp=Rt.random,Sx=Ya.reverse,Oc=Vs(V,"DataView"),So=Vs(V,"Map"),Lc=Vs(V,"Promise"),ki=Vs(V,"Set"),To=Vs(V,"WeakMap"),ko=Vs(at,"create"),al=To&&new To,Ai={},Tx=zs(Oc),kx=zs(So),Ax=zs(Lc),Ix=zs(ki),Rx=zs(To),ll=ss?ss.prototype:n,Ao=ll?ll.valueOf:n,zp=ll?ll.toString:n;function _(i){if(bt(i)&&!De(i)&&!(i instanceof Ge)){if(i instanceof Fn)return i;if(ot.call(i,"__wrapped__"))return Gg(i)}return new Fn(i)}var Ii=function(){function i(){}return function(a){if(!yt(a))return{};if(Hp)return Hp(a);i.prototype=a;var c=new i;return i.prototype=n,c}}();function ul(){}function Fn(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}_.templateSettings={escape:Ww,evaluate:Kw,interpolate:np,variable:"",imports:{_}},_.prototype=ul.prototype,_.prototype.constructor=_,Fn.prototype=Ii(ul.prototype),Fn.prototype.constructor=Fn;function Ge(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Et,this.__views__=[]}function Px(){var i=new Ge(this.__wrapped__);return i.__actions__=hn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=hn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=hn(this.__views__),i}function Ox(){if(this.__filtered__){var i=new Ge(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Lx(){var i=this.__wrapped__.value(),a=this.__dir__,c=De(i),p=a<0,v=c?i.length:0,w=KE(0,v,this.__views__),k=w.start,L=w.end,B=L-k,Y=p?L:k-1,X=this.__iteratees__,ne=X.length,ce=0,ve=Kt(B,this.__takeCount__);if(!c||!p&&v==B&&ve==B)return vg(i,this.__actions__);var Te=[];e:for(;B--&&ce<ve;){Y+=a;for(var je=-1,ke=i[Y];++je<ne;){var qe=X[je],Je=qe.iteratee,In=qe.type,en=Je(ke);if(In==se)ke=en;else if(!en){if(In==ae)continue e;break e}}Te[ce++]=ke}return Te}Ge.prototype=Ii(ul.prototype),Ge.prototype.constructor=Ge;function Hs(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var p=i[a];this.set(p[0],p[1])}}function Nx(){this.__data__=ko?ko(null):{},this.size=0}function $x(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function Dx(i){var a=this.__data__;if(ko){var c=a[i];return c===d?n:c}return ot.call(a,i)?a[i]:n}function Mx(i){var a=this.__data__;return ko?a[i]!==n:ot.call(a,i)}function Ux(i,a){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=ko&&a===n?d:a,this}Hs.prototype.clear=Nx,Hs.prototype.delete=$x,Hs.prototype.get=Dx,Hs.prototype.has=Mx,Hs.prototype.set=Ux;function Cr(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var p=i[a];this.set(p[0],p[1])}}function Bx(){this.__data__=[],this.size=0}function Fx(i){var a=this.__data__,c=cl(a,i);if(c<0)return!1;var p=a.length-1;return c==p?a.pop():rl.call(a,c,1),--this.size,!0}function jx(i){var a=this.__data__,c=cl(a,i);return c<0?n:a[c][1]}function Hx(i){return cl(this.__data__,i)>-1}function qx(i,a){var c=this.__data__,p=cl(c,i);return p<0?(++this.size,c.push([i,a])):c[p][1]=a,this}Cr.prototype.clear=Bx,Cr.prototype.delete=Fx,Cr.prototype.get=jx,Cr.prototype.has=Hx,Cr.prototype.set=qx;function Sr(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var p=i[a];this.set(p[0],p[1])}}function Wx(){this.size=0,this.__data__={hash:new Hs,map:new(So||Cr),string:new Hs}}function Kx(i){var a=xl(this,i).delete(i);return this.size-=a?1:0,a}function Vx(i){return xl(this,i).get(i)}function zx(i){return xl(this,i).has(i)}function Gx(i,a){var c=xl(this,i),p=c.size;return c.set(i,a),this.size+=c.size==p?0:1,this}Sr.prototype.clear=Wx,Sr.prototype.delete=Kx,Sr.prototype.get=Vx,Sr.prototype.has=zx,Sr.prototype.set=Gx;function qs(i){var a=-1,c=i==null?0:i.length;for(this.__data__=new Sr;++a<c;)this.add(i[a])}function Jx(i){return this.__data__.set(i,d),this}function Yx(i){return this.__data__.has(i)}qs.prototype.add=qs.prototype.push=Jx,qs.prototype.has=Yx;function Zn(i){var a=this.__data__=new Cr(i);this.size=a.size}function Xx(){this.__data__=new Cr,this.size=0}function Qx(i){var a=this.__data__,c=a.delete(i);return this.size=a.size,c}function Zx(i){return this.__data__.get(i)}function eE(i){return this.__data__.has(i)}function tE(i,a){var c=this.__data__;if(c instanceof Cr){var p=c.__data__;if(!So||p.length<s-1)return p.push([i,a]),this.size=++c.size,this;c=this.__data__=new Sr(p)}return c.set(i,a),this.size=c.size,this}Zn.prototype.clear=Xx,Zn.prototype.delete=Qx,Zn.prototype.get=Zx,Zn.prototype.has=eE,Zn.prototype.set=tE;function Gp(i,a){var c=De(i),p=!c&&Gs(i),v=!c&&!p&&us(i),w=!c&&!p&&!v&&Li(i),k=c||p||v||w,L=k?kc(i.length,dx):[],B=L.length;for(var Y in i)(a||ot.call(i,Y))&&!(k&&(Y=="length"||v&&(Y=="offset"||Y=="parent")||w&&(Y=="buffer"||Y=="byteLength"||Y=="byteOffset")||Ir(Y,B)))&&L.push(Y);return L}function Jp(i){var a=i.length;return a?i[Wc(0,a-1)]:n}function nE(i,a){return El(hn(i),Ws(a,0,i.length))}function rE(i){return El(hn(i))}function Nc(i,a,c){(c!==n&&!er(i[a],c)||c===n&&!(a in i))&&Tr(i,a,c)}function Io(i,a,c){var p=i[a];(!(ot.call(i,a)&&er(p,c))||c===n&&!(a in i))&&Tr(i,a,c)}function cl(i,a){for(var c=i.length;c--;)if(er(i[c][0],a))return c;return-1}function sE(i,a,c,p){return is(i,function(v,w,k){a(p,v,c(v),k)}),p}function Yp(i,a){return i&&fr(a,Lt(a),i)}function iE(i,a){return i&&fr(a,gn(a),i)}function Tr(i,a,c){a=="__proto__"&&sl?sl(i,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[a]=c}function $c(i,a){for(var c=-1,p=a.length,v=W(p),w=i==null;++c<p;)v[c]=w?n:gd(i,a[c]);return v}function Ws(i,a,c){return i===i&&(c!==n&&(i=i<=c?i:c),a!==n&&(i=i>=a?i:a)),i}function jn(i,a,c,p,v,w){var k,L=a&g,B=a&m,Y=a&y;if(c&&(k=v?c(i,p,v,w):c(i)),k!==n)return k;if(!yt(i))return i;var X=De(i);if(X){if(k=zE(i),!L)return hn(i,k)}else{var ne=Vt(i),ce=ne==T||ne==A;if(us(i))return bg(i,L);if(ne==G||ne==Xn||ce&&!v){if(k=B||ce?{}:Bg(i),!L)return B?DE(i,iE(k,i)):$E(i,Yp(k,i))}else{if(!ct[ne])return v?i:{};k=GE(i,ne,L)}}w||(w=new Zn);var ve=w.get(i);if(ve)return ve;w.set(i,k),pm(i)?i.forEach(function(ke){k.add(jn(ke,a,c,ke,i,w))}):fm(i)&&i.forEach(function(ke,qe){k.set(qe,jn(ke,a,c,qe,i,w))});var Te=Y?B?td:ed:B?gn:Lt,je=X?n:Te(i);return Un(je||i,function(ke,qe){je&&(qe=ke,ke=i[qe]),Io(k,qe,jn(ke,a,c,qe,i,w))}),k}function oE(i){var a=Lt(i);return function(c){return Xp(c,i,a)}}function Xp(i,a,c){var p=c.length;if(i==null)return!p;for(i=at(i);p--;){var v=c[p],w=a[v],k=i[v];if(k===n&&!(v in i)||!w(k))return!1}return!0}function Qp(i,a,c){if(typeof i!="function")throw new Bn(l);return Do(function(){i.apply(n,c)},a)}function Ro(i,a,c,p){var v=-1,w=za,k=!0,L=i.length,B=[],Y=a.length;if(!L)return B;c&&(a=mt(a,Tn(c))),p?(w=wc,k=!1):a.length>=s&&(w=Eo,k=!1,a=new qs(a));e:for(;++v<L;){var X=i[v],ne=c==null?X:c(X);if(X=p||X!==0?X:0,k&&ne===ne){for(var ce=Y;ce--;)if(a[ce]===ne)continue e;B.push(X)}else w(a,ne,p)||B.push(X)}return B}var is=Sg(dr),Zp=Sg(Mc,!0);function aE(i,a){var c=!0;return is(i,function(p,v,w){return c=!!a(p,v,w),c}),c}function dl(i,a,c){for(var p=-1,v=i.length;++p<v;){var w=i[p],k=a(w);if(k!=null&&(L===n?k===k&&!An(k):c(k,L)))var L=k,B=w}return B}function lE(i,a,c,p){var v=i.length;for(c=Be(c),c<0&&(c=-c>v?0:v+c),p=p===n||p>v?v:Be(p),p<0&&(p+=v),p=c>p?0:mm(p);c<p;)i[c++]=a;return i}function eg(i,a){var c=[];return is(i,function(p,v,w){a(p,v,w)&&c.push(p)}),c}function Ht(i,a,c,p,v){var w=-1,k=i.length;for(c||(c=YE),v||(v=[]);++w<k;){var L=i[w];a>0&&c(L)?a>1?Ht(L,a-1,c,p,v):ns(v,L):p||(v[v.length]=L)}return v}var Dc=Tg(),tg=Tg(!0);function dr(i,a){return i&&Dc(i,a,Lt)}function Mc(i,a){return i&&tg(i,a,Lt)}function fl(i,a){return ts(a,function(c){return Rr(i[c])})}function Ks(i,a){a=as(a,i);for(var c=0,p=a.length;i!=null&&c<p;)i=i[hr(a[c++])];return c&&c==p?i:n}function ng(i,a,c){var p=a(i);return De(i)?p:ns(p,c(i))}function Qt(i){return i==null?i===n?we:Z:js&&js in at(i)?WE(i):rC(i)}function Uc(i,a){return i>a}function uE(i,a){return i!=null&&ot.call(i,a)}function cE(i,a){return i!=null&&a in at(i)}function dE(i,a,c){return i>=Kt(a,c)&&i<Pt(a,c)}function Bc(i,a,c){for(var p=c?wc:za,v=i[0].length,w=i.length,k=w,L=W(w),B=1/0,Y=[];k--;){var X=i[k];k&&a&&(X=mt(X,Tn(a))),B=Kt(X.length,B),L[k]=!c&&(a||v>=120&&X.length>=120)?new qs(k&&X):n}X=i[0];var ne=-1,ce=L[0];e:for(;++ne<v&&Y.length<B;){var ve=X[ne],Te=a?a(ve):ve;if(ve=c||ve!==0?ve:0,!(ce?Eo(ce,Te):p(Y,Te,c))){for(k=w;--k;){var je=L[k];if(!(je?Eo(je,Te):p(i[k],Te,c)))continue e}ce&&ce.push(Te),Y.push(ve)}}return Y}function fE(i,a,c,p){return dr(i,function(v,w,k){a(p,c(v),w,k)}),p}function Po(i,a,c){a=as(a,i),i=qg(i,a);var p=i==null?i:i[hr(qn(a))];return p==null?n:Sn(p,i,c)}function rg(i){return bt(i)&&Qt(i)==Xn}function hE(i){return bt(i)&&Qt(i)==Ze}function pE(i){return bt(i)&&Qt(i)==le}function Oo(i,a,c,p,v){return i===a?!0:i==null||a==null||!bt(i)&&!bt(a)?i!==i&&a!==a:gE(i,a,c,p,Oo,v)}function gE(i,a,c,p,v,w){var k=De(i),L=De(a),B=k?Ut:Vt(i),Y=L?Ut:Vt(a);B=B==Xn?G:B,Y=Y==Xn?G:Y;var X=B==G,ne=Y==G,ce=B==Y;if(ce&&us(i)){if(!us(a))return!1;k=!0,X=!1}if(ce&&!X)return w||(w=new Zn),k||Li(i)?Dg(i,a,c,p,v,w):HE(i,a,B,c,p,v,w);if(!(c&x)){var ve=X&&ot.call(i,"__wrapped__"),Te=ne&&ot.call(a,"__wrapped__");if(ve||Te){var je=ve?i.value():i,ke=Te?a.value():a;return w||(w=new Zn),v(je,ke,c,p,w)}}return ce?(w||(w=new Zn),qE(i,a,c,p,v,w)):!1}function mE(i){return bt(i)&&Vt(i)==U}function Fc(i,a,c,p){var v=c.length,w=v,k=!p;if(i==null)return!w;for(i=at(i);v--;){var L=c[v];if(k&&L[2]?L[1]!==i[L[0]]:!(L[0]in i))return!1}for(;++v<w;){L=c[v];var B=L[0],Y=i[B],X=L[1];if(k&&L[2]){if(Y===n&&!(B in i))return!1}else{var ne=new Zn;if(p)var ce=p(Y,X,B,i,a,ne);if(!(ce===n?Oo(X,Y,x|S,p,ne):ce))return!1}}return!0}function sg(i){if(!yt(i)||QE(i))return!1;var a=Rr(i)?mx:o1;return a.test(zs(i))}function vE(i){return bt(i)&&Qt(i)==re}function yE(i){return bt(i)&&Vt(i)==ee}function _E(i){return bt(i)&&Il(i.length)&&!!ht[Qt(i)]}function ig(i){return typeof i=="function"?i:i==null?mn:typeof i=="object"?De(i)?lg(i[0],i[1]):ag(i):km(i)}function jc(i){if(!$o(i))return xx(i);var a=[];for(var c in at(i))ot.call(i,c)&&c!="constructor"&&a.push(c);return a}function bE(i){if(!yt(i))return nC(i);var a=$o(i),c=[];for(var p in i)p=="constructor"&&(a||!ot.call(i,p))||c.push(p);return c}function Hc(i,a){return i<a}function og(i,a){var c=-1,p=pn(i)?W(i.length):[];return is(i,function(v,w,k){p[++c]=a(v,w,k)}),p}function ag(i){var a=rd(i);return a.length==1&&a[0][2]?jg(a[0][0],a[0][1]):function(c){return c===i||Fc(c,i,a)}}function lg(i,a){return id(i)&&Fg(a)?jg(hr(i),a):function(c){var p=gd(c,i);return p===n&&p===a?md(c,i):Oo(a,p,x|S)}}function hl(i,a,c,p,v){i!==a&&Dc(a,function(w,k){if(v||(v=new Zn),yt(w))wE(i,a,k,c,hl,p,v);else{var L=p?p(ad(i,k),w,k+"",i,a,v):n;L===n&&(L=w),Nc(i,k,L)}},gn)}function wE(i,a,c,p,v,w,k){var L=ad(i,c),B=ad(a,c),Y=k.get(B);if(Y){Nc(i,c,Y);return}var X=w?w(L,B,c+"",i,a,k):n,ne=X===n;if(ne){var ce=De(B),ve=!ce&&us(B),Te=!ce&&!ve&&Li(B);X=B,ce||ve||Te?De(L)?X=L:Ct(L)?X=hn(L):ve?(ne=!1,X=bg(B,!0)):Te?(ne=!1,X=wg(B,!0)):X=[]:Mo(B)||Gs(B)?(X=L,Gs(L)?X=vm(L):(!yt(L)||Rr(L))&&(X=Bg(B))):ne=!1}ne&&(k.set(B,X),v(X,B,p,w,k),k.delete(B)),Nc(i,c,X)}function ug(i,a){var c=i.length;if(c)return a+=a<0?c:0,Ir(a,c)?i[a]:n}function cg(i,a,c){a.length?a=mt(a,function(w){return De(w)?function(k){return Ks(k,w.length===1?w[0]:w)}:w}):a=[mn];var p=-1;a=mt(a,Tn(Se()));var v=og(i,function(w,k,L){var B=mt(a,function(Y){return Y(w)});return{criteria:B,index:++p,value:w}});return G1(v,function(w,k){return NE(w,k,c)})}function xE(i,a){return dg(i,a,function(c,p){return md(i,p)})}function dg(i,a,c){for(var p=-1,v=a.length,w={};++p<v;){var k=a[p],L=Ks(i,k);c(L,k)&&Lo(w,as(k,i),L)}return w}function EE(i){return function(a){return Ks(a,i)}}function qc(i,a,c,p){var v=p?z1:xi,w=-1,k=a.length,L=i;for(i===a&&(a=hn(a)),c&&(L=mt(i,Tn(c)));++w<k;)for(var B=0,Y=a[w],X=c?c(Y):Y;(B=v(L,X,B,p))>-1;)L!==i&&rl.call(L,B,1),rl.call(i,B,1);return i}function fg(i,a){for(var c=i?a.length:0,p=c-1;c--;){var v=a[c];if(c==p||v!==w){var w=v;Ir(v)?rl.call(i,v,1):zc(i,v)}}return i}function Wc(i,a){return i+ol(Vp()*(a-i+1))}function CE(i,a,c,p){for(var v=-1,w=Pt(il((a-i)/(c||1)),0),k=W(w);w--;)k[p?w:++v]=i,i+=c;return k}function Kc(i,a){var c="";if(!i||a<1||a>_e)return c;do a%2&&(c+=i),a=ol(a/2),a&&(i+=i);while(a);return c}function He(i,a){return ld(Hg(i,a,mn),i+"")}function SE(i){return Jp(Ni(i))}function TE(i,a){var c=Ni(i);return El(c,Ws(a,0,c.length))}function Lo(i,a,c,p){if(!yt(i))return i;a=as(a,i);for(var v=-1,w=a.length,k=w-1,L=i;L!=null&&++v<w;){var B=hr(a[v]),Y=c;if(B==="__proto__"||B==="constructor"||B==="prototype")return i;if(v!=k){var X=L[B];Y=p?p(X,B,L):n,Y===n&&(Y=yt(X)?X:Ir(a[v+1])?[]:{})}Io(L,B,Y),L=L[B]}return i}var hg=al?function(i,a){return al.set(i,a),i}:mn,kE=sl?function(i,a){return sl(i,"toString",{configurable:!0,enumerable:!1,value:yd(a),writable:!0})}:mn;function AE(i){return El(Ni(i))}function Hn(i,a,c){var p=-1,v=i.length;a<0&&(a=-a>v?0:v+a),c=c>v?v:c,c<0&&(c+=v),v=a>c?0:c-a>>>0,a>>>=0;for(var w=W(v);++p<v;)w[p]=i[p+a];return w}function IE(i,a){var c;return is(i,function(p,v,w){return c=a(p,v,w),!c}),!!c}function pl(i,a,c){var p=0,v=i==null?p:i.length;if(typeof a=="number"&&a===a&&v<=Zr){for(;p<v;){var w=p+v>>>1,k=i[w];k!==null&&!An(k)&&(c?k<=a:k<a)?p=w+1:v=w}return v}return Vc(i,a,mn,c)}function Vc(i,a,c,p){var v=0,w=i==null?0:i.length;if(w===0)return 0;a=c(a);for(var k=a!==a,L=a===null,B=An(a),Y=a===n;v<w;){var X=ol((v+w)/2),ne=c(i[X]),ce=ne!==n,ve=ne===null,Te=ne===ne,je=An(ne);if(k)var ke=p||Te;else Y?ke=Te&&(p||ce):L?ke=Te&&ce&&(p||!ve):B?ke=Te&&ce&&!ve&&(p||!je):ve||je?ke=!1:ke=p?ne<=a:ne<a;ke?v=X+1:w=X}return Kt(w,Wt)}function pg(i,a){for(var c=-1,p=i.length,v=0,w=[];++c<p;){var k=i[c],L=a?a(k):k;if(!c||!er(L,B)){var B=L;w[v++]=k===0?0:k}}return w}function gg(i){return typeof i=="number"?i:An(i)?Cn:+i}function kn(i){if(typeof i=="string")return i;if(De(i))return mt(i,kn)+"";if(An(i))return zp?zp.call(i):"";var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function os(i,a,c){var p=-1,v=za,w=i.length,k=!0,L=[],B=L;if(c)k=!1,v=wc;else if(w>=s){var Y=a?null:FE(i);if(Y)return Ja(Y);k=!1,v=Eo,B=new qs}else B=a?[]:L;e:for(;++p<w;){var X=i[p],ne=a?a(X):X;if(X=c||X!==0?X:0,k&&ne===ne){for(var ce=B.length;ce--;)if(B[ce]===ne)continue e;a&&B.push(ne),L.push(X)}else v(B,ne,c)||(B!==L&&B.push(ne),L.push(X))}return L}function zc(i,a){return a=as(a,i),i=qg(i,a),i==null||delete i[hr(qn(a))]}function mg(i,a,c,p){return Lo(i,a,c(Ks(i,a)),p)}function gl(i,a,c,p){for(var v=i.length,w=p?v:-1;(p?w--:++w<v)&&a(i[w],w,i););return c?Hn(i,p?0:w,p?w+1:v):Hn(i,p?w+1:0,p?v:w)}function vg(i,a){var c=i;return c instanceof Ge&&(c=c.value()),xc(a,function(p,v){return v.func.apply(v.thisArg,ns([p],v.args))},c)}function Gc(i,a,c){var p=i.length;if(p<2)return p?os(i[0]):[];for(var v=-1,w=W(p);++v<p;)for(var k=i[v],L=-1;++L<p;)L!=v&&(w[v]=Ro(w[v]||k,i[L],a,c));return os(Ht(w,1),a,c)}function yg(i,a,c){for(var p=-1,v=i.length,w=a.length,k={};++p<v;){var L=p<w?a[p]:n;c(k,i[p],L)}return k}function Jc(i){return Ct(i)?i:[]}function Yc(i){return typeof i=="function"?i:mn}function as(i,a){return De(i)?i:id(i,a)?[i]:zg(tt(i))}var RE=He;function ls(i,a,c){var p=i.length;return c=c===n?p:c,!a&&c>=p?i:Hn(i,a,c)}var _g=vx||function(i){return jt.clearTimeout(i)};function bg(i,a){if(a)return i.slice();var c=i.length,p=jp?jp(c):new i.constructor(c);return i.copy(p),p}function Xc(i){var a=new i.constructor(i.byteLength);return new tl(a).set(new tl(i)),a}function PE(i,a){var c=a?Xc(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function OE(i){var a=new i.constructor(i.source,rp.exec(i));return a.lastIndex=i.lastIndex,a}function LE(i){return Ao?at(Ao.call(i)):{}}function wg(i,a){var c=a?Xc(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function xg(i,a){if(i!==a){var c=i!==n,p=i===null,v=i===i,w=An(i),k=a!==n,L=a===null,B=a===a,Y=An(a);if(!L&&!Y&&!w&&i>a||w&&k&&B&&!L&&!Y||p&&k&&B||!c&&B||!v)return 1;if(!p&&!w&&!Y&&i<a||Y&&c&&v&&!p&&!w||L&&c&&v||!k&&v||!B)return-1}return 0}function NE(i,a,c){for(var p=-1,v=i.criteria,w=a.criteria,k=v.length,L=c.length;++p<k;){var B=xg(v[p],w[p]);if(B){if(p>=L)return B;var Y=c[p];return B*(Y=="desc"?-1:1)}}return i.index-a.index}function Eg(i,a,c,p){for(var v=-1,w=i.length,k=c.length,L=-1,B=a.length,Y=Pt(w-k,0),X=W(B+Y),ne=!p;++L<B;)X[L]=a[L];for(;++v<k;)(ne||v<w)&&(X[c[v]]=i[v]);for(;Y--;)X[L++]=i[v++];return X}function Cg(i,a,c,p){for(var v=-1,w=i.length,k=-1,L=c.length,B=-1,Y=a.length,X=Pt(w-L,0),ne=W(X+Y),ce=!p;++v<X;)ne[v]=i[v];for(var ve=v;++B<Y;)ne[ve+B]=a[B];for(;++k<L;)(ce||v<w)&&(ne[ve+c[k]]=i[v++]);return ne}function hn(i,a){var c=-1,p=i.length;for(a||(a=W(p));++c<p;)a[c]=i[c];return a}function fr(i,a,c,p){var v=!c;c||(c={});for(var w=-1,k=a.length;++w<k;){var L=a[w],B=p?p(c[L],i[L],L,c,i):n;B===n&&(B=i[L]),v?Tr(c,L,B):Io(c,L,B)}return c}function $E(i,a){return fr(i,sd(i),a)}function DE(i,a){return fr(i,Mg(i),a)}function ml(i,a){return function(c,p){var v=De(c)?j1:sE,w=a?a():{};return v(c,i,Se(p,2),w)}}function Ri(i){return He(function(a,c){var p=-1,v=c.length,w=v>1?c[v-1]:n,k=v>2?c[2]:n;for(w=i.length>3&&typeof w=="function"?(v--,w):n,k&&Zt(c[0],c[1],k)&&(w=v<3?n:w,v=1),a=at(a);++p<v;){var L=c[p];L&&i(a,L,p,w)}return a})}function Sg(i,a){return function(c,p){if(c==null)return c;if(!pn(c))return i(c,p);for(var v=c.length,w=a?v:-1,k=at(c);(a?w--:++w<v)&&p(k[w],w,k)!==!1;);return c}}function Tg(i){return function(a,c,p){for(var v=-1,w=at(a),k=p(a),L=k.length;L--;){var B=k[i?L:++v];if(c(w[B],B,w)===!1)break}return a}}function ME(i,a,c){var p=a&C,v=No(i);function w(){var k=this&&this!==jt&&this instanceof w?v:i;return k.apply(p?c:this,arguments)}return w}function kg(i){return function(a){a=tt(a);var c=Ei(a)?Qn(a):n,p=c?c[0]:a.charAt(0),v=c?ls(c,1).join(""):a.slice(1);return p[i]()+v}}function Pi(i){return function(a){return xc(Sm(Cm(a).replace(k1,"")),i,"")}}function No(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=Ii(i.prototype),p=i.apply(c,a);return yt(p)?p:c}}function UE(i,a,c){var p=No(i);function v(){for(var w=arguments.length,k=W(w),L=w,B=Oi(v);L--;)k[L]=arguments[L];var Y=w<3&&k[0]!==B&&k[w-1]!==B?[]:rs(k,B);if(w-=Y.length,w<c)return Og(i,a,vl,v.placeholder,n,k,Y,n,n,c-w);var X=this&&this!==jt&&this instanceof v?p:i;return Sn(X,this,k)}return v}function Ag(i){return function(a,c,p){var v=at(a);if(!pn(a)){var w=Se(c,3);a=Lt(a),c=function(L){return w(v[L],L,v)}}var k=i(a,c,p);return k>-1?v[w?a[k]:k]:n}}function Ig(i){return Ar(function(a){var c=a.length,p=c,v=Fn.prototype.thru;for(i&&a.reverse();p--;){var w=a[p];if(typeof w!="function")throw new Bn(l);if(v&&!k&&wl(w)=="wrapper")var k=new Fn([],!0)}for(p=k?p:c;++p<c;){w=a[p];var L=wl(w),B=L=="wrapper"?nd(w):n;B&&od(B[0])&&B[1]==(O|P|E|z)&&!B[4].length&&B[9]==1?k=k[wl(B[0])].apply(k,B[3]):k=w.length==1&&od(w)?k[L]():k.thru(w)}return function(){var Y=arguments,X=Y[0];if(k&&Y.length==1&&De(X))return k.plant(X).value();for(var ne=0,ce=c?a[ne].apply(this,Y):X;++ne<c;)ce=a[ne].call(this,ce);return ce}})}function vl(i,a,c,p,v,w,k,L,B,Y){var X=a&O,ne=a&C,ce=a&R,ve=a&(P|$),Te=a&q,je=ce?n:No(i);function ke(){for(var qe=arguments.length,Je=W(qe),In=qe;In--;)Je[In]=arguments[In];if(ve)var en=Oi(ke),Rn=Y1(Je,en);if(p&&(Je=Eg(Je,p,v,ve)),w&&(Je=Cg(Je,w,k,ve)),qe-=Rn,ve&&qe<Y){var St=rs(Je,en);return Og(i,a,vl,ke.placeholder,c,Je,St,L,B,Y-qe)}var tr=ne?c:this,Or=ce?tr[i]:i;return qe=Je.length,L?Je=sC(Je,L):Te&&qe>1&&Je.reverse(),X&&B<qe&&(Je.length=B),this&&this!==jt&&this instanceof ke&&(Or=je||No(Or)),Or.apply(tr,Je)}return ke}function Rg(i,a){return function(c,p){return fE(c,i,a(p),{})}}function yl(i,a){return function(c,p){var v;if(c===n&&p===n)return a;if(c!==n&&(v=c),p!==n){if(v===n)return p;typeof c=="string"||typeof p=="string"?(c=kn(c),p=kn(p)):(c=gg(c),p=gg(p)),v=i(c,p)}return v}}function Qc(i){return Ar(function(a){return a=mt(a,Tn(Se())),He(function(c){var p=this;return i(a,function(v){return Sn(v,p,c)})})})}function _l(i,a){a=a===n?" ":kn(a);var c=a.length;if(c<2)return c?Kc(a,i):a;var p=Kc(a,il(i/Ci(a)));return Ei(a)?ls(Qn(p),0,i).join(""):p.slice(0,i)}function BE(i,a,c,p){var v=a&C,w=No(i);function k(){for(var L=-1,B=arguments.length,Y=-1,X=p.length,ne=W(X+B),ce=this&&this!==jt&&this instanceof k?w:i;++Y<X;)ne[Y]=p[Y];for(;B--;)ne[Y++]=arguments[++L];return Sn(ce,v?c:this,ne)}return k}function Pg(i){return function(a,c,p){return p&&typeof p!="number"&&Zt(a,c,p)&&(c=p=n),a=Pr(a),c===n?(c=a,a=0):c=Pr(c),p=p===n?a<c?1:-1:Pr(p),CE(a,c,p,i)}}function bl(i){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=Wn(a),c=Wn(c)),i(a,c)}}function Og(i,a,c,p,v,w,k,L,B,Y){var X=a&P,ne=X?k:n,ce=X?n:k,ve=X?w:n,Te=X?n:w;a|=X?E:I,a&=~(X?I:E),a&N||(a&=-4);var je=[i,a,v,ve,ne,Te,ce,L,B,Y],ke=c.apply(n,je);return od(i)&&Wg(ke,je),ke.placeholder=p,Kg(ke,i,a)}function Zc(i){var a=Rt[i];return function(c,p){if(c=Wn(c),p=p==null?0:Kt(Be(p),292),p&&Kp(c)){var v=(tt(c)+"e").split("e"),w=a(v[0]+"e"+(+v[1]+p));return v=(tt(w)+"e").split("e"),+(v[0]+"e"+(+v[1]-p))}return a(c)}}var FE=ki&&1/Ja(new ki([,-0]))[1]==me?function(i){return new ki(i)}:wd;function Lg(i){return function(a){var c=Vt(a);return c==U?Ic(a):c==ee?rx(a):J1(a,i(a))}}function kr(i,a,c,p,v,w,k,L){var B=a&R;if(!B&&typeof i!="function")throw new Bn(l);var Y=p?p.length:0;if(Y||(a&=-97,p=v=n),k=k===n?k:Pt(Be(k),0),L=L===n?L:Be(L),Y-=v?v.length:0,a&I){var X=p,ne=v;p=v=n}var ce=B?n:nd(i),ve=[i,a,c,p,v,X,ne,w,k,L];if(ce&&tC(ve,ce),i=ve[0],a=ve[1],c=ve[2],p=ve[3],v=ve[4],L=ve[9]=ve[9]===n?B?0:i.length:Pt(ve[9]-Y,0),!L&&a&(P|$)&&(a&=-25),!a||a==C)var Te=ME(i,a,c);else a==P||a==$?Te=UE(i,a,L):(a==E||a==(C|E))&&!v.length?Te=BE(i,a,c,p):Te=vl.apply(n,ve);var je=ce?hg:Wg;return Kg(je(Te,ve),i,a)}function Ng(i,a,c,p){return i===n||er(i,Ti[c])&&!ot.call(p,c)?a:i}function $g(i,a,c,p,v,w){return yt(i)&&yt(a)&&(w.set(a,i),hl(i,a,n,$g,w),w.delete(a)),i}function jE(i){return Mo(i)?n:i}function Dg(i,a,c,p,v,w){var k=c&x,L=i.length,B=a.length;if(L!=B&&!(k&&B>L))return!1;var Y=w.get(i),X=w.get(a);if(Y&&X)return Y==a&&X==i;var ne=-1,ce=!0,ve=c&S?new qs:n;for(w.set(i,a),w.set(a,i);++ne<L;){var Te=i[ne],je=a[ne];if(p)var ke=k?p(je,Te,ne,a,i,w):p(Te,je,ne,i,a,w);if(ke!==n){if(ke)continue;ce=!1;break}if(ve){if(!Ec(a,function(qe,Je){if(!Eo(ve,Je)&&(Te===qe||v(Te,qe,c,p,w)))return ve.push(Je)})){ce=!1;break}}else if(!(Te===je||v(Te,je,c,p,w))){ce=!1;break}}return w.delete(i),w.delete(a),ce}function HE(i,a,c,p,v,w,k){switch(c){case ze:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case Ze:return!(i.byteLength!=a.byteLength||!w(new tl(i),new tl(a)));case fe:case le:case J:return er(+i,+a);case Qe:return i.name==a.name&&i.message==a.message;case re:case be:return i==a+"";case U:var L=Ic;case ee:var B=p&x;if(L||(L=Ja),i.size!=a.size&&!B)return!1;var Y=k.get(i);if(Y)return Y==a;p|=S,k.set(i,a);var X=Dg(L(i),L(a),p,v,w,k);return k.delete(i),X;case de:if(Ao)return Ao.call(i)==Ao.call(a)}return!1}function qE(i,a,c,p,v,w){var k=c&x,L=ed(i),B=L.length,Y=ed(a),X=Y.length;if(B!=X&&!k)return!1;for(var ne=B;ne--;){var ce=L[ne];if(!(k?ce in a:ot.call(a,ce)))return!1}var ve=w.get(i),Te=w.get(a);if(ve&&Te)return ve==a&&Te==i;var je=!0;w.set(i,a),w.set(a,i);for(var ke=k;++ne<B;){ce=L[ne];var qe=i[ce],Je=a[ce];if(p)var In=k?p(Je,qe,ce,a,i,w):p(qe,Je,ce,i,a,w);if(!(In===n?qe===Je||v(qe,Je,c,p,w):In)){je=!1;break}ke||(ke=ce=="constructor")}if(je&&!ke){var en=i.constructor,Rn=a.constructor;en!=Rn&&"constructor"in i&&"constructor"in a&&!(typeof en=="function"&&en instanceof en&&typeof Rn=="function"&&Rn instanceof Rn)&&(je=!1)}return w.delete(i),w.delete(a),je}function Ar(i){return ld(Hg(i,n,Xg),i+"")}function ed(i){return ng(i,Lt,sd)}function td(i){return ng(i,gn,Mg)}var nd=al?function(i){return al.get(i)}:wd;function wl(i){for(var a=i.name+"",c=Ai[a],p=ot.call(Ai,a)?c.length:0;p--;){var v=c[p],w=v.func;if(w==null||w==i)return v.name}return a}function Oi(i){var a=ot.call(_,"placeholder")?_:i;return a.placeholder}function Se(){var i=_.iteratee||_d;return i=i===_d?ig:i,arguments.length?i(arguments[0],arguments[1]):i}function xl(i,a){var c=i.__data__;return XE(a)?c[typeof a=="string"?"string":"hash"]:c.map}function rd(i){for(var a=Lt(i),c=a.length;c--;){var p=a[c],v=i[p];a[c]=[p,v,Fg(v)]}return a}function Vs(i,a){var c=ex(i,a);return sg(c)?c:n}function WE(i){var a=ot.call(i,js),c=i[js];try{i[js]=n;var p=!0}catch{}var v=Za.call(i);return p&&(a?i[js]=c:delete i[js]),v}var sd=Pc?function(i){return i==null?[]:(i=at(i),ts(Pc(i),function(a){return qp.call(i,a)}))}:xd,Mg=Pc?function(i){for(var a=[];i;)ns(a,sd(i)),i=nl(i);return a}:xd,Vt=Qt;(Oc&&Vt(new Oc(new ArrayBuffer(1)))!=ze||So&&Vt(new So)!=U||Lc&&Vt(Lc.resolve())!=ue||ki&&Vt(new ki)!=ee||To&&Vt(new To)!=Ce)&&(Vt=function(i){var a=Qt(i),c=a==G?i.constructor:n,p=c?zs(c):"";if(p)switch(p){case Tx:return ze;case kx:return U;case Ax:return ue;case Ix:return ee;case Rx:return Ce}return a});function KE(i,a,c){for(var p=-1,v=c.length;++p<v;){var w=c[p],k=w.size;switch(w.type){case"drop":i+=k;break;case"dropRight":a-=k;break;case"take":a=Kt(a,i+k);break;case"takeRight":i=Pt(i,a-k);break}}return{start:i,end:a}}function VE(i){var a=i.match(Qw);return a?a[1].split(Zw):[]}function Ug(i,a,c){a=as(a,i);for(var p=-1,v=a.length,w=!1;++p<v;){var k=hr(a[p]);if(!(w=i!=null&&c(i,k)))break;i=i[k]}return w||++p!=v?w:(v=i==null?0:i.length,!!v&&Il(v)&&Ir(k,v)&&(De(i)||Gs(i)))}function zE(i){var a=i.length,c=new i.constructor(a);return a&&typeof i[0]=="string"&&ot.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Bg(i){return typeof i.constructor=="function"&&!$o(i)?Ii(nl(i)):{}}function GE(i,a,c){var p=i.constructor;switch(a){case Ze:return Xc(i);case fe:case le:return new p(+i);case ze:return PE(i,c);case Bt:case Ot:case cn:case dn:case Er:case _i:case Ft:case fn:case bi:return wg(i,c);case U:return new p;case J:case be:return new p(i);case re:return OE(i);case ee:return new p;case de:return LE(i)}}function JE(i,a){var c=a.length;if(!c)return i;var p=c-1;return a[p]=(c>1?"& ":"")+a[p],a=a.join(c>2?", ":" "),i.replace(Xw,`{
/* [wrapped with `+a+`] */
`)}function YE(i){return De(i)||Gs(i)||!!(Wp&&i&&i[Wp])}function Ir(i,a){var c=typeof i;return a=a??_e,!!a&&(c=="number"||c!="symbol"&&l1.test(i))&&i>-1&&i%1==0&&i<a}function Zt(i,a,c){if(!yt(c))return!1;var p=typeof a;return(p=="number"?pn(c)&&Ir(a,c.length):p=="string"&&a in c)?er(c[a],i):!1}function id(i,a){if(De(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||An(i)?!0:zw.test(i)||!Vw.test(i)||a!=null&&i in at(a)}function XE(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function od(i){var a=wl(i),c=_[a];if(typeof c!="function"||!(a in Ge.prototype))return!1;if(i===c)return!0;var p=nd(c);return!!p&&i===p[0]}function QE(i){return!!Fp&&Fp in i}var ZE=Xa?Rr:Ed;function $o(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||Ti;return i===c}function Fg(i){return i===i&&!yt(i)}function jg(i,a){return function(c){return c==null?!1:c[i]===a&&(a!==n||i in at(c))}}function eC(i){var a=kl(i,function(p){return c.size===f&&c.clear(),p}),c=a.cache;return a}function tC(i,a){var c=i[1],p=a[1],v=c|p,w=v<(C|R|O),k=p==O&&c==P||p==O&&c==z&&i[7].length<=a[8]||p==(O|z)&&a[7].length<=a[8]&&c==P;if(!(w||k))return i;p&C&&(i[2]=a[2],v|=c&C?0:N);var L=a[3];if(L){var B=i[3];i[3]=B?Eg(B,L,a[4]):L,i[4]=B?rs(i[3],h):a[4]}return L=a[5],L&&(B=i[5],i[5]=B?Cg(B,L,a[6]):L,i[6]=B?rs(i[5],h):a[6]),L=a[7],L&&(i[7]=L),p&O&&(i[8]=i[8]==null?a[8]:Kt(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=v,i}function nC(i){var a=[];if(i!=null)for(var c in at(i))a.push(c);return a}function rC(i){return Za.call(i)}function Hg(i,a,c){return a=Pt(a===n?i.length-1:a,0),function(){for(var p=arguments,v=-1,w=Pt(p.length-a,0),k=W(w);++v<w;)k[v]=p[a+v];v=-1;for(var L=W(a+1);++v<a;)L[v]=p[v];return L[a]=c(k),Sn(i,this,L)}}function qg(i,a){return a.length<2?i:Ks(i,Hn(a,0,-1))}function sC(i,a){for(var c=i.length,p=Kt(a.length,c),v=hn(i);p--;){var w=a[p];i[p]=Ir(w,c)?v[w]:n}return i}function ad(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var Wg=Vg(hg),Do=_x||function(i,a){return jt.setTimeout(i,a)},ld=Vg(kE);function Kg(i,a,c){var p=a+"";return ld(i,JE(p,iC(VE(p),c)))}function Vg(i){var a=0,c=0;return function(){var p=Ex(),v=xe-(p-c);if(c=p,v>0){if(++a>=H)return arguments[0]}else a=0;return i.apply(n,arguments)}}function El(i,a){var c=-1,p=i.length,v=p-1;for(a=a===n?p:a;++c<a;){var w=Wc(c,v),k=i[w];i[w]=i[c],i[c]=k}return i.length=a,i}var zg=eC(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(Gw,function(c,p,v,w){a.push(v?w.replace(n1,"$1"):p||c)}),a});function hr(i){if(typeof i=="string"||An(i))return i;var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function zs(i){if(i!=null){try{return Qa.call(i)}catch{}try{return i+""}catch{}}return""}function iC(i,a){return Un(es,function(c){var p="_."+c[0];a&c[1]&&!za(i,p)&&i.push(p)}),i.sort()}function Gg(i){if(i instanceof Ge)return i.clone();var a=new Fn(i.__wrapped__,i.__chain__);return a.__actions__=hn(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function oC(i,a,c){(c?Zt(i,a,c):a===n)?a=1:a=Pt(Be(a),0);var p=i==null?0:i.length;if(!p||a<1)return[];for(var v=0,w=0,k=W(il(p/a));v<p;)k[w++]=Hn(i,v,v+=a);return k}function aC(i){for(var a=-1,c=i==null?0:i.length,p=0,v=[];++a<c;){var w=i[a];w&&(v[p++]=w)}return v}function lC(){var i=arguments.length;if(!i)return[];for(var a=W(i-1),c=arguments[0],p=i;p--;)a[p-1]=arguments[p];return ns(De(c)?hn(c):[c],Ht(a,1))}var uC=He(function(i,a){return Ct(i)?Ro(i,Ht(a,1,Ct,!0)):[]}),cC=He(function(i,a){var c=qn(a);return Ct(c)&&(c=n),Ct(i)?Ro(i,Ht(a,1,Ct,!0),Se(c,2)):[]}),dC=He(function(i,a){var c=qn(a);return Ct(c)&&(c=n),Ct(i)?Ro(i,Ht(a,1,Ct,!0),n,c):[]});function fC(i,a,c){var p=i==null?0:i.length;return p?(a=c||a===n?1:Be(a),Hn(i,a<0?0:a,p)):[]}function hC(i,a,c){var p=i==null?0:i.length;return p?(a=c||a===n?1:Be(a),a=p-a,Hn(i,0,a<0?0:a)):[]}function pC(i,a){return i&&i.length?gl(i,Se(a,3),!0,!0):[]}function gC(i,a){return i&&i.length?gl(i,Se(a,3),!0):[]}function mC(i,a,c,p){var v=i==null?0:i.length;return v?(c&&typeof c!="number"&&Zt(i,a,c)&&(c=0,p=v),lE(i,a,c,p)):[]}function Jg(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var v=c==null?0:Be(c);return v<0&&(v=Pt(p+v,0)),Ga(i,Se(a,3),v)}function Yg(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var v=p-1;return c!==n&&(v=Be(c),v=c<0?Pt(p+v,0):Kt(v,p-1)),Ga(i,Se(a,3),v,!0)}function Xg(i){var a=i==null?0:i.length;return a?Ht(i,1):[]}function vC(i){var a=i==null?0:i.length;return a?Ht(i,me):[]}function yC(i,a){var c=i==null?0:i.length;return c?(a=a===n?1:Be(a),Ht(i,a)):[]}function _C(i){for(var a=-1,c=i==null?0:i.length,p={};++a<c;){var v=i[a];p[v[0]]=v[1]}return p}function Qg(i){return i&&i.length?i[0]:n}function bC(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var v=c==null?0:Be(c);return v<0&&(v=Pt(p+v,0)),xi(i,a,v)}function wC(i){var a=i==null?0:i.length;return a?Hn(i,0,-1):[]}var xC=He(function(i){var a=mt(i,Jc);return a.length&&a[0]===i[0]?Bc(a):[]}),EC=He(function(i){var a=qn(i),c=mt(i,Jc);return a===qn(c)?a=n:c.pop(),c.length&&c[0]===i[0]?Bc(c,Se(a,2)):[]}),CC=He(function(i){var a=qn(i),c=mt(i,Jc);return a=typeof a=="function"?a:n,a&&c.pop(),c.length&&c[0]===i[0]?Bc(c,n,a):[]});function SC(i,a){return i==null?"":wx.call(i,a)}function qn(i){var a=i==null?0:i.length;return a?i[a-1]:n}function TC(i,a,c){var p=i==null?0:i.length;if(!p)return-1;var v=p;return c!==n&&(v=Be(c),v=v<0?Pt(p+v,0):Kt(v,p-1)),a===a?ix(i,a,v):Ga(i,Op,v,!0)}function kC(i,a){return i&&i.length?ug(i,Be(a)):n}var AC=He(Zg);function Zg(i,a){return i&&i.length&&a&&a.length?qc(i,a):i}function IC(i,a,c){return i&&i.length&&a&&a.length?qc(i,a,Se(c,2)):i}function RC(i,a,c){return i&&i.length&&a&&a.length?qc(i,a,n,c):i}var PC=Ar(function(i,a){var c=i==null?0:i.length,p=$c(i,a);return fg(i,mt(a,function(v){return Ir(v,c)?+v:v}).sort(xg)),p});function OC(i,a){var c=[];if(!(i&&i.length))return c;var p=-1,v=[],w=i.length;for(a=Se(a,3);++p<w;){var k=i[p];a(k,p,i)&&(c.push(k),v.push(p))}return fg(i,v),c}function ud(i){return i==null?i:Sx.call(i)}function LC(i,a,c){var p=i==null?0:i.length;return p?(c&&typeof c!="number"&&Zt(i,a,c)?(a=0,c=p):(a=a==null?0:Be(a),c=c===n?p:Be(c)),Hn(i,a,c)):[]}function NC(i,a){return pl(i,a)}function $C(i,a,c){return Vc(i,a,Se(c,2))}function DC(i,a){var c=i==null?0:i.length;if(c){var p=pl(i,a);if(p<c&&er(i[p],a))return p}return-1}function MC(i,a){return pl(i,a,!0)}function UC(i,a,c){return Vc(i,a,Se(c,2),!0)}function BC(i,a){var c=i==null?0:i.length;if(c){var p=pl(i,a,!0)-1;if(er(i[p],a))return p}return-1}function FC(i){return i&&i.length?pg(i):[]}function jC(i,a){return i&&i.length?pg(i,Se(a,2)):[]}function HC(i){var a=i==null?0:i.length;return a?Hn(i,1,a):[]}function qC(i,a,c){return i&&i.length?(a=c||a===n?1:Be(a),Hn(i,0,a<0?0:a)):[]}function WC(i,a,c){var p=i==null?0:i.length;return p?(a=c||a===n?1:Be(a),a=p-a,Hn(i,a<0?0:a,p)):[]}function KC(i,a){return i&&i.length?gl(i,Se(a,3),!1,!0):[]}function VC(i,a){return i&&i.length?gl(i,Se(a,3)):[]}var zC=He(function(i){return os(Ht(i,1,Ct,!0))}),GC=He(function(i){var a=qn(i);return Ct(a)&&(a=n),os(Ht(i,1,Ct,!0),Se(a,2))}),JC=He(function(i){var a=qn(i);return a=typeof a=="function"?a:n,os(Ht(i,1,Ct,!0),n,a)});function YC(i){return i&&i.length?os(i):[]}function XC(i,a){return i&&i.length?os(i,Se(a,2)):[]}function QC(i,a){return a=typeof a=="function"?a:n,i&&i.length?os(i,n,a):[]}function cd(i){if(!(i&&i.length))return[];var a=0;return i=ts(i,function(c){if(Ct(c))return a=Pt(c.length,a),!0}),kc(a,function(c){return mt(i,Cc(c))})}function em(i,a){if(!(i&&i.length))return[];var c=cd(i);return a==null?c:mt(c,function(p){return Sn(a,n,p)})}var ZC=He(function(i,a){return Ct(i)?Ro(i,a):[]}),eS=He(function(i){return Gc(ts(i,Ct))}),tS=He(function(i){var a=qn(i);return Ct(a)&&(a=n),Gc(ts(i,Ct),Se(a,2))}),nS=He(function(i){var a=qn(i);return a=typeof a=="function"?a:n,Gc(ts(i,Ct),n,a)}),rS=He(cd);function sS(i,a){return yg(i||[],a||[],Io)}function iS(i,a){return yg(i||[],a||[],Lo)}var oS=He(function(i){var a=i.length,c=a>1?i[a-1]:n;return c=typeof c=="function"?(i.pop(),c):n,em(i,c)});function tm(i){var a=_(i);return a.__chain__=!0,a}function aS(i,a){return a(i),i}function Cl(i,a){return a(i)}var lS=Ar(function(i){var a=i.length,c=a?i[0]:0,p=this.__wrapped__,v=function(w){return $c(w,i)};return a>1||this.__actions__.length||!(p instanceof Ge)||!Ir(c)?this.thru(v):(p=p.slice(c,+c+(a?1:0)),p.__actions__.push({func:Cl,args:[v],thisArg:n}),new Fn(p,this.__chain__).thru(function(w){return a&&!w.length&&w.push(n),w}))});function uS(){return tm(this)}function cS(){return new Fn(this.value(),this.__chain__)}function dS(){this.__values__===n&&(this.__values__=gm(this.value()));var i=this.__index__>=this.__values__.length,a=i?n:this.__values__[this.__index__++];return{done:i,value:a}}function fS(){return this}function hS(i){for(var a,c=this;c instanceof ul;){var p=Gg(c);p.__index__=0,p.__values__=n,a?v.__wrapped__=p:a=p;var v=p;c=c.__wrapped__}return v.__wrapped__=i,a}function pS(){var i=this.__wrapped__;if(i instanceof Ge){var a=i;return this.__actions__.length&&(a=new Ge(this)),a=a.reverse(),a.__actions__.push({func:Cl,args:[ud],thisArg:n}),new Fn(a,this.__chain__)}return this.thru(ud)}function gS(){return vg(this.__wrapped__,this.__actions__)}var mS=ml(function(i,a,c){ot.call(i,c)?++i[c]:Tr(i,c,1)});function vS(i,a,c){var p=De(i)?Rp:aE;return c&&Zt(i,a,c)&&(a=n),p(i,Se(a,3))}function yS(i,a){var c=De(i)?ts:eg;return c(i,Se(a,3))}var _S=Ag(Jg),bS=Ag(Yg);function wS(i,a){return Ht(Sl(i,a),1)}function xS(i,a){return Ht(Sl(i,a),me)}function ES(i,a,c){return c=c===n?1:Be(c),Ht(Sl(i,a),c)}function nm(i,a){var c=De(i)?Un:is;return c(i,Se(a,3))}function rm(i,a){var c=De(i)?H1:Zp;return c(i,Se(a,3))}var CS=ml(function(i,a,c){ot.call(i,c)?i[c].push(a):Tr(i,c,[a])});function SS(i,a,c,p){i=pn(i)?i:Ni(i),c=c&&!p?Be(c):0;var v=i.length;return c<0&&(c=Pt(v+c,0)),Rl(i)?c<=v&&i.indexOf(a,c)>-1:!!v&&xi(i,a,c)>-1}var TS=He(function(i,a,c){var p=-1,v=typeof a=="function",w=pn(i)?W(i.length):[];return is(i,function(k){w[++p]=v?Sn(a,k,c):Po(k,a,c)}),w}),kS=ml(function(i,a,c){Tr(i,c,a)});function Sl(i,a){var c=De(i)?mt:og;return c(i,Se(a,3))}function AS(i,a,c,p){return i==null?[]:(De(a)||(a=a==null?[]:[a]),c=p?n:c,De(c)||(c=c==null?[]:[c]),cg(i,a,c))}var IS=ml(function(i,a,c){i[c?0:1].push(a)},function(){return[[],[]]});function RS(i,a,c){var p=De(i)?xc:Np,v=arguments.length<3;return p(i,Se(a,4),c,v,is)}function PS(i,a,c){var p=De(i)?q1:Np,v=arguments.length<3;return p(i,Se(a,4),c,v,Zp)}function OS(i,a){var c=De(i)?ts:eg;return c(i,Al(Se(a,3)))}function LS(i){var a=De(i)?Jp:SE;return a(i)}function NS(i,a,c){(c?Zt(i,a,c):a===n)?a=1:a=Be(a);var p=De(i)?nE:TE;return p(i,a)}function $S(i){var a=De(i)?rE:AE;return a(i)}function DS(i){if(i==null)return 0;if(pn(i))return Rl(i)?Ci(i):i.length;var a=Vt(i);return a==U||a==ee?i.size:jc(i).length}function MS(i,a,c){var p=De(i)?Ec:IE;return c&&Zt(i,a,c)&&(a=n),p(i,Se(a,3))}var US=He(function(i,a){if(i==null)return[];var c=a.length;return c>1&&Zt(i,a[0],a[1])?a=[]:c>2&&Zt(a[0],a[1],a[2])&&(a=[a[0]]),cg(i,Ht(a,1),[])}),Tl=yx||function(){return jt.Date.now()};function BS(i,a){if(typeof a!="function")throw new Bn(l);return i=Be(i),function(){if(--i<1)return a.apply(this,arguments)}}function sm(i,a,c){return a=c?n:a,a=i&&a==null?i.length:a,kr(i,O,n,n,n,n,a)}function im(i,a){var c;if(typeof a!="function")throw new Bn(l);return i=Be(i),function(){return--i>0&&(c=a.apply(this,arguments)),i<=1&&(a=n),c}}var dd=He(function(i,a,c){var p=C;if(c.length){var v=rs(c,Oi(dd));p|=E}return kr(i,p,a,c,v)}),om=He(function(i,a,c){var p=C|R;if(c.length){var v=rs(c,Oi(om));p|=E}return kr(a,p,i,c,v)});function am(i,a,c){a=c?n:a;var p=kr(i,P,n,n,n,n,n,a);return p.placeholder=am.placeholder,p}function lm(i,a,c){a=c?n:a;var p=kr(i,$,n,n,n,n,n,a);return p.placeholder=lm.placeholder,p}function um(i,a,c){var p,v,w,k,L,B,Y=0,X=!1,ne=!1,ce=!0;if(typeof i!="function")throw new Bn(l);a=Wn(a)||0,yt(c)&&(X=!!c.leading,ne="maxWait"in c,w=ne?Pt(Wn(c.maxWait)||0,a):w,ce="trailing"in c?!!c.trailing:ce);function ve(St){var tr=p,Or=v;return p=v=n,Y=St,k=i.apply(Or,tr),k}function Te(St){return Y=St,L=Do(qe,a),X?ve(St):k}function je(St){var tr=St-B,Or=St-Y,Am=a-tr;return ne?Kt(Am,w-Or):Am}function ke(St){var tr=St-B,Or=St-Y;return B===n||tr>=a||tr<0||ne&&Or>=w}function qe(){var St=Tl();if(ke(St))return Je(St);L=Do(qe,je(St))}function Je(St){return L=n,ce&&p?ve(St):(p=v=n,k)}function In(){L!==n&&_g(L),Y=0,p=B=v=L=n}function en(){return L===n?k:Je(Tl())}function Rn(){var St=Tl(),tr=ke(St);if(p=arguments,v=this,B=St,tr){if(L===n)return Te(B);if(ne)return _g(L),L=Do(qe,a),ve(B)}return L===n&&(L=Do(qe,a)),k}return Rn.cancel=In,Rn.flush=en,Rn}var FS=He(function(i,a){return Qp(i,1,a)}),jS=He(function(i,a,c){return Qp(i,Wn(a)||0,c)});function HS(i){return kr(i,q)}function kl(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new Bn(l);var c=function(){var p=arguments,v=a?a.apply(this,p):p[0],w=c.cache;if(w.has(v))return w.get(v);var k=i.apply(this,p);return c.cache=w.set(v,k)||w,k};return c.cache=new(kl.Cache||Sr),c}kl.Cache=Sr;function Al(i){if(typeof i!="function")throw new Bn(l);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function qS(i){return im(2,i)}var WS=RE(function(i,a){a=a.length==1&&De(a[0])?mt(a[0],Tn(Se())):mt(Ht(a,1),Tn(Se()));var c=a.length;return He(function(p){for(var v=-1,w=Kt(p.length,c);++v<w;)p[v]=a[v].call(this,p[v]);return Sn(i,this,p)})}),fd=He(function(i,a){var c=rs(a,Oi(fd));return kr(i,E,n,a,c)}),cm=He(function(i,a){var c=rs(a,Oi(cm));return kr(i,I,n,a,c)}),KS=Ar(function(i,a){return kr(i,z,n,n,n,a)});function VS(i,a){if(typeof i!="function")throw new Bn(l);return a=a===n?a:Be(a),He(i,a)}function zS(i,a){if(typeof i!="function")throw new Bn(l);return a=a==null?0:Pt(Be(a),0),He(function(c){var p=c[a],v=ls(c,0,a);return p&&ns(v,p),Sn(i,this,v)})}function GS(i,a,c){var p=!0,v=!0;if(typeof i!="function")throw new Bn(l);return yt(c)&&(p="leading"in c?!!c.leading:p,v="trailing"in c?!!c.trailing:v),um(i,a,{leading:p,maxWait:a,trailing:v})}function JS(i){return sm(i,1)}function YS(i,a){return fd(Yc(a),i)}function XS(){if(!arguments.length)return[];var i=arguments[0];return De(i)?i:[i]}function QS(i){return jn(i,y)}function ZS(i,a){return a=typeof a=="function"?a:n,jn(i,y,a)}function eT(i){return jn(i,g|y)}function tT(i,a){return a=typeof a=="function"?a:n,jn(i,g|y,a)}function nT(i,a){return a==null||Xp(i,a,Lt(a))}function er(i,a){return i===a||i!==i&&a!==a}var rT=bl(Uc),sT=bl(function(i,a){return i>=a}),Gs=rg(function(){return arguments}())?rg:function(i){return bt(i)&&ot.call(i,"callee")&&!qp.call(i,"callee")},De=W.isArray,iT=Cp?Tn(Cp):hE;function pn(i){return i!=null&&Il(i.length)&&!Rr(i)}function Ct(i){return bt(i)&&pn(i)}function oT(i){return i===!0||i===!1||bt(i)&&Qt(i)==fe}var us=bx||Ed,aT=Sp?Tn(Sp):pE;function lT(i){return bt(i)&&i.nodeType===1&&!Mo(i)}function uT(i){if(i==null)return!0;if(pn(i)&&(De(i)||typeof i=="string"||typeof i.splice=="function"||us(i)||Li(i)||Gs(i)))return!i.length;var a=Vt(i);if(a==U||a==ee)return!i.size;if($o(i))return!jc(i).length;for(var c in i)if(ot.call(i,c))return!1;return!0}function cT(i,a){return Oo(i,a)}function dT(i,a,c){c=typeof c=="function"?c:n;var p=c?c(i,a):n;return p===n?Oo(i,a,n,c):!!p}function hd(i){if(!bt(i))return!1;var a=Qt(i);return a==Qe||a==ye||typeof i.message=="string"&&typeof i.name=="string"&&!Mo(i)}function fT(i){return typeof i=="number"&&Kp(i)}function Rr(i){if(!yt(i))return!1;var a=Qt(i);return a==T||a==A||a==Q||a==oe}function dm(i){return typeof i=="number"&&i==Be(i)}function Il(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=_e}function yt(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function bt(i){return i!=null&&typeof i=="object"}var fm=Tp?Tn(Tp):mE;function hT(i,a){return i===a||Fc(i,a,rd(a))}function pT(i,a,c){return c=typeof c=="function"?c:n,Fc(i,a,rd(a),c)}function gT(i){return hm(i)&&i!=+i}function mT(i){if(ZE(i))throw new Oe(o);return sg(i)}function vT(i){return i===null}function yT(i){return i==null}function hm(i){return typeof i=="number"||bt(i)&&Qt(i)==J}function Mo(i){if(!bt(i)||Qt(i)!=G)return!1;var a=nl(i);if(a===null)return!0;var c=ot.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&Qa.call(c)==px}var pd=kp?Tn(kp):vE;function _T(i){return dm(i)&&i>=-9007199254740991&&i<=_e}var pm=Ap?Tn(Ap):yE;function Rl(i){return typeof i=="string"||!De(i)&&bt(i)&&Qt(i)==be}function An(i){return typeof i=="symbol"||bt(i)&&Qt(i)==de}var Li=Ip?Tn(Ip):_E;function bT(i){return i===n}function wT(i){return bt(i)&&Vt(i)==Ce}function xT(i){return bt(i)&&Qt(i)==Ve}var ET=bl(Hc),CT=bl(function(i,a){return i<=a});function gm(i){if(!i)return[];if(pn(i))return Rl(i)?Qn(i):hn(i);if(Co&&i[Co])return nx(i[Co]());var a=Vt(i),c=a==U?Ic:a==ee?Ja:Ni;return c(i)}function Pr(i){if(!i)return i===0?i:0;if(i=Wn(i),i===me||i===-1/0){var a=i<0?-1:1;return a*It}return i===i?i:0}function Be(i){var a=Pr(i),c=a%1;return a===a?c?a-c:a:0}function mm(i){return i?Ws(Be(i),0,Et):0}function Wn(i){if(typeof i=="number")return i;if(An(i))return Cn;if(yt(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=yt(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=$p(i);var c=i1.test(i);return c||a1.test(i)?B1(i.slice(2),c?2:8):s1.test(i)?Cn:+i}function vm(i){return fr(i,gn(i))}function ST(i){return i?Ws(Be(i),-9007199254740991,_e):i===0?i:0}function tt(i){return i==null?"":kn(i)}var TT=Ri(function(i,a){if($o(a)||pn(a)){fr(a,Lt(a),i);return}for(var c in a)ot.call(a,c)&&Io(i,c,a[c])}),ym=Ri(function(i,a){fr(a,gn(a),i)}),Pl=Ri(function(i,a,c,p){fr(a,gn(a),i,p)}),kT=Ri(function(i,a,c,p){fr(a,Lt(a),i,p)}),AT=Ar($c);function IT(i,a){var c=Ii(i);return a==null?c:Yp(c,a)}var RT=He(function(i,a){i=at(i);var c=-1,p=a.length,v=p>2?a[2]:n;for(v&&Zt(a[0],a[1],v)&&(p=1);++c<p;)for(var w=a[c],k=gn(w),L=-1,B=k.length;++L<B;){var Y=k[L],X=i[Y];(X===n||er(X,Ti[Y])&&!ot.call(i,Y))&&(i[Y]=w[Y])}return i}),PT=He(function(i){return i.push(n,$g),Sn(_m,n,i)});function OT(i,a){return Pp(i,Se(a,3),dr)}function LT(i,a){return Pp(i,Se(a,3),Mc)}function NT(i,a){return i==null?i:Dc(i,Se(a,3),gn)}function $T(i,a){return i==null?i:tg(i,Se(a,3),gn)}function DT(i,a){return i&&dr(i,Se(a,3))}function MT(i,a){return i&&Mc(i,Se(a,3))}function UT(i){return i==null?[]:fl(i,Lt(i))}function BT(i){return i==null?[]:fl(i,gn(i))}function gd(i,a,c){var p=i==null?n:Ks(i,a);return p===n?c:p}function FT(i,a){return i!=null&&Ug(i,a,uE)}function md(i,a){return i!=null&&Ug(i,a,cE)}var jT=Rg(function(i,a,c){a!=null&&typeof a.toString!="function"&&(a=Za.call(a)),i[a]=c},yd(mn)),HT=Rg(function(i,a,c){a!=null&&typeof a.toString!="function"&&(a=Za.call(a)),ot.call(i,a)?i[a].push(c):i[a]=[c]},Se),qT=He(Po);function Lt(i){return pn(i)?Gp(i):jc(i)}function gn(i){return pn(i)?Gp(i,!0):bE(i)}function WT(i,a){var c={};return a=Se(a,3),dr(i,function(p,v,w){Tr(c,a(p,v,w),p)}),c}function KT(i,a){var c={};return a=Se(a,3),dr(i,function(p,v,w){Tr(c,v,a(p,v,w))}),c}var VT=Ri(function(i,a,c){hl(i,a,c)}),_m=Ri(function(i,a,c,p){hl(i,a,c,p)}),zT=Ar(function(i,a){var c={};if(i==null)return c;var p=!1;a=mt(a,function(w){return w=as(w,i),p||(p=w.length>1),w}),fr(i,td(i),c),p&&(c=jn(c,g|m|y,jE));for(var v=a.length;v--;)zc(c,a[v]);return c});function GT(i,a){return bm(i,Al(Se(a)))}var JT=Ar(function(i,a){return i==null?{}:xE(i,a)});function bm(i,a){if(i==null)return{};var c=mt(td(i),function(p){return[p]});return a=Se(a),dg(i,c,function(p,v){return a(p,v[0])})}function YT(i,a,c){a=as(a,i);var p=-1,v=a.length;for(v||(v=1,i=n);++p<v;){var w=i==null?n:i[hr(a[p])];w===n&&(p=v,w=c),i=Rr(w)?w.call(i):w}return i}function XT(i,a,c){return i==null?i:Lo(i,a,c)}function QT(i,a,c,p){return p=typeof p=="function"?p:n,i==null?i:Lo(i,a,c,p)}var wm=Lg(Lt),xm=Lg(gn);function ZT(i,a,c){var p=De(i),v=p||us(i)||Li(i);if(a=Se(a,4),c==null){var w=i&&i.constructor;v?c=p?new w:[]:yt(i)?c=Rr(w)?Ii(nl(i)):{}:c={}}return(v?Un:dr)(i,function(k,L,B){return a(c,k,L,B)}),c}function ek(i,a){return i==null?!0:zc(i,a)}function tk(i,a,c){return i==null?i:mg(i,a,Yc(c))}function nk(i,a,c,p){return p=typeof p=="function"?p:n,i==null?i:mg(i,a,Yc(c),p)}function Ni(i){return i==null?[]:Ac(i,Lt(i))}function rk(i){return i==null?[]:Ac(i,gn(i))}function sk(i,a,c){return c===n&&(c=a,a=n),c!==n&&(c=Wn(c),c=c===c?c:0),a!==n&&(a=Wn(a),a=a===a?a:0),Ws(Wn(i),a,c)}function ik(i,a,c){return a=Pr(a),c===n?(c=a,a=0):c=Pr(c),i=Wn(i),dE(i,a,c)}function ok(i,a,c){if(c&&typeof c!="boolean"&&Zt(i,a,c)&&(a=c=n),c===n&&(typeof a=="boolean"?(c=a,a=n):typeof i=="boolean"&&(c=i,i=n)),i===n&&a===n?(i=0,a=1):(i=Pr(i),a===n?(a=i,i=0):a=Pr(a)),i>a){var p=i;i=a,a=p}if(c||i%1||a%1){var v=Vp();return Kt(i+v*(a-i+U1("1e-"+((v+"").length-1))),a)}return Wc(i,a)}var ak=Pi(function(i,a,c){return a=a.toLowerCase(),i+(c?Em(a):a)});function Em(i){return vd(tt(i).toLowerCase())}function Cm(i){return i=tt(i),i&&i.replace(u1,X1).replace(A1,"")}function lk(i,a,c){i=tt(i),a=kn(a);var p=i.length;c=c===n?p:Ws(Be(c),0,p);var v=c;return c-=a.length,c>=0&&i.slice(c,v)==a}function uk(i){return i=tt(i),i&&qw.test(i)?i.replace(tp,Q1):i}function ck(i){return i=tt(i),i&&Jw.test(i)?i.replace(fc,"\\$&"):i}var dk=Pi(function(i,a,c){return i+(c?"-":"")+a.toLowerCase()}),fk=Pi(function(i,a,c){return i+(c?" ":"")+a.toLowerCase()}),hk=kg("toLowerCase");function pk(i,a,c){i=tt(i),a=Be(a);var p=a?Ci(i):0;if(!a||p>=a)return i;var v=(a-p)/2;return _l(ol(v),c)+i+_l(il(v),c)}function gk(i,a,c){i=tt(i),a=Be(a);var p=a?Ci(i):0;return a&&p<a?i+_l(a-p,c):i}function mk(i,a,c){i=tt(i),a=Be(a);var p=a?Ci(i):0;return a&&p<a?_l(a-p,c)+i:i}function vk(i,a,c){return c||a==null?a=0:a&&(a=+a),Cx(tt(i).replace(hc,""),a||0)}function yk(i,a,c){return(c?Zt(i,a,c):a===n)?a=1:a=Be(a),Kc(tt(i),a)}function _k(){var i=arguments,a=tt(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var bk=Pi(function(i,a,c){return i+(c?"_":"")+a.toLowerCase()});function wk(i,a,c){return c&&typeof c!="number"&&Zt(i,a,c)&&(a=c=n),c=c===n?Et:c>>>0,c?(i=tt(i),i&&(typeof a=="string"||a!=null&&!pd(a))&&(a=kn(a),!a&&Ei(i))?ls(Qn(i),0,c):i.split(a,c)):[]}var xk=Pi(function(i,a,c){return i+(c?" ":"")+vd(a)});function Ek(i,a,c){return i=tt(i),c=c==null?0:Ws(Be(c),0,i.length),a=kn(a),i.slice(c,c+a.length)==a}function Ck(i,a,c){var p=_.templateSettings;c&&Zt(i,a,c)&&(a=n),i=tt(i),a=Pl({},a,p,Ng);var v=Pl({},a.imports,p.imports,Ng),w=Lt(v),k=Ac(v,w),L,B,Y=0,X=a.interpolate||Wa,ne="__p += '",ce=Rc((a.escape||Wa).source+"|"+X.source+"|"+(X===np?r1:Wa).source+"|"+(a.evaluate||Wa).source+"|$","g"),ve="//# sourceURL="+(ot.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++L1+"]")+`
`;i.replace(ce,function(ke,qe,Je,In,en,Rn){return Je||(Je=In),ne+=i.slice(Y,Rn).replace(c1,Z1),qe&&(L=!0,ne+=`' +
__e(`+qe+`) +
'`),en&&(B=!0,ne+=`';
`+en+`;
__p += '`),Je&&(ne+=`' +
((__t = (`+Je+`)) == null ? '' : __t) +
'`),Y=Rn+ke.length,ke}),ne+=`';
`;var Te=ot.call(a,"variable")&&a.variable;if(!Te)ne=`with (obj) {
`+ne+`
}
`;else if(t1.test(Te))throw new Oe(u);ne=(B?ne.replace(Bw,""):ne).replace(Fw,"$1").replace(jw,"$1;"),ne="function("+(Te||"obj")+`) {
`+(Te?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ne+`return __p
}`;var je=Tm(function(){return et(w,ve+"return "+ne).apply(n,k)});if(je.source=ne,hd(je))throw je;return je}function Sk(i){return tt(i).toLowerCase()}function Tk(i){return tt(i).toUpperCase()}function kk(i,a,c){if(i=tt(i),i&&(c||a===n))return $p(i);if(!i||!(a=kn(a)))return i;var p=Qn(i),v=Qn(a),w=Dp(p,v),k=Mp(p,v)+1;return ls(p,w,k).join("")}function Ak(i,a,c){if(i=tt(i),i&&(c||a===n))return i.slice(0,Bp(i)+1);if(!i||!(a=kn(a)))return i;var p=Qn(i),v=Mp(p,Qn(a))+1;return ls(p,0,v).join("")}function Ik(i,a,c){if(i=tt(i),i&&(c||a===n))return i.replace(hc,"");if(!i||!(a=kn(a)))return i;var p=Qn(i),v=Dp(p,Qn(a));return ls(p,v).join("")}function Rk(i,a){var c=j,p=he;if(yt(a)){var v="separator"in a?a.separator:v;c="length"in a?Be(a.length):c,p="omission"in a?kn(a.omission):p}i=tt(i);var w=i.length;if(Ei(i)){var k=Qn(i);w=k.length}if(c>=w)return i;var L=c-Ci(p);if(L<1)return p;var B=k?ls(k,0,L).join(""):i.slice(0,L);if(v===n)return B+p;if(k&&(L+=B.length-L),pd(v)){if(i.slice(L).search(v)){var Y,X=B;for(v.global||(v=Rc(v.source,tt(rp.exec(v))+"g")),v.lastIndex=0;Y=v.exec(X);)var ne=Y.index;B=B.slice(0,ne===n?L:ne)}}else if(i.indexOf(kn(v),L)!=L){var ce=B.lastIndexOf(v);ce>-1&&(B=B.slice(0,ce))}return B+p}function Pk(i){return i=tt(i),i&&Hw.test(i)?i.replace(ep,ox):i}var Ok=Pi(function(i,a,c){return i+(c?" ":"")+a.toUpperCase()}),vd=kg("toUpperCase");function Sm(i,a,c){return i=tt(i),a=c?n:a,a===n?tx(i)?ux(i):V1(i):i.match(a)||[]}var Tm=He(function(i,a){try{return Sn(i,n,a)}catch(c){return hd(c)?c:new Oe(c)}}),Lk=Ar(function(i,a){return Un(a,function(c){c=hr(c),Tr(i,c,dd(i[c],i))}),i});function Nk(i){var a=i==null?0:i.length,c=Se();return i=a?mt(i,function(p){if(typeof p[1]!="function")throw new Bn(l);return[c(p[0]),p[1]]}):[],He(function(p){for(var v=-1;++v<a;){var w=i[v];if(Sn(w[0],this,p))return Sn(w[1],this,p)}})}function $k(i){return oE(jn(i,g))}function yd(i){return function(){return i}}function Dk(i,a){return i==null||i!==i?a:i}var Mk=Ig(),Uk=Ig(!0);function mn(i){return i}function _d(i){return ig(typeof i=="function"?i:jn(i,g))}function Bk(i){return ag(jn(i,g))}function Fk(i,a){return lg(i,jn(a,g))}var jk=He(function(i,a){return function(c){return Po(c,i,a)}}),Hk=He(function(i,a){return function(c){return Po(i,c,a)}});function bd(i,a,c){var p=Lt(a),v=fl(a,p);c==null&&!(yt(a)&&(v.length||!p.length))&&(c=a,a=i,i=this,v=fl(a,Lt(a)));var w=!(yt(c)&&"chain"in c)||!!c.chain,k=Rr(i);return Un(v,function(L){var B=a[L];i[L]=B,k&&(i.prototype[L]=function(){var Y=this.__chain__;if(w||Y){var X=i(this.__wrapped__),ne=X.__actions__=hn(this.__actions__);return ne.push({func:B,args:arguments,thisArg:i}),X.__chain__=Y,X}return B.apply(i,ns([this.value()],arguments))})}),i}function qk(){return jt._===this&&(jt._=gx),this}function wd(){}function Wk(i){return i=Be(i),He(function(a){return ug(a,i)})}var Kk=Qc(mt),Vk=Qc(Rp),zk=Qc(Ec);function km(i){return id(i)?Cc(hr(i)):EE(i)}function Gk(i){return function(a){return i==null?n:Ks(i,a)}}var Jk=Pg(),Yk=Pg(!0);function xd(){return[]}function Ed(){return!1}function Xk(){return{}}function Qk(){return""}function Zk(){return!0}function eA(i,a){if(i=Be(i),i<1||i>_e)return[];var c=Et,p=Kt(i,Et);a=Se(a),i-=Et;for(var v=kc(p,a);++c<i;)a(c);return v}function tA(i){return De(i)?mt(i,hr):An(i)?[i]:hn(zg(tt(i)))}function nA(i){var a=++hx;return tt(i)+a}var rA=yl(function(i,a){return i+a},0),sA=Zc("ceil"),iA=yl(function(i,a){return i/a},1),oA=Zc("floor");function aA(i){return i&&i.length?dl(i,mn,Uc):n}function lA(i,a){return i&&i.length?dl(i,Se(a,2),Uc):n}function uA(i){return Lp(i,mn)}function cA(i,a){return Lp(i,Se(a,2))}function dA(i){return i&&i.length?dl(i,mn,Hc):n}function fA(i,a){return i&&i.length?dl(i,Se(a,2),Hc):n}var hA=yl(function(i,a){return i*a},1),pA=Zc("round"),gA=yl(function(i,a){return i-a},0);function mA(i){return i&&i.length?Tc(i,mn):0}function vA(i,a){return i&&i.length?Tc(i,Se(a,2)):0}return _.after=BS,_.ary=sm,_.assign=TT,_.assignIn=ym,_.assignInWith=Pl,_.assignWith=kT,_.at=AT,_.before=im,_.bind=dd,_.bindAll=Lk,_.bindKey=om,_.castArray=XS,_.chain=tm,_.chunk=oC,_.compact=aC,_.concat=lC,_.cond=Nk,_.conforms=$k,_.constant=yd,_.countBy=mS,_.create=IT,_.curry=am,_.curryRight=lm,_.debounce=um,_.defaults=RT,_.defaultsDeep=PT,_.defer=FS,_.delay=jS,_.difference=uC,_.differenceBy=cC,_.differenceWith=dC,_.drop=fC,_.dropRight=hC,_.dropRightWhile=pC,_.dropWhile=gC,_.fill=mC,_.filter=yS,_.flatMap=wS,_.flatMapDeep=xS,_.flatMapDepth=ES,_.flatten=Xg,_.flattenDeep=vC,_.flattenDepth=yC,_.flip=HS,_.flow=Mk,_.flowRight=Uk,_.fromPairs=_C,_.functions=UT,_.functionsIn=BT,_.groupBy=CS,_.initial=wC,_.intersection=xC,_.intersectionBy=EC,_.intersectionWith=CC,_.invert=jT,_.invertBy=HT,_.invokeMap=TS,_.iteratee=_d,_.keyBy=kS,_.keys=Lt,_.keysIn=gn,_.map=Sl,_.mapKeys=WT,_.mapValues=KT,_.matches=Bk,_.matchesProperty=Fk,_.memoize=kl,_.merge=VT,_.mergeWith=_m,_.method=jk,_.methodOf=Hk,_.mixin=bd,_.negate=Al,_.nthArg=Wk,_.omit=zT,_.omitBy=GT,_.once=qS,_.orderBy=AS,_.over=Kk,_.overArgs=WS,_.overEvery=Vk,_.overSome=zk,_.partial=fd,_.partialRight=cm,_.partition=IS,_.pick=JT,_.pickBy=bm,_.property=km,_.propertyOf=Gk,_.pull=AC,_.pullAll=Zg,_.pullAllBy=IC,_.pullAllWith=RC,_.pullAt=PC,_.range=Jk,_.rangeRight=Yk,_.rearg=KS,_.reject=OS,_.remove=OC,_.rest=VS,_.reverse=ud,_.sampleSize=NS,_.set=XT,_.setWith=QT,_.shuffle=$S,_.slice=LC,_.sortBy=US,_.sortedUniq=FC,_.sortedUniqBy=jC,_.split=wk,_.spread=zS,_.tail=HC,_.take=qC,_.takeRight=WC,_.takeRightWhile=KC,_.takeWhile=VC,_.tap=aS,_.throttle=GS,_.thru=Cl,_.toArray=gm,_.toPairs=wm,_.toPairsIn=xm,_.toPath=tA,_.toPlainObject=vm,_.transform=ZT,_.unary=JS,_.union=zC,_.unionBy=GC,_.unionWith=JC,_.uniq=YC,_.uniqBy=XC,_.uniqWith=QC,_.unset=ek,_.unzip=cd,_.unzipWith=em,_.update=tk,_.updateWith=nk,_.values=Ni,_.valuesIn=rk,_.without=ZC,_.words=Sm,_.wrap=YS,_.xor=eS,_.xorBy=tS,_.xorWith=nS,_.zip=rS,_.zipObject=sS,_.zipObjectDeep=iS,_.zipWith=oS,_.entries=wm,_.entriesIn=xm,_.extend=ym,_.extendWith=Pl,bd(_,_),_.add=rA,_.attempt=Tm,_.camelCase=ak,_.capitalize=Em,_.ceil=sA,_.clamp=sk,_.clone=QS,_.cloneDeep=eT,_.cloneDeepWith=tT,_.cloneWith=ZS,_.conformsTo=nT,_.deburr=Cm,_.defaultTo=Dk,_.divide=iA,_.endsWith=lk,_.eq=er,_.escape=uk,_.escapeRegExp=ck,_.every=vS,_.find=_S,_.findIndex=Jg,_.findKey=OT,_.findLast=bS,_.findLastIndex=Yg,_.findLastKey=LT,_.floor=oA,_.forEach=nm,_.forEachRight=rm,_.forIn=NT,_.forInRight=$T,_.forOwn=DT,_.forOwnRight=MT,_.get=gd,_.gt=rT,_.gte=sT,_.has=FT,_.hasIn=md,_.head=Qg,_.identity=mn,_.includes=SS,_.indexOf=bC,_.inRange=ik,_.invoke=qT,_.isArguments=Gs,_.isArray=De,_.isArrayBuffer=iT,_.isArrayLike=pn,_.isArrayLikeObject=Ct,_.isBoolean=oT,_.isBuffer=us,_.isDate=aT,_.isElement=lT,_.isEmpty=uT,_.isEqual=cT,_.isEqualWith=dT,_.isError=hd,_.isFinite=fT,_.isFunction=Rr,_.isInteger=dm,_.isLength=Il,_.isMap=fm,_.isMatch=hT,_.isMatchWith=pT,_.isNaN=gT,_.isNative=mT,_.isNil=yT,_.isNull=vT,_.isNumber=hm,_.isObject=yt,_.isObjectLike=bt,_.isPlainObject=Mo,_.isRegExp=pd,_.isSafeInteger=_T,_.isSet=pm,_.isString=Rl,_.isSymbol=An,_.isTypedArray=Li,_.isUndefined=bT,_.isWeakMap=wT,_.isWeakSet=xT,_.join=SC,_.kebabCase=dk,_.last=qn,_.lastIndexOf=TC,_.lowerCase=fk,_.lowerFirst=hk,_.lt=ET,_.lte=CT,_.max=aA,_.maxBy=lA,_.mean=uA,_.meanBy=cA,_.min=dA,_.minBy=fA,_.stubArray=xd,_.stubFalse=Ed,_.stubObject=Xk,_.stubString=Qk,_.stubTrue=Zk,_.multiply=hA,_.nth=kC,_.noConflict=qk,_.noop=wd,_.now=Tl,_.pad=pk,_.padEnd=gk,_.padStart=mk,_.parseInt=vk,_.random=ok,_.reduce=RS,_.reduceRight=PS,_.repeat=yk,_.replace=_k,_.result=YT,_.round=pA,_.runInContext=M,_.sample=LS,_.size=DS,_.snakeCase=bk,_.some=MS,_.sortedIndex=NC,_.sortedIndexBy=$C,_.sortedIndexOf=DC,_.sortedLastIndex=MC,_.sortedLastIndexBy=UC,_.sortedLastIndexOf=BC,_.startCase=xk,_.startsWith=Ek,_.subtract=gA,_.sum=mA,_.sumBy=vA,_.template=Ck,_.times=eA,_.toFinite=Pr,_.toInteger=Be,_.toLength=mm,_.toLower=Sk,_.toNumber=Wn,_.toSafeInteger=ST,_.toString=tt,_.toUpper=Tk,_.trim=kk,_.trimEnd=Ak,_.trimStart=Ik,_.truncate=Rk,_.unescape=Pk,_.uniqueId=nA,_.upperCase=Ok,_.upperFirst=vd,_.each=nm,_.eachRight=rm,_.first=Qg,bd(_,function(){var i={};return dr(_,function(a,c){ot.call(_.prototype,c)||(i[c]=a)}),i}(),{chain:!1}),_.VERSION=r,Un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){_[i].placeholder=_}),Un(["drop","take"],function(i,a){Ge.prototype[i]=function(c){c=c===n?1:Pt(Be(c),0);var p=this.__filtered__&&!a?new Ge(this):this.clone();return p.__filtered__?p.__takeCount__=Kt(c,p.__takeCount__):p.__views__.push({size:Kt(c,Et),type:i+(p.__dir__<0?"Right":"")}),p},Ge.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),Un(["filter","map","takeWhile"],function(i,a){var c=a+1,p=c==ae||c==ie;Ge.prototype[i]=function(v){var w=this.clone();return w.__iteratees__.push({iteratee:Se(v,3),type:c}),w.__filtered__=w.__filtered__||p,w}}),Un(["head","last"],function(i,a){var c="take"+(a?"Right":"");Ge.prototype[i]=function(){return this[c](1).value()[0]}}),Un(["initial","tail"],function(i,a){var c="drop"+(a?"":"Right");Ge.prototype[i]=function(){return this.__filtered__?new Ge(this):this[c](1)}}),Ge.prototype.compact=function(){return this.filter(mn)},Ge.prototype.find=function(i){return this.filter(i).head()},Ge.prototype.findLast=function(i){return this.reverse().find(i)},Ge.prototype.invokeMap=He(function(i,a){return typeof i=="function"?new Ge(this):this.map(function(c){return Po(c,i,a)})}),Ge.prototype.reject=function(i){return this.filter(Al(Se(i)))},Ge.prototype.slice=function(i,a){i=Be(i);var c=this;return c.__filtered__&&(i>0||a<0)?new Ge(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),a!==n&&(a=Be(a),c=a<0?c.dropRight(-a):c.take(a-i)),c)},Ge.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ge.prototype.toArray=function(){return this.take(Et)},dr(Ge.prototype,function(i,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),v=_[p?"take"+(a=="last"?"Right":""):a],w=p||/^find/.test(a);v&&(_.prototype[a]=function(){var k=this.__wrapped__,L=p?[1]:arguments,B=k instanceof Ge,Y=L[0],X=B||De(k),ne=function(qe){var Je=v.apply(_,ns([qe],L));return p&&ce?Je[0]:Je};X&&c&&typeof Y=="function"&&Y.length!=1&&(B=X=!1);var ce=this.__chain__,ve=!!this.__actions__.length,Te=w&&!ce,je=B&&!ve;if(!w&&X){k=je?k:new Ge(this);var ke=i.apply(k,L);return ke.__actions__.push({func:Cl,args:[ne],thisArg:n}),new Fn(ke,ce)}return Te&&je?i.apply(this,L):(ke=this.thru(ne),Te?p?ke.value()[0]:ke.value():ke)})}),Un(["pop","push","shift","sort","splice","unshift"],function(i){var a=Ya[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);_.prototype[i]=function(){var v=arguments;if(p&&!this.__chain__){var w=this.value();return a.apply(De(w)?w:[],v)}return this[c](function(k){return a.apply(De(k)?k:[],v)})}}),dr(Ge.prototype,function(i,a){var c=_[a];if(c){var p=c.name+"";ot.call(Ai,p)||(Ai[p]=[]),Ai[p].push({name:a,func:c})}}),Ai[vl(n,R).name]=[{name:"wrapper",func:n}],Ge.prototype.clone=Px,Ge.prototype.reverse=Ox,Ge.prototype.value=Lx,_.prototype.at=lS,_.prototype.chain=uS,_.prototype.commit=cS,_.prototype.next=dS,_.prototype.plant=hS,_.prototype.reverse=pS,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=gS,_.prototype.first=_.prototype.head,Co&&(_.prototype[Co]=fS),_},Si=cx();Fs?((Fs.exports=Si)._=Si,_c._=Si):jt._=Si}).call(_3)}(Yo,Yo.exports)),Yo.exports}var w3=b3();const Xt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},x3={class:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 text-white fixed top-0 left-0 w-full z-50 backdrop-blur-lg bg-opacity-80 shadow-lg"},E3={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-3"},C3={class:"flex items-center justify-between gap-4"},S3={class:"hidden lg:flex items-center gap-6 text-sm font-medium"},T3=["aria-expanded"],k3=["aria-expanded"],A3={class:"flex items-center gap-4"},I3={class:"relative"},R3={key:0,class:"search-dropdown absolute z-50 mt-2 w-full max-h-96 overflow-y-auto bg-gray-900/95 backdrop-blur-lg text-white rounded-xl shadow-xl scrollbar-thin"},P3=["src"],O3={key:1,src:"https://placehold.co/40x40/ccc/fff?text=No+Img",alt:"Placeholder",class:"w-10 h-14 object-cover rounded-md"},L3={class:"font-medium"},N3={class:"text-xs text-gray-400"},$3={key:1,class:"search-dropdown absolute z-50 mt-2 w-full bg-gray-900/95 backdrop-blur-lg text-white rounded-xl shadow-xl px-4 py-3"},D3={key:2,class:"search-dropdown absolute z-50 mt-2 w-full bg-gray-900/95 backdrop-blur-lg text-white rounded-xl shadow-xl px-4 py-3 flex items-center gap-2"},M3=["aria-expanded"],U3=["src"],B3={key:1,class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F3={class:"text-sm font-medium"},j3={key:1,for:"avatar-upload",class:"block w-full text-left px-4 py-3 hover:bg-orange-500/10 cursor-pointer"},H3={class:"px-4 pb-4"},q3={class:"mb-4 relative"},W3={class:"flex flex-col gap-4 text-base font-semibold"},K3={key:0,class:"mt-2 pl-4 max-h-64 overflow-y-auto scrollbar-thin"},V3={key:0,class:"mt-2 pl-4 max-h-64 overflow-y-auto scrollbar-thin"},z3={key:0},G3={for:"avatar-upload-mobile",class:"block py-2 hover:text-orange-400 cursor-pointer w-full text-left"},J3={key:1},Y3={__name:"Navbar",setup(t){const e=xr(),n=Ba(),r=Fa(),s=sD(),o=te(!1),l=te(!1),u=te(!1),d=te(!1),f=te(!1),h=te(!1),g=te(""),m=te(null),y=te(null),x=te(null),S=te(null),C=te(null),R=w3.debounce(()=>{const q=g.value.trim();s.searchMovies(q)},300),N=q=>{u.value?q==="categoryMobile"?(o.value=!o.value,l.value=!1):q==="countryMobile"&&(l.value=!l.value,o.value=!1):q==="categoryDesktop"?(d.value=!d.value,f.value=!1,h.value=!1):q==="countryDesktop"?(f.value=!f.value,d.value=!1,h.value=!1):q==="userDesktop"&&(h.value=!h.value,d.value=!1,f.value=!1)},P=()=>{d.value=!1,f.value=!1,h.value=!1,o.value=!1,l.value=!1,u.value=!1,g.value=""},$=()=>{u.value=!u.value,d.value=!1,f.value=!1,h.value=!1,u.value||(o.value=!1,l.value=!1,g.value="")},E=()=>{if(s.getMovies.length>0){const q=s.getMovies[0];e.push(`/film/${q.slug}`),I()}},I=()=>{g.value="",s.searchMovies("")},O=async q=>{const j=q.target.files[0];if(!j)return;const H=Rs().currentUser;if(!H||!H.uid){console.warn("Vui lng ng nhp  cp nht avatar.");return}try{const xe=g3(),ae=p3(xe,`avatars/${H.uid}/${j.name}`);await f3(ae,j);const se=await h3(ae);await Eu(H,{photoURL:se}),m.value={...m.value,photoURL:se},console.log("Cp nht avatar thnh cng!")}catch(xe){console.error("Li khi ti ln avatar:",xe),console.warn(" c li xy ra khi cp nht avatar.")}},z=async()=>{const q=Rs();try{await PO(q),m.value=null,e.push("/auth"),P()}catch(j){console.error("Li khi ng xut:",j),console.warn(" c li xy ra khi ng xut.")}};return wn(()=>{document.addEventListener("click",j=>{y.value&&!y.value.contains(j.target)&&(d.value=!1),x.value&&!x.value.contains(j.target)&&(f.value=!1),S.value&&!S.value.contains(j.target)&&(h.value=!1),g.value&&C.value&&!C.value.contains(j.target)&&I();const he=document.querySelector(".mobile-menu-slide-in"),H=document.querySelector(".mobile-menu-trigger");u.value&&he&&H&&!he.contains(j.target)&&!H.contains(j.target)&&P()});try{n.getCountry(),r.getCategory(),console.log("Navbar: categoryStore.getAllCategories length:",r.getAllCategories.length),console.log("Navbar: countryStore.getAllCountries length:",n.getAllCountries.length)}catch(j){console.error("Li khi ly d liu th loi/quc gia:",j)}const q=Rs();yo(q,j=>{m.value=j})}),Tt(g,q=>{R()}),(q,j)=>{const he=ju("router-link");return D(),F("nav",x3,[b("div",E3,[b("div",C3,[Ee(he,{to:"/",class:"text-2xl font-bold tracking-tight hover:text-orange-400 transition-all duration-300 ease-out flex items-center gap-2"},{default:pt(()=>j[9]||(j[9]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-monitor-play"},[b("path",{d:"m10 7 5 3-5 3Z"}),b("rect",{width:"20",height:"14",x:"2",y:"4",rx:"2"})],-1),Pe(" HTHREE ")])),_:1}),b("ul",S3,[b("li",null,[Ee(he,{to:"/",class:"relative px-3 py-2 hover:text-orange-400 transition-all duration-300 ease-out group"},{default:pt(()=>j[10]||(j[10]=[Pe(" Trang ch "),b("span",{class:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-400 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ease-out"},null,-1)])),_:1})]),b("li",{class:"relative",ref_key:"categoryDropdownRef",ref:y},[b("button",{onClick:j[0]||(j[0]=H=>N("categoryDesktop")),class:"desktop-dropdown-button px-3 py-2 hover:text-orange-400 transition-all duration-300 ease-out flex items-center gap-1","aria-haspopup":"true","aria-expanded":d.value},[j[12]||(j[12]=Pe(" Th loi ")),(D(),F("svg",{class:Ke(["w-4 h-4 transform transition-transform duration-300",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j[11]||(j[11]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,T3),Vn(b("div",{class:Ke(["desktop-dropdown-content absolute z-50 mt-2 w-64 bg-gray-900/95 backdrop-blur-lg text-white rounded-xl shadow-xl transition-all duration-300 max-h-96 overflow-y-auto scrollbar-thin",{"opacity-100 translate-y-0":d.value,"opacity-0 -translate-y-2 pointer-events-none":!d.value}])},[(D(!0),F(Re,null,Xe(Fe(r).getAllCategories,H=>(D(),_t(he,{key:H.slug,to:`/category/${H.slug}/page/1`,class:"block px-4 py-3 hover:bg-orange-500/10 hover:text-orange-400 rounded-lg transition-all duration-200",onClick:P},{default:pt(()=>[Pe(ge(H.name),1)]),_:2},1032,["to"]))),128))],2),[[Ld,d.value]])],512),b("li",{class:"relative",ref_key:"countryDropdownRef",ref:x},[b("button",{onClick:j[1]||(j[1]=H=>N("countryDesktop")),class:"desktop-dropdown-button px-3 py-2 hover:text-orange-400 transition-all duration-300 ease-out flex items-center gap-1","aria-haspopup":"true","aria-expanded":f.value},[j[14]||(j[14]=Pe(" Quc gia ")),(D(),F("svg",{class:Ke(["w-4 h-4 transform transition-transform duration-300",{"rotate-180":f.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j[13]||(j[13]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,k3),Vn(b("div",{class:Ke(["desktop-dropdown-content absolute z-50 mt-2 w-64 bg-gray-900/95 backdrop-blur-lg text-white rounded-xl shadow-xl transition-all duration-300 max-h-96 overflow-y-auto scrollbar-thin",{"opacity-100 translate-y-0":f.value,"opacity-0 -translate-y-2 pointer-events-none":!f.value}])},[(D(!0),F(Re,null,Xe(Fe(n).getAllCountries,H=>(D(),_t(he,{key:H.slug,to:`/country/${H.slug}/page/1`,class:"block px-4 py-3 hover:bg-orange-500/10 hover:text-orange-400 rounded-lg transition-all duration-200",onClick:P},{default:pt(()=>[Pe(ge(H.name),1)]),_:2},1032,["to"]))),128))],2),[[Ld,f.value]])],512),b("li",null,[Ee(he,{to:"/contact",class:"relative px-3 py-2 hover:text-orange-400 transition-all duration-300 ease-out group"},{default:pt(()=>j[15]||(j[15]=[Pe(" Lin h "),b("span",{class:"absolute bottom-0 left-0 w-full h-0.5 bg-orange-400 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ease-out"},null,-1)])),_:1})])]),b("div",A3,[b("div",{class:"relative w-full sm:w-80",ref_key:"searchContainerRef",ref:C},[b("div",I3,[Vn(b("input",{type:"text","onUpdate:modelValue":j[2]||(j[2]=H=>g.value=H),onInput:j[3]||(j[3]=(...H)=>Fe(R)&&Fe(R)(...H)),onKeyup:rr(E,["enter"]),placeholder:"Tm kim phim...",class:"search-input w-full pl-10 pr-12 py-2.5 bg-gray-900/30 backdrop-blur-lg text-white placeholder-gray-400 border border-gray-700/50 rounded-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all duration-300 shadow-sm","aria-label":"Tm kim phim"},null,544),[[Wr,g.value]]),j[17]||(j[17]=b("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("circle",{cx:"11",cy:"11",r:"8"}),b("path",{d:"m21 21-4.3-4.3"})],-1)),g.value?(D(),F("button",{key:0,onClick:I,class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-orange-400 transition-colors duration-200","aria-label":"Xa tm kim"},j[16]||(j[16]=[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):Ye("",!0)]),Fe(s).getMovies.length>0&&g.value?(D(),F("div",R3,[(D(!0),F(Re,null,Xe(Fe(s).getMovies,H=>(D(),_t(he,{key:H.slug,to:`/film/${H.slug}`,class:"block px-4 py-3 hover:bg-orange-500/10 rounded-lg transition-all duration-200 flex items-center gap-3",onClick:I},{default:pt(()=>[H.thumb_url?(D(),F("img",{key:0,src:H.thumb_url,alt:"Poster phim",class:"w-10 h-14 object-cover rounded-md"},null,8,P3)):(D(),F("img",O3)),b("div",null,[b("p",L3,ge(H.name),1),b("p",N3,[Pe(ge(H.year||"N/A")+" ",1),H.genres&&H.genres.length>0?(D(),F(Re,{key:0},[Pe("  "+ge(H.genres.join(", ")),1)],64)):Ye("",!0)])])]),_:2},1032,["to"]))),128))])):g.value&&!Fe(s).getMovies.length&&!Fe(s).getLoading?(D(),F("div",$3," Khng tm thy phim ")):Fe(s).getLoading&&g.value?(D(),F("div",D3,j[18]||(j[18]=[b("svg",{class:"animate-spin h-5 w-5 text-orange-400",fill:"none",viewBox:"0 0 24 24"},[b("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",class:"opacity-25"}),b("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",class:"opacity-75"})],-1),Pe(" ang tm kim... ")]))):Ye("",!0)],512),b("div",{class:"relative",ref_key:"userDropdownRef",ref:S},[b("button",{onClick:j[4]||(j[4]=H=>N("userDesktop")),class:"desktop-dropdown-button flex items-center gap-2 px-3 py-2 hover:bg-orange-500/10 rounded-full transition-all duration-300","aria-haspopup":"true","aria-expanded":h.value},[m.value&&m.value.photoURL?(D(),F("img",{key:0,src:m.value.photoURL,alt:"Avatar ngi dng",class:"w-8 h-8 rounded-full object-cover border border-gray-700/50"},null,8,U3)):(D(),F("svg",B3,j[19]||(j[19]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zm-4 7a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]))),b("span",F3,ge(m.value?m.value.displayName||m.value.email:"Khch"),1)],8,M3),Vn(b("div",{class:Ke(["desktop-dropdown-content absolute z-50 mt-2 right-0 w-48 bg-gray-900/95 backdrop-blur-lg text-white rounded-xl shadow-xl transition-all duration-300",{"opacity-100 translate-y-0":h.value,"opacity-0 -translate-y-2 pointer-events-none":!h.value}])},[m.value?(D(),_t(he,{key:0,to:"/account",class:"block px-4 py-3 hover:bg-orange-500/10 rounded-t-lg",onClick:P},{default:pt(()=>j[20]||(j[20]=[Pe(" Ti khon ")])),_:1})):Ye("",!0),m.value?(D(),F("label",j3,[j[21]||(j[21]=Pe(" Cp nht Avatar ")),b("input",{id:"avatar-upload",type:"file",accept:"image/*",class:"hidden",onChange:O},null,32)])):Ye("",!0),m.value?(D(),F("button",{key:2,onClick:z,class:"block w-full text-left px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-b-lg"}," ng xut ")):(D(),_t(he,{key:3,to:"/auth",class:"block px-4 py-3 hover:bg-orange-500/10 rounded-lg",onClick:P},{default:pt(()=>j[22]||(j[22]=[Pe(" ng nhp ")])),_:1}))],2),[[Ld,h.value]])],512),b("button",{class:"lg:hidden mobile-menu-trigger",onClick:$,"aria-label":"M menu di ng"},j[23]||(j[23]=[b("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])]),u.value?(D(),F("div",{key:0,class:Ke(["mobile-menu-slide-in lg:hidden fixed top-0 right-0 h-full w-80 bg-gray-900/95 backdrop-blur-lg transform transition-transform duration-300 ease-in-out",{"translate-x-0":u.value,"translate-x-full":!u.value}])},[b("div",{class:"flex justify-end p-4"},[b("button",{onClick:$,class:"text-white hover:text-orange-400","aria-label":"ng menu di ng"},j[24]||(j[24]=[b("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),b("div",H3,[b("div",q3,[Vn(b("input",{type:"text","onUpdate:modelValue":j[5]||(j[5]=H=>g.value=H),onInput:j[6]||(j[6]=(...H)=>Fe(R)&&Fe(R)(...H)),onKeyup:rr(E,["enter"]),placeholder:"Tm kim phim...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-800/50 backdrop-blur-lg text-white placeholder-gray-400 border border-gray-700/50 rounded-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all duration-300","aria-label":"Tm kim phim"},null,544),[[Wr,g.value]]),j[25]||(j[25]=b("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("circle",{cx:"11",cy:"11",r:"8"}),b("path",{d:"m21 21-4.3-4.3"})],-1))]),b("ul",W3,[b("li",null,[Ee(he,{to:"/",class:"block py-2 hover:text-orange-400",onClick:$},{default:pt(()=>j[26]||(j[26]=[Pe(" Trang ch ")])),_:1})]),b("li",null,[b("button",{onClick:j[7]||(j[7]=H=>N("categoryMobile")),class:"block py-2 hover:text-orange-400 w-full text-left flex items-center justify-between"},[j[28]||(j[28]=Pe(" Genres ")),(D(),F("svg",{class:Ke(["w-4 h-4 transition-transform duration-300",{"rotate-180":o.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j[27]||(j[27]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),o.value?(D(),F("div",K3,[(D(!0),F(Re,null,Xe(Fe(r).getAllCategories,H=>(D(),_t(he,{key:H.slug,to:`/category/${H.slug}/page/1`,class:"block py-2 hover:text-orange-400",onClick:P},{default:pt(()=>[Pe(ge(H.name),1)]),_:2},1032,["to"]))),128))])):Ye("",!0)]),b("li",null,[b("button",{onClick:j[8]||(j[8]=H=>N("countryMobile")),class:"block py-2 hover:text-orange-400 w-full text-left flex items-center justify-between"},[j[30]||(j[30]=Pe(" Quc Gia ")),(D(),F("svg",{class:Ke(["w-4 h-4 transition-transform duration-300",{"rotate-180":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j[29]||(j[29]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),l.value?(D(),F("div",V3,[(D(!0),F(Re,null,Xe(Fe(n).getAllCountries,H=>(D(),_t(he,{key:H.slug,to:`/country/${H.slug}/page/1`,class:"block py-2 hover:text-orange-400",onClick:P},{default:pt(()=>[Pe(ge(H.name),1)]),_:2},1032,["to"]))),128))])):Ye("",!0)]),b("li",null,[Ee(he,{to:"/contact",class:"block py-2 hover:text-orange-400",onClick:$},{default:pt(()=>j[31]||(j[31]=[Pe(" Lin h ")])),_:1})]),b("li",null,[m.value?(D(),_t(he,{key:0,to:"/account",class:"block py-2 hover:text-orange-400",onClick:$},{default:pt(()=>j[32]||(j[32]=[Pe(" Ti khon ")])),_:1})):(D(),_t(he,{key:1,to:"/auth",class:"block py-2 hover:text-orange-400",onClick:$},{default:pt(()=>j[33]||(j[33]=[Pe(" ng nhp ")])),_:1}))]),m.value?(D(),F("li",z3,[b("label",G3,[j[34]||(j[34]=Pe(" Cp nht Avatar ")),b("input",{id:"avatar-upload-mobile",type:"file",accept:"image/*",class:"hidden",onChange:O},null,32)])])):Ye("",!0),m.value?(D(),F("li",J3,[b("button",{onClick:z,class:"block py-2 text-red-400 hover:text-red-300 w-full text-left"}," ng xut ")])):Ye("",!0)])])],2)):Ye("",!0)])])}}},X3=Xt(Y3,[["__scopeId","data-v-a24d9283"]]),ja={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},fo={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},un={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Q3={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},Z3={dangerouslyHTMLString:!1,multiple:!0,position:ja.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},eM={rtl:!1,newestOnTop:!1,toastClassName:""},rw={...Z3,...eM};un.DEFAULT;var st=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(st||{}),zf=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(zf||{});const tM={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},nM={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},rM={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},sM={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},M0="Toastify--animate Toastify__none-enter";function sw(t,e=!1){var n;let r=tM;if(!t||typeof t=="string")switch(t){case"flip":r=sM;break;case"zoom":r=rM;break;case"slide":r=nM;break}else r=t;if(e)r.enter=M0;else if(r.enter===M0){const s=(n=r.exit.split("__")[1])==null?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${s}-enter`}return r}function iM(t){return t.containerId||String(t.position)}const Zu="will-unmount";function oM(t=ja.TOP_RIGHT){return!!document.querySelector(`.${st.CSS_NAMESPACE}__toast-container--${t}`)}function aM(t=ja.TOP_RIGHT){return`${st.CSS_NAMESPACE}__toast-container--${t}`}function lM(t,e,n=!1){const r=[`${st.CSS_NAMESPACE}__toast-container`,`${st.CSS_NAMESPACE}__toast-container--${t}`,n?`${st.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return ro(e)?e({position:t,rtl:n,defaultClassName:r}):`${r} ${e||""}`}function uM(t){var e;const{position:n,containerClassName:r,rtl:s=!1,style:o={}}=t,l=st.CSS_NAMESPACE,u=aM(n),d=document.querySelector(`.${l}`),f=document.querySelector(`.${u}`),h=!!f&&!((e=f.className)!=null&&e.includes(Zu)),g=d||document.createElement("div"),m=document.createElement("div");m.className=lM(n,r,s),m.dataset.testid=`${st.CSS_NAMESPACE}__toast-container--${n}`,m.id=iM(t);for(const y in o)if(Object.prototype.hasOwnProperty.call(o,y)){const x=o[y];m.style[y]=x}return d||(g.className=st.CSS_NAMESPACE,document.body.appendChild(g)),h||g.appendChild(m),m}function Gf(t){var e,n,r;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),o=document.getElementById(s);o&&o.removeEventListener("animationend",Gf,!1);try{Sa[s].unmount(),(r=document.getElementById(s))==null||r.remove(),delete Sa[s],delete qt[s]}catch{}}const Sa=xn({});function cM(t,e){const n=document.getElementById(String(e));n&&(Sa[n.id]=t)}function Jf(t,e=!0){const n=String(t);if(!Sa[n])return;const r=document.getElementById(n);r&&r.classList.add(Zu),e?(fM(t),r&&r.addEventListener("animationend",Gf,!1)):Gf(n),wr.items=wr.items.filter(s=>s.containerId!==t)}function dM(t){for(const e in Sa)Jf(e,t);wr.items=[]}function iw(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...sw(r.transition)};const s=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${s}`,e&&e(n)}}function fM(t){for(const e in qt)if(e===t)for(const n of qt[e]||[])iw(n)}function hM(t){const e=ho().find(n=>n.toastId===t);return e==null?void 0:e.containerId}function Jh(t){return document.getElementById(t)}function pM(t){const e=Jh(t.containerId);return e&&e.classList.contains(Zu)}function U0(t){var e;const n=so(t.content)?Le(t.content.props):null;return n??Le((e=t.data)!=null?e:{})}function gM(t){return t?wr.items.filter(e=>e.containerId===t).length>0:wr.items.length>0}function mM(){if(wr.items.length>0){const t=wr.items.shift();nu(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const qt=xn({}),wr=xn({items:[]});function ho(){const t=Le(qt);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function vM(t){return ho().find(e=>e.toastId===t)}function nu(t,e={}){if(pM(e)){const n=Jh(e.containerId);n&&n.addEventListener("animationend",Yf.bind(null,t,e),!1)}else Yf(t,e)}function Yf(t,e={}){const n=Jh(e.containerId);n&&n.removeEventListener("animationend",Yf.bind(null,t,e),!1);const r=qt[e.containerId]||[],s=r.length>0;if(!s&&!oM(e.position)){const o=uM(e),l=d_(MM,e);e.useHandler&&e.useHandler(l),l.mount(o),cM(l,o.id)}s&&!e.updateId&&(e.position=r[0].position),po(()=>{e.updateId?On.update(e):On.add(t,e)})}const On={add(t,e){const{containerId:n=""}=e;n&&(qt[n]=qt[n]||[],qt[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,s;e.newestOnTop?(r=qt[n])==null||r.unshift(e):(s=qt[n])==null||s.push(e),e.onOpen&&e.onOpen(U0(e))},e.delay||0))},remove(t){if(t){const e=hM(t);if(e){const n=qt[e];let r=n.find(s=>s.toastId===t);qt[e]=n.filter(s=>s.toastId!==t),!qt[e].length&&!gM(e)&&Jf(e,!1),mM(),po(()=>{r!=null&&r.onClose&&(r.onClose(U0(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){qt[e]=qt[e]||[];const n=qt[e].find(o=>o.toastId===t.toastId),r=(n==null?void 0:n.position)!==t.position||(n==null?void 0:n.transition)!==t.transition,s={...t,disabledEnterTransition:!r,updateId:void 0};On.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{it(s.content,s)},t.delay||0)}},clear(t,e=!0){t?Jf(t,e):dM(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",On.dismissCallback,!1),setTimeout(()=>{On.remove(n)}))},dismiss(t){if(t){const e=ho();for(const n of e)if(n.toastId===t){iw(n,r=>{r.addEventListener("animationend",On.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=ho();for(const n of e)if(n.toastId===t){const r=document.getElementById(t);r&&(r.remove(),r.removeEventListener("animationend",On.dismissCallback,!1),On.remove(t));break}}}},yM=xn({useHandler:void 0}),ow=xn({}),Au=xn({});function aw(){return Math.random().toString(36).substring(2,9)}function _M(t){return typeof t=="number"&&!isNaN(t)}function Xf(t){return typeof t=="string"}function ro(t){return typeof t=="function"}function ec(...t){return Yr(...t)}function ru(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function bM(t={}){ow[`${st.CSS_NAMESPACE}-default-options`]=t}function wM(){return ow[`${st.CSS_NAMESPACE}-default-options`]||rw}function xM(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var su=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(su||{});const lw={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:ja.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:fo.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:un.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},EM={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:un.DEFAULT},theme:{type:String,required:!1,default:fo.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},CM=go({name:"ProgressBar",props:EM,setup(t,{attrs:e}){const n=te(),r=$e(()=>t.hide?"true":"false"),s=$e(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),o=$e(()=>[`${st.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${st.CSS_NAMESPACE}__progress-bar--controlled`:`${st.CSS_NAMESPACE}__progress-bar--animated`,`${st.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${st.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${st.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),l=$e(()=>`${o.value} ${(e==null?void 0:e.class)||""}`),u=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},d=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),u())},f=$e(()=>t.controlledProgress?null:d),h=$e(()=>t.controlledProgress?d:null);return Gl(()=>{n.value&&(u(),n.value.onanimationend=f.value,n.value.ontransitionend=h.value)}),()=>Ee("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:l.value,style:s.value},null)}}),SM=go({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:fo.AUTO},type:{type:String,required:!1,default:fo.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>Ee("button",{class:`${st.CSS_NAMESPACE}__close-button ${st.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[Ee("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Ee("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),tc=({theme:t,type:e,path:n,...r})=>Ee("svg",Yr({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},r),[Ee("path",{d:n},null)]);function TM(t){return Ee(tc,Yr(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function kM(t){return Ee(tc,Yr(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function AM(t){return Ee(tc,Yr(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function IM(t){return Ee(tc,Yr(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function RM(){return Ee("div",{class:`${st.CSS_NAMESPACE}__spinner`},null)}const iu={info:kM,warning:TM,success:AM,error:IM,spinner:RM},PM=t=>t in iu;function OM({theme:t,type:e,isLoading:n,icon:r}){let s;const o=!!n||e==="loading",l={theme:t,type:e};if(o&&(r===void 0||typeof r=="boolean"))return iu.spinner();if(r!==!1){if(ru(r))s=Le(r);else if(ro(r)){const u=r;l.type=o?"loading":e,s=u(l),s=!s&&o?iu.spinner():s}else so(r)?s=Vr(r,l):Xf(r)||_M(r)?s=r:PM(e)&&(s=iu[e](l));return s}}const LM=()=>{};function NM(t,e,n=st.COLLAPSE_DURATION){const{scrollHeight:r,style:s}=t,o=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${o}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,o)})})}function $M(t){const e=te(!1),n=te(!1),r=te(!1),s=te(su.Enter),o=xn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||st.COLLAPSE_DURATION}),l=o.done||LM,u=$e(()=>o.appendPosition?`${o.enter}--${o.position}`:o.enter),d=$e(()=>o.appendPosition?`${o.exit}--${o.position}`:o.exit),f=$e(()=>t.pauseOnHover?{onMouseenter:C,onMouseleave:S}:{});function h(){const N=u.value.split(" ");m().addEventListener(zf.ENTRANCE_ANIMATION_END,S,{once:!0});const P=E=>{const I=m();E.target===I&&(I.dispatchEvent(new Event(zf.ENTRANCE_ANIMATION_END)),I.removeEventListener("animationend",P),I.removeEventListener("animationcancel",P),s.value===su.Enter&&E.type!=="animationcancel"&&I.classList.remove(...N))},$=()=>{const E=m();E.classList.add(...N),E.addEventListener("animationend",P),E.addEventListener("animationcancel",P)};t.pauseOnFocusLoss&&y(),$()}function g(){if(!m())return;const N=()=>{const $=m();$.removeEventListener("animationend",N),o.collapse?NM($,l,o.collapseDuration):l()},P=()=>{const $=m();s.value=su.Exit,$&&($.className+=` ${d.value}`,$.addEventListener("animationend",N))};n.value||(r.value?N():setTimeout(P))}function m(){return t.toastRef.value}function y(){document.hasFocus()||C(),window.addEventListener("focus",S),window.addEventListener("blur",C)}function x(){window.removeEventListener("focus",S),window.removeEventListener("blur",C)}function S(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function C(){e.value=!1}function R(N){N&&(N.stopPropagation(),N.preventDefault()),n.value=!1}return Gl(g),Gl(()=>{const N=ho();n.value=N.findIndex(P=>P.toastId===o.toastId)>-1}),Gl(()=>{t.isLoading!==void 0&&(t.loading.value?C():S())}),wn(h),Fu(()=>{t.pauseOnFocusLoss&&x()}),{isIn:n,isRunning:e,hideToast:R,eventHandlers:f}}const DM=go({name:"ToastItem",inheritAttrs:!1,props:lw,setup(t){const e=te(),n=$e(()=>!!t.isLoading),r=$e(()=>t.progress!==void 0&&t.progress!==null),s=$e(()=>OM(t)),o=$e(()=>[`${st.CSS_NAMESPACE}__toast`,`${st.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${st.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${st.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:l,isIn:u,hideToast:d,eventHandlers:f}=$M({toastRef:e,loading:n,done:()=>{On.remove(t.toastId)},...sw(t.transition,t.disabledEnterTransition),...t});return()=>Ee("div",Yr({id:t.toastId,class:o.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:h=>{t.closeOnClick&&d(),t.onClick&&t.onClick(h)}},f.value),[Ee("div",{role:t.role,"data-testid":"toast-body",class:`${st.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&Ee("div",{"data-testid":`toast-icon-${t.type}`,class:[`${st.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${st.CSS_NAMESPACE}--animate-icon ${st.CSS_NAMESPACE}__zoom-enter`].join(" ")},[ru(s.value)?ii(Le(s.value),{theme:t.theme,type:t.type}):ro(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),Ee("div",{"data-testid":"toast-content"},[ru(t.content)?ii(Le(t.content),{toastProps:Le(t),closeToast:d,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):ro(t.content)?t.content({toastProps:Le(t),closeToast:d,data:t.data}):t.dangerouslyHTMLString?ii("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&Ee(SM,{theme:t.theme,closeToast:h=>{h.stopPropagation(),h.preventDefault(),d()}},null),ru(t.closeButton)?ii(Le(t.closeButton),{closeToast:d,type:t.type,theme:t.theme}):ro(t.closeButton)?t.closeButton({closeToast:d,type:t.type,theme:t.theme}):null,Ee(CM,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:u.value,type:t.type,hide:t.hideProgressBar,isRunning:l.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:d},null)])}});let fa=0;function uw(){typeof window>"u"||(fa&&window.cancelAnimationFrame(fa),fa=window.requestAnimationFrame(uw),Au.lastUrl!==window.location.href&&(Au.lastUrl=window.location.href,On.clear()))}const MM=go({name:"ToastifyContainer",inheritAttrs:!1,props:lw,setup(t){const e=$e(()=>t.containerId),n=$e(()=>qt[e.value]||[]),r=$e(()=>n.value.filter(s=>s.position===t.position));return wn(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(uw)}),Fu(()=>{typeof window<"u"&&fa&&(window.cancelAnimationFrame(fa),Au.lastUrl="")}),()=>Ee(Re,null,[r.value.map(s=>{const{toastId:o=""}=s;return Ee(DM,Yr({key:o},s),null)})])}});let nf=!1;const cw={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function dw(){const t=[];return ho().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(Zu)&&t.push(e)}),t}function UM(t){const e=dw().length,n=t??0;return n>0&&e+wr.items.length>=n}function BM(t){UM(t.limit)&&!t.updateId&&wr.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Bs(t,e,n={}){if(nf)return;n=ec(wM(),{type:e},Le(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=aw()),n={...n,...n.type==="loading"?cw:{},content:t,containerId:n.containerId||String(n.position)};const r=Number(n==null?void 0:n.progress);return!isNaN(r)&&r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=xM()),BM(n),Au.lastUrl=window.location.href,n.multiple?wr.items.length?n.updateId&&nu(t,n):nu(t,n):(nf=!0,it.clearAll(void 0,!1),setTimeout(()=>{nu(t,n)},0),setTimeout(()=>{nf=!1},390)),n.toastId}const it=(t,e)=>Bs(t,un.DEFAULT,e);it.info=(t,e)=>Bs(t,un.DEFAULT,{...e,type:un.INFO});it.error=(t,e)=>Bs(t,un.DEFAULT,{...e,type:un.ERROR});it.warning=(t,e)=>Bs(t,un.DEFAULT,{...e,type:un.WARNING});it.warn=it.warning;it.success=(t,e)=>Bs(t,un.DEFAULT,{...e,type:un.SUCCESS});it.loading=(t,e)=>Bs(t,un.DEFAULT,ec(e,cw));it.dark=(t,e)=>Bs(t,un.DEFAULT,ec(e,{theme:fo.DARK}));it.remove=t=>{t?On.dismiss(t):On.clear()};it.clearAll=(t,e)=>{po(()=>{On.clear(t,e)})};it.isActive=t=>{let e=!1;return e=dw().findIndex(n=>n.toastId===t)>-1,e};it.update=(t,e={})=>{setTimeout(()=>{const n=vM(t);if(n){const r=Le(n),{content:s}=r,o={...r,...e,toastId:e.toastId||t,updateId:aw()},l=o.render||s;delete o.render,Bs(l,o.type,o)}},0)};it.done=t=>{it.update(t,{isLoading:!1,progress:1})};it.promise=FM;function FM(t,{pending:e,error:n,success:r},s){var o,l,u;let d;const f={...s||{},autoClose:!1};e&&(d=Xf(e)?it.loading(e,f):it.loading(e.render,{...f,...e}));const h={autoClose:(o=s==null?void 0:s.autoClose)!=null?o:!0,closeOnClick:(l=s==null?void 0:s.closeOnClick)!=null?l:!0,closeButton:(u=s==null?void 0:s.autoClose)!=null?u:null,isLoading:void 0,draggable:null,delay:100},g=(y,x,S)=>{if(x==null){it.remove(d);return}const C={type:y,...h,...s,data:S},R=Xf(x)?{render:x}:x;return d?it.update(d,{...C,...R,isLoading:!1}):it(R.render,{...C,...R,isLoading:!1}),S},m=ro(t)?t():t;return m.then(y=>{g("success",r,y)}).catch(y=>{g("error",n,y)}),m}it.POSITION=ja;it.THEME=fo;it.TYPE=un;it.TRANSITIONS=Q3;const jM={install(t,e={}){yM.useHandler=e.useHandler||(()=>{}),HM(e)}};typeof window<"u"&&(window.Vue3Toastify=jM);function HM(t={}){const e=ec(rw,t);bM(e)}const qM={class:"flex flex-col min-h-screen bg-gray-50"},WM={key:0,class:"flex flex-col items-center justify-center flex-grow bg-gradient-to-br from-indigo-100 to-gray-50"},KM={key:1,class:"flex-grow"},VM={__name:"App",setup(t){const e=te(void 0),n=Rs();return wn(()=>{const r=setTimeout(()=>{e.value===void 0&&(e.value=null,it.error("Khng th kim tra trng thi ng nhp. Vui lng th li!"))},5e3),s=yo(n,o=>{e.value=o,clearTimeout(r)});return()=>{s(),clearTimeout(r)}}),(r,s)=>{const o=ju("router-view");return D(),F("div",qM,[Ee(X3,{class:"shadow-md"}),e.value===void 0?(D(),F("div",WM,s[0]||(s[0]=[Dn('<div class="text-center"><svg class="animate-spin h-12 w-12 text-indigo-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="text-xl font-semibold text-gray-700">ang kim tra ng nhp...</p></div>',1)]))):(D(),F("main",KM,[Ee(o)])),s[1]||(s[1]=b("footer",{class:"bg-gray-800 text-white py-4 text-center"},[b("p",{class:"text-sm"}," 2025 - ng dng xem phim. All rights reserved.")],-1))])}}},zM={class:"min-h-screen bg-gradient-to-br from-white via-blue-50 to-indigo-100 flex items-center justify-center p-4 sm:p-6 lg:p-8 font-inter"},GM={__name:"WelcomePage",setup(t){const e=xr(),n=()=>{e.push("/home")};return(r,s)=>(D(),F("div",zM,[b("main",{class:"bg-white p-6 sm:p-8 lg:p-10 rounded-3xl shadow-2xl ring-1 ring-blue-100/50 max-w-2xl w-full text-center transform opacity-0 scale-95 animate-fade-in-up"},[b("div",{class:"space-y-6"},[s[1]||(s[1]=Dn('<p class="text-sm sm:text-base font-normal text-gray-500 uppercase tracking-widest" data-v-f16528ae>Y BAN NHN DN</p><p class="text-base sm:text-lg font-normal text-gray-600 uppercase tracking-widest" data-v-f16528ae>S GIO DC V O TO</p><h1 class="text-lg sm:text-xl lg:text-2xl font-extrabold text-gray-800 uppercase" data-v-f16528ae>TRNG CAO NG KINH T THNH PH H CH MINH</h1><p class="text-base sm:text-lg text-blue-500 font-semibold italic" data-v-f16528ae> N THIT K WEB NNG CAO</p><div class="grid grid-cols-1 sm:grid-cols-2 gap-y-8 sm:gap-y-0 sm:gap-x-12 mt-10 border-t border-b border-gray-200 py-8" data-v-f16528ae><div class="text-left" data-v-f16528ae><p class="text-base sm:text-lg font-bold text-blue-600 mb-3" data-v-f16528ae>GING VIN HNG DN</p><p class="text-base sm:text-lg text-gray-700 hover:text-blue-700 transition-colors cursor-pointer" data-v-f16528ae>Phm ng Phng</p></div><div class="text-left" data-v-f16528ae><p class="text-base sm:text-lg font-bold text-blue-600 mb-3" data-v-f16528ae>SINH VIN THC HIN</p><p class="text-base sm:text-lg text-gray-700 hover:text-blue-700 transition-colors cursor-pointer" data-v-f16528ae>Phm Trung Tun</p><p class="text-base sm:text-lg text-gray-700 hover:text-blue-700 transition-colors cursor-pointer" data-v-f16528ae>Nguyn Minh Huy</p><p class="text-base sm:text-lg text-gray-700 hover:text-blue-700 transition-colors cursor-pointer" data-v-f16528ae>Trn Lc Kh T</p><p class="text-base sm:text-lg text-gray-700 hover:text-blue-700 transition-colors cursor-pointer" data-v-f16528ae>Nguyn L Anh Th</p></div></div><p class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-700 pt-10 drop-shadow-md" data-v-f16528ae>HTHREE-FILM</p>',6)),b("button",{onClick:n,class:"mt-12 px-10 py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold text-lg rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 active:scale-98 focus:outline-none focus:ring-4 focus:ring-amber-300 focus:ring-opacity-75 relative overflow-hidden group","aria-label":"Vo Trang Web Chnh"},s[0]||(s[0]=[b("span",{class:"relative z-10"},"Vo Trang Web",-1),b("span",{class:"absolute inset-0 bg-gradient-to-r from-amber-600 to-orange-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)]))])])]))}},JM=Xt(GM,[["__scopeId","data-v-f16528ae"]]);function fw(t,e){return function(){return t.apply(e,arguments)}}const{toString:YM}=Object.prototype,{getPrototypeOf:Yh}=Object,{iterator:nc,toStringTag:hw}=Symbol,rc=(t=>e=>{const n=YM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),cr=t=>(t=t.toLowerCase(),e=>rc(e)===t),sc=t=>e=>typeof e===t,{isArray:wo}=Array,Ta=sc("undefined");function XM(t){return t!==null&&!Ta(t)&&t.constructor!==null&&!Ta(t.constructor)&&_n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pw=cr("ArrayBuffer");function QM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pw(t.buffer),e}const ZM=sc("string"),_n=sc("function"),gw=sc("number"),ic=t=>t!==null&&typeof t=="object",e6=t=>t===!0||t===!1,ou=t=>{if(rc(t)!=="object")return!1;const e=Yh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hw in t)&&!(nc in t)},t6=cr("Date"),n6=cr("File"),r6=cr("Blob"),s6=cr("FileList"),i6=t=>ic(t)&&_n(t.pipe),o6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_n(t.append)&&((e=rc(t))==="formdata"||e==="object"&&_n(t.toString)&&t.toString()==="[object FormData]"))},a6=cr("URLSearchParams"),[l6,u6,c6,d6]=["ReadableStream","Request","Response","Headers"].map(cr),f6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ha(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),wo(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function mw(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vw=t=>!Ta(t)&&t!==ai;function Qf(){const{caseless:t}=vw(this)&&this||{},e={},n=(r,s)=>{const o=t&&mw(e,s)||s;ou(e[o])&&ou(r)?e[o]=Qf(e[o],r):ou(r)?e[o]=Qf({},r):wo(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ha(arguments[r],n);return e}const h6=(t,e,n,{allOwnKeys:r}={})=>(Ha(e,(s,o)=>{n&&_n(s)?t[o]=fw(s,n):t[o]=s},{allOwnKeys:r}),t),p6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),g6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},m6=(t,e,n,r)=>{let s,o,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Yh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},v6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},y6=t=>{if(!t)return null;if(wo(t))return t;let e=t.length;if(!gw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yh(Uint8Array)),b6=(t,e)=>{const r=(t&&t[nc]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},w6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},x6=cr("HTMLFormElement"),E6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),B0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),C6=cr("RegExp"),yw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ha(n,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(r[o]=l||s)}),Object.defineProperties(t,r)},S6=t=>{yw(t,(e,n)=>{if(_n(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(_n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},T6=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return wo(t)?r(t):r(String(t).split(e)),n},k6=()=>{},A6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function I6(t){return!!(t&&_n(t.append)&&t[hw]==="FormData"&&t[nc])}const R6=t=>{const e=new Array(10),n=(r,s)=>{if(ic(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=wo(r)?[]:{};return Ha(r,(l,u)=>{const d=n(l,s+1);!Ta(d)&&(o[u]=d)}),e[s]=void 0,o}}return r};return n(t,0)},P6=cr("AsyncFunction"),O6=t=>t&&(ic(t)||_n(t))&&_n(t.then)&&_n(t.catch),_w=((t,e)=>t?setImmediate:e?((n,r)=>(ai.addEventListener("message",({source:s,data:o})=>{s===ai&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ai.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_n(ai.postMessage)),L6=typeof queueMicrotask<"u"?queueMicrotask.bind(ai):typeof process<"u"&&process.nextTick||_w,N6=t=>t!=null&&_n(t[nc]),K={isArray:wo,isArrayBuffer:pw,isBuffer:XM,isFormData:o6,isArrayBufferView:QM,isString:ZM,isNumber:gw,isBoolean:e6,isObject:ic,isPlainObject:ou,isReadableStream:l6,isRequest:u6,isResponse:c6,isHeaders:d6,isUndefined:Ta,isDate:t6,isFile:n6,isBlob:r6,isRegExp:C6,isFunction:_n,isStream:i6,isURLSearchParams:a6,isTypedArray:_6,isFileList:s6,forEach:Ha,merge:Qf,extend:h6,trim:f6,stripBOM:p6,inherits:g6,toFlatObject:m6,kindOf:rc,kindOfTest:cr,endsWith:v6,toArray:y6,forEachEntry:b6,matchAll:w6,isHTMLForm:x6,hasOwnProperty:B0,hasOwnProp:B0,reduceDescriptors:yw,freezeMethods:S6,toObjectSet:T6,toCamelCase:E6,noop:k6,toFiniteNumber:A6,findKey:mw,global:ai,isContextDefined:vw,isSpecCompliantForm:I6,toJSONObject:R6,isAsyncFn:P6,isThenable:O6,setImmediate:_w,asap:L6,isIterable:N6};function Ue(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const bw=Ue.prototype,ww={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ww[t]={value:t}});Object.defineProperties(Ue,ww);Object.defineProperty(bw,"isAxiosError",{value:!0});Ue.from=(t,e,n,r,s,o)=>{const l=Object.create(bw);return K.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Ue.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const $6=null;function Zf(t){return K.isPlainObject(t)||K.isArray(t)}function xw(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function F0(t,e,n){return t?t.concat(e).map(function(s,o){return s=xw(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function D6(t){return K.isArray(t)&&!t.some(Zf)}const M6=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function oc(t,e,n){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!K.isUndefined(C[S])});const r=n.metaTokens,s=n.visitor||h,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(K.isDate(x))return x.toISOString();if(!d&&K.isBlob(x))throw new Ue("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(x)||K.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,S,C){let R=x;if(x&&!C&&typeof x=="object"){if(K.endsWith(S,"{}"))S=r?S:S.slice(0,-2),x=JSON.stringify(x);else if(K.isArray(x)&&D6(x)||(K.isFileList(x)||K.endsWith(S,"[]"))&&(R=K.toArray(x)))return S=xw(S),R.forEach(function(P,$){!(K.isUndefined(P)||P===null)&&e.append(l===!0?F0([S],$,o):l===null?S:S+"[]",f(P))}),!1}return Zf(x)?!0:(e.append(F0(C,S,o),f(x)),!1)}const g=[],m=Object.assign(M6,{defaultVisitor:h,convertValue:f,isVisitable:Zf});function y(x,S){if(!K.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(x),K.forEach(x,function(R,N){(!(K.isUndefined(R)||R===null)&&s.call(e,R,K.isString(N)?N.trim():N,S,m))===!0&&y(R,S?S.concat(N):[N])}),g.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return y(t),e}function j0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xh(t,e){this._pairs=[],t&&oc(t,this,e)}const Ew=Xh.prototype;Ew.append=function(e,n){this._pairs.push([e,n])};Ew.toString=function(e){const n=e?function(r){return e.call(this,r,j0)}:j0;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function U6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cw(t,e,n){if(!e)return t;const r=n&&n.encode||U6;K.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=K.isURLSearchParams(e)?e.toString():new Xh(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class H0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Sw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B6=typeof URLSearchParams<"u"?URLSearchParams:Xh,F6=typeof FormData<"u"?FormData:null,j6=typeof Blob<"u"?Blob:null,H6={isBrowser:!0,classes:{URLSearchParams:B6,FormData:F6,Blob:j6},protocols:["http","https","file","blob","url","data"]},Qh=typeof window<"u"&&typeof document<"u",eh=typeof navigator=="object"&&navigator||void 0,q6=Qh&&(!eh||["ReactNative","NativeScript","NS"].indexOf(eh.product)<0),W6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",K6=Qh&&window.location.href||"http://localhost",V6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qh,hasStandardBrowserEnv:q6,hasStandardBrowserWebWorkerEnv:W6,navigator:eh,origin:K6},Symbol.toStringTag,{value:"Module"})),Jt={...V6,...H6};function z6(t,e){return oc(t,new Jt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return Jt.isNode&&K.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function G6(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function J6(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function Tw(t){function e(n,r,s,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&K.isArray(s)?s.length:l,d?(K.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!u):((!s[l]||!K.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],o)&&K.isArray(s[l])&&(s[l]=J6(s[l])),!u)}if(K.isFormData(t)&&K.isFunction(t.entries)){const n={};return K.forEachEntry(t,(r,s)=>{e(G6(r),s,n,0)}),n}return null}function Y6(t,e,n){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const qa={transitional:Sw,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=K.isObject(e);if(o&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return s?JSON.stringify(Tw(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return z6(e,this.formSerializer).toString();if((u=K.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return oc(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),Y6(e)):e}],transformResponse:[function(e){const n=this.transitional||qa.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Ue.from(u,Ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],t=>{qa.headers[t]={}});const X6=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q6=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&X6[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},q0=Symbol("internals");function Ko(t){return t&&String(t).trim().toLowerCase()}function au(t){return t===!1||t==null?t:K.isArray(t)?t.map(au):String(t)}function Z6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const eU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rf(t,e,n,r,s){if(K.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!K.isString(e)){if(K.isString(r))return e.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(e)}}function tU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function nU(t,e){const n=K.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,l){return this[r].call(this,e,s,o,l)},configurable:!0})})}let bn=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(u,d,f){const h=Ko(d);if(!h)throw new Error("header name must be a non-empty string");const g=K.findKey(s,h);(!g||s[g]===void 0||f===!0||f===void 0&&s[g]!==!1)&&(s[g||d]=au(u))}const l=(u,d)=>K.forEach(u,(f,h)=>o(f,h,d));if(K.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(K.isString(e)&&(e=e.trim())&&!eU(e))l(Q6(e),n);else if(K.isObject(e)&&K.isIterable(e)){let u={},d,f;for(const h of e){if(!K.isArray(h))throw TypeError("Object iterator must return a key-value pair");u[f=h[0]]=(d=u[f])?K.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ko(e),e){const r=K.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Z6(s);if(K.isFunction(n))return n.call(this,s,r);if(K.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ko(e),e){const r=K.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||rf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(l){if(l=Ko(l),l){const u=K.findKey(r,l);u&&(!n||rf(r,r[u],u,n))&&(delete r[u],s=!0)}}return K.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||rf(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return K.forEach(this,(s,o)=>{const l=K.findKey(r,o);if(l){n[l]=au(s),delete n[o];return}const u=e?tU(o):String(o).trim();u!==o&&delete n[o],n[u]=au(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return K.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&K.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[q0]=this[q0]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Ko(l);r[u]||(nU(s,l),r[u]=!0)}return K.isArray(e)?e.forEach(o):o(e),this}};bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});K.freezeMethods(bn);function sf(t,e){const n=this||qa,r=e||n,s=bn.from(r.headers);let o=r.data;return K.forEach(t,function(u){o=u.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function kw(t){return!!(t&&t.__CANCEL__)}function xo(t,e,n){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,n),this.name="CanceledError"}K.inherits(xo,Ue,{__CANCEL__:!0});function Aw(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),h=r[o];l||(l=f),n[s]=d,r[s]=f;let g=o,m=0;for(;g!==s;)m+=n[g++],g=g%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),f-l<e)return;const y=h&&f-h;return y?Math.round(m*1e3/y):void 0}}function iU(t,e){let n=0,r=1e3/e,s,o;const l=(f,h=Date.now())=>{n=h,s=null,o&&(clearTimeout(o),o=null),t.apply(null,f)};return[(...f)=>{const h=Date.now(),g=h-n;g>=r?l(f,h):(s=f,o||(o=setTimeout(()=>{o=null,l(s)},r-g)))},()=>s&&l(s)]}const Iu=(t,e,n=3)=>{let r=0;const s=sU(50,250);return iU(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,f=s(d),h=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&h?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},W0=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},K0=t=>(...e)=>K.asap(()=>t(...e)),oU=Jt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Jt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,aU=Jt.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const l=[t+"="+encodeURIComponent(e)];K.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),K.isString(r)&&l.push("path="+r),K.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Iw(t,e,n){let r=!lU(e);return t&&(r||n==!1)?uU(t,e):e}const V0=t=>t instanceof bn?{...t}:t;function vi(t,e){e=e||{};const n={};function r(f,h,g,m){return K.isPlainObject(f)&&K.isPlainObject(h)?K.merge.call({caseless:m},f,h):K.isPlainObject(h)?K.merge({},h):K.isArray(h)?h.slice():h}function s(f,h,g,m){if(K.isUndefined(h)){if(!K.isUndefined(f))return r(void 0,f,g,m)}else return r(f,h,g,m)}function o(f,h){if(!K.isUndefined(h))return r(void 0,h)}function l(f,h){if(K.isUndefined(h)){if(!K.isUndefined(f))return r(void 0,f)}else return r(void 0,h)}function u(f,h,g){if(g in e)return r(f,h);if(g in t)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,h,g)=>s(V0(f),V0(h),g,!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(h){const g=d[h]||s,m=g(t[h],e[h],h);K.isUndefined(m)&&g!==u||(n[h]=m)}),n}const Rw=t=>{const e=vi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=bn.from(l),e.url=Cw(Iw(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(K.isFormData(n)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...h]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Jt.hasStandardBrowserEnv&&(r&&K.isFunction(r)&&(r=r(e)),r||r!==!1&&oU(e.url))){const f=s&&o&&aU.read(o);f&&l.set(s,f)}return e},cU=typeof XMLHttpRequest<"u",dU=cU&&function(t){return new Promise(function(n,r){const s=Rw(t);let o=s.data;const l=bn.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=s,h,g,m,y,x;function S(){y&&y(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function R(){if(!C)return;const P=bn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:P,config:t,request:C};Aw(function(O){n(O),S()},function(O){r(O),S()},E),C=null}"onloadend"in C?C.onloadend=R:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(R)},C.onabort=function(){C&&(r(new Ue("Request aborted",Ue.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new Ue("Network Error",Ue.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let $=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Sw;s.timeoutErrorMessage&&($=s.timeoutErrorMessage),r(new Ue($,E.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,C)),C=null},o===void 0&&l.setContentType(null),"setRequestHeader"in C&&K.forEach(l.toJSON(),function($,E){C.setRequestHeader(E,$)}),K.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),u&&u!=="json"&&(C.responseType=s.responseType),f&&([m,x]=Iu(f,!0),C.addEventListener("progress",m)),d&&C.upload&&([g,y]=Iu(d),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(h=P=>{C&&(r(!P||P.type?new xo(null,t,C):P),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const N=rU(s.url);if(N&&Jt.protocols.indexOf(N)===-1){r(new Ue("Unsupported protocol "+N+":",Ue.ERR_BAD_REQUEST,t));return}C.send(o||null)})},fU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(f){if(!s){s=!0,u();const h=f instanceof Error?f:this.reason;r.abort(h instanceof Ue?h:new xo(h instanceof Error?h.message:h))}};let l=e&&setTimeout(()=>{l=null,o(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>K.asap(u),d}},hU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},pU=async function*(t,e){for await(const n of gU(t))yield*hU(n,e)},gU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},z0=(t,e,n,r)=>{const s=pU(t,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:h}=await s.next();if(f){u(),d.close();return}let g=h.byteLength;if(n){let m=o+=g;n(m)}d.enqueue(new Uint8Array(h))}catch(f){throw u(f),f}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},ac=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pw=ac&&typeof ReadableStream=="function",mU=ac&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ow=(t,...e)=>{try{return!!t(...e)}catch{return!1}},vU=Pw&&Ow(()=>{let t=!1;const e=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),G0=64*1024,th=Pw&&Ow(()=>K.isReadableStream(new Response("").body)),Ru={stream:th&&(t=>t.body)};ac&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ru[e]&&(Ru[e]=K.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ue(`Response type '${e}' is not supported`,Ue.ERR_NOT_SUPPORT,r)})})})(new Response);const yU=async t=>{if(t==null)return 0;if(K.isBlob(t))return t.size;if(K.isSpecCompliantForm(t))return(await new Request(Jt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(K.isArrayBufferView(t)||K.isArrayBuffer(t))return t.byteLength;if(K.isURLSearchParams(t)&&(t=t+""),K.isString(t))return(await mU(t)).byteLength},_U=async(t,e)=>{const n=K.toFiniteNumber(t.getContentLength());return n??yU(e)},bU=ac&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:f,headers:h,withCredentials:g="same-origin",fetchOptions:m}=Rw(t);f=f?(f+"").toLowerCase():"text";let y=fU([s,o&&o.toAbortSignal()],l),x;const S=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(d&&vU&&n!=="get"&&n!=="head"&&(C=await _U(h,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),I;if(K.isFormData(r)&&(I=E.headers.get("content-type"))&&h.setContentType(I),E.body){const[O,z]=W0(C,Iu(K0(d)));r=z0(E.body,G0,O,z)}}K.isString(g)||(g=g?"include":"omit");const R="credentials"in Request.prototype;x=new Request(e,{...m,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:R?g:void 0});let N=await fetch(x);const P=th&&(f==="stream"||f==="response");if(th&&(u||P&&S)){const E={};["status","statusText","headers"].forEach(q=>{E[q]=N[q]});const I=K.toFiniteNumber(N.headers.get("content-length")),[O,z]=u&&W0(I,Iu(K0(u),!0))||[];N=new Response(z0(N.body,G0,O,()=>{z&&z(),S&&S()}),E)}f=f||"text";let $=await Ru[K.findKey(Ru,f)||"text"](N,t);return!P&&S&&S(),await new Promise((E,I)=>{Aw(E,I,{data:$,headers:bn.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:x})})}catch(R){throw S&&S(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,t,x),{cause:R.cause||R}):Ue.from(R,R&&R.code,t,x)}}),nh={http:$6,xhr:dU,fetch:bU};K.forEach(nh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const J0=t=>`- ${t}`,wU=t=>K.isFunction(t)||t===null||t===!1,Lw={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!wU(n)&&(r=nh[(l=String(n)).toLowerCase()],r===void 0))throw new Ue(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+o]=r}if(!r){const o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(J0).join(`
`):" "+J0(o[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:nh};function of(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xo(null,t)}function Y0(t){return of(t),t.headers=bn.from(t.headers),t.data=sf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Lw.getAdapter(t.adapter||qa.adapter)(t).then(function(r){return of(t),r.data=sf.call(t,t.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return kw(r)||(of(t),r&&r.response&&(r.response.data=sf.call(t,t.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const Nw="1.9.0",lc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lc[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const X0={};lc.transitional=function(e,n,r){function s(o,l){return"[Axios v"+Nw+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new Ue(s(l," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!X0[l]&&(X0[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};lc.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function xU(t,e,n){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new Ue("option "+o+" must be "+d,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+o,Ue.ERR_BAD_OPTION)}}const lu={assertOptions:xU,validators:lc},gr=lu.validators;let di=class{constructor(e){this.defaults=e||{},this.interceptors={request:new H0,response:new H0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&lu.assertOptions(r,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean)},!1),s!=null&&(K.isFunction(s)?n.paramsSerializer={serialize:s}:lu.assertOptions(s,{encode:gr.function,serialize:gr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lu.assertOptions(n,{baseUrl:gr.spelling("baseURL"),withXsrfToken:gr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&K.merge(o.common,o[n.method]);o&&K.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=bn.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let h,g=0,m;if(!d){const x=[Y0.bind(this),void 0];for(x.unshift.apply(x,u),x.push.apply(x,f),m=x.length,h=Promise.resolve(n);g<m;)h=h.then(x[g++],x[g++]);return h}m=u.length;let y=n;for(g=0;g<m;){const x=u[g++],S=u[g++];try{y=x(y)}catch(C){S.call(this,C);break}}try{h=Y0.call(this,y)}catch(x){return Promise.reject(x)}for(g=0,m=f.length;g<m;)h=h.then(f[g++],f[g++]);return h}getUri(e){e=vi(this.defaults,e);const n=Iw(e.baseURL,e.url,e.allowAbsoluteUrls);return Cw(n,e.params,e.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(e){di.prototype[e]=function(n,r){return this.request(vi(r||{},{method:e,url:n,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(vi(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}di.prototype[e]=n(),di.prototype[e+"Form"]=n(!0)});let EU=class $w{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(s);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new xo(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $w(function(s){e=s}),cancel:e}}};function CU(t){return function(n){return t.apply(null,n)}}function SU(t){return K.isObject(t)&&t.isAxiosError===!0}const rh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rh).forEach(([t,e])=>{rh[e]=t});function Dw(t){const e=new di(t),n=fw(di.prototype.request,e);return K.extend(n,di.prototype,e,{allOwnKeys:!0}),K.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Dw(vi(t,s))},n}const vt=Dw(qa);vt.Axios=di;vt.CanceledError=xo;vt.CancelToken=EU;vt.isCancel=kw;vt.VERSION=Nw;vt.toFormData=oc;vt.AxiosError=Ue;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=CU;vt.isAxiosError=SU;vt.mergeConfig=vi;vt.AxiosHeaders=bn;vt.formToJSON=t=>Tw(K.isHTMLForm(t)?new FormData(t):t);vt.getAdapter=Lw.getAdapter;vt.HttpStatusCode=rh;vt.default=vt;const{Axios:qF,AxiosError:WF,CanceledError:KF,isCancel:VF,CancelToken:zF,VERSION:GF,all:JF,Cancel:YF,isAxiosError:XF,spread:QF,toFormData:ZF,AxiosHeaders:ej,HttpStatusCode:tj,formToJSON:nj,getAdapter:rj,mergeConfig:sj}=vt,TU=["src","alt"],kU={key:0,class:"absolute top-1 left-0 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded-sm"},AU={key:1,class:"absolute top-8 left-0 text-white bg-red-500 text-xs font-semibold px-2 py-1 rounded-sm shadow-md"},IU={class:"absolute bottom-0 left-0 right-0 p-2.5 sm:p-3 text-white z-10"},RU=["title"],PU=["title"],OU={__name:"MovieCardRecommended",props:{movie:{type:Object,default:null},trending:{type:Boolean,default:!1}},setup(t){const e=t;return Tt(()=>e.movie,n=>{n?(console.log("MovieCardRecommended: movie prop received:",n),console.log("MovieCardRecommended: movie.poster_path:",n.backdrop_path),console.log("MovieCardRecommended: movie.title:",n.title),console.log("MovieCardRecommended: movie.original_title:",n.original_title)):console.log("MovieCardRecommended: movie prop is null or undefined.")},{immediate:!0}),(n,r)=>{var s;return t.movie?(D(),_t(Fe(Uh),{key:0,to:`/film/${(s=t.movie)==null?void 0:s.slug}`,class:"relative block w-full aspect-[2/3] rounded-md overflow-hidden group transition-transform duration-300 ease-out hover:scale-105"},{default:pt(()=>{var o,l,u;return[b("img",{src:(o=t.movie)==null?void 0:o.backdrop_path,alt:t.movie.title||"Movie Poster",class:"w-full h-full object-cover",onerror:"this.onerror=null;this.src='https://placehold.co/400x600/ccc/fff?text=No+Image';"},null,8,TU),r[0]||(r[0]=b("div",{class:"absolute bottom-0 left-0 right-0 h-2/5 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),(l=t.movie)!=null&&l.episode_current&&((u=t.movie)!=null&&u.lang)?(D(),F("div",kU,ge(t.movie.episode_current)+" + "+ge(t.movie.lang),1)):Ye("",!0),t.trending?(D(),F("div",AU," Trending ")):Ye("",!0),b("div",IU,[b("h3",{class:"text-sm sm:text-base font-bold truncate group-hover:whitespace-normal group-hover:text-phim-red transition-colors",title:t.movie.title},ge(t.movie.title),9,RU),t.movie.original_title?(D(),F("p",{key:0,class:"text-xs text-gray-300 truncate group-hover:whitespace-normal",title:t.movie.original_title},ge(t.movie.original_title),9,PU)):Ye("",!0)]),r[1]||(r[1]=b("div",{class:"absolute inset-0 opacity-0 flex justify-center items-center group-hover:opacity-100 transition-opacity duration-300"},[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white opacity-80"},[b("circle",{cx:"12",cy:"12",r:"10"}),b("polygon",{points:"10 8 16 12 10 16 10 8"})])],-1))]}),_:1},8,["to"])):Ye("",!0)}}},Ps=Xt(OU,[["__scopeId","data-v-cffb34f6"]]),LU={class:"mt-8 mb-8"},NU={__name:"Advertiserment",setup(t){return(e,n)=>(D(),F("div",LU,n[0]||(n[0]=[b("img",{class:"w-full h-[100px] object-cover",src:"https://motphimc.nl/wp-content/uploads/2024/12/banner-rophim.gif",alt:"Qung co"},null,-1)])))}},$U=Xt(NU,[["__scopeId","data-v-fc843c34"]]);var DU="firebase",MU="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(DU,MU,"app");const UU={class:"text-white bg-[#da966e] text-xs px-2 py-1 rounded-sm h-fit font-bold min-w-[28px] text-center"},BU=["src","alt"],FU={class:"flex flex-col text-gray-100 text-sm flex-grow"},jU=["title"],HU={class:"text-xs text-gray-400 mt-1"},qU={class:"flex text-yellow-400 mt-1"},WU={__name:"Rank",props:{trendingMovie:{type:Object,default:null},index:{type:Number,required:!0}},setup(t){const e=t,n=$e(()=>{var r;return Math.round(((r=e.trendingMovie)==null?void 0:r.vote_average)/2||0)});return Tt(()=>e.trendingMovie,r=>{r?(console.log(`Rank.vue (Index ${e.index}): trendingMovie received:`,r),console.log(`Rank.vue (Index ${e.index}): poster_path:`,r.backdrop_path),console.log(`Rank.vue (Index ${e.index}): title:`,r.title)):console.log(`Rank.vue (Index ${e.index}): trendingMovie is null.`)},{immediate:!0}),(r,s)=>{var o;return t.trendingMovie?(D(),_t(Fe(Uh),{key:0,to:`/film/${(o=t.trendingMovie)==null?void 0:o.slug}`,class:"flex items-start gap-3 mb-4 p-2 rounded-lg transition-colors duration-200 hover:bg-gray-600 cursor-pointer"},{default:pt(()=>[b("span",UU,ge(t.index+1),1),b("img",{src:t.trendingMovie.backdrop_path,alt:t.trendingMovie.title||"Movie Thumbnail",class:"w-[55px] h-[70px] object-cover rounded shadow",onerror:"this.onerror=null;this.src='https://placehold.co/55x70/ccc/fff?text=No+Img';"},null,8,BU),b("div",FU,[b("span",{class:"font-semibold leading-tight break-words",title:t.trendingMovie.title},ge(t.trendingMovie.title),9,jU),b("span",HU,ge(t.trendingMovie.year),1),b("div",qU,[(D(),F(Re,null,Xe(5,l=>b("svg",{key:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",class:Ke([l<=n.value?"text-yellow-400":"text-gray-500","w-3 h-3 mr-0.5"]),fill:"currentColor"},s[0]||(s[0]=[b("path",{d:"M316.9 18.6L225.4 150.3 49.9 171.6c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l129.9 68.3c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L350.6 150.3 259.1 18.6c-10.7-20.9-39.1-20.9-49.8 0z"},null,-1)]),2)),64))])])]),_:1},8,["to"])):Ye("",!0)}}},uc=Xt(WU,[["__scopeId","data-v-20e77fdd"]]),KU={class:"space-y-10"},VU={key:0,class:"text-center text-red-400 p-4 bg-gray-800 rounded-lg shadow-md"},zU={class:"bg-gray-900 p-6 rounded-xl shadow-lg"},GU={class:"flex justify-between items-center mb-6"},JU={class:"flex gap-6"},YU={class:"flex-[4]"},XU={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"},QU={key:2,class:"text-center col-span-full text-gray-400"},ZU={class:"flex-1 bg-gray-700 p-4 rounded-xl shadow-md"},eB={class:"max-h-96 min-h-[400px] overflow-y-auto scrollbar-custom pr-2"},tB={key:2,class:"text-gray-400"},nB={class:"bg-gray-900 p-6 rounded-xl shadow-lg"},rB={class:"flex justify-between items-center mb-6"},sB={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4"},iB={key:2,class:"text-center col-span-full text-gray-400"},oB={class:"bg-gray-900 p-6 rounded-xl shadow-lg"},aB={class:"flex justify-between items-center mb-6"},lB={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4"},uB={key:2,class:"text-center col-span-full text-gray-400"},cB={__name:"NewMovieUpdate",props:{update:{type:Array,default:()=>[]},series:{type:Array,default:()=>[]},movie:{type:Array,default:()=>[]},recommended:{type:Array,default:()=>[]}},setup(t){const n=Ch({apiKey:"AIzaSyARJhyS9LArmcUo1APDfM4S742CsIDWHi8",authDomain:"hthree-film.firebaseapp.com",projectId:"hthree-film",storageBucket:"hthree-film.firebasestorage.app",messagingSenderId:"484096213407",appId:"1:484096213407:web:47a536488715ce732c3daa",measurementId:"G-QWSF99C1RP"}),r=Rs(n),s=te(!1);wn(()=>{yo(r,g=>{s.value=!!g,console.log("Firebase Auth state updated in NewMovieUpdate.vue:",s.value)})});const o=te([]),l=te([]),u=te([]),d=te([]),f=te(!0),h=async()=>{f.value=!0;try{const{data:g,error:m}=await Yt.from("movies").select("*").order("created_at",{ascending:!1}).limit(8);if(m)throw m;o.value=g;const{data:y,error:x}=await Yt.from("movies").select("*").eq("type","series").limit(10);if(x)throw x;l.value=y;const{data:S,error:C}=await Yt.from("movies").select("*").eq("type","single").limit(10);if(C)throw C;u.value=S;const{data:R,error:N}=await Yt.from("movies").select("*").order("vote_average",{ascending:!1}).limit(8);if(N)throw N;d.value=R}catch(g){console.error("Li khi ti d liu phim t Supabase:",g.message)}finally{f.value=!1}};return wn(()=>{h()}),xn({title:"",original_title:"",overview:"",release_date:"",poster_path:"",backdrop_path:"",vote_average:"",runtime:"",tagline:"",genresInput:""}),te(""),te(""),(g,m)=>{var x,S,C,R;const y=ju("router-link");return D(),F("div",KU,[s.value?(D(),F(Re,{key:1},[b("section",zU,[b("div",GU,[m[4]||(m[4]=b("h2",{class:"text-2xl font-bold text-white hover:text-[#dd6119] transition-colors"},"Phim Mi Cp Nht",-1)),Ee(y,{to:"/movies/updated",class:"text-blue-400 hover:text-blue-300 text-sm font-medium"},{default:pt(()=>m[3]||(m[3]=[Pe("Xem thm ")])),_:1})]),b("div",JU,[b("div",YU,[b("div",XU,[f.value?(D(),F(Re,{key:0},Xe(8,N=>b("div",{key:N,class:"animate-pulse"},m[5]||(m[5]=[b("div",{class:"bg-gray-700 h-64 rounded-lg"},null,-1)]))),64)):(x=o.value)!=null&&x.length?(D(!0),F(Re,{key:1},Xe(o.value.slice(0,8),(N,P)=>(D(),_t(Ps,{key:N.slug||N.id||P,movie:N,trending:!1,class:"animate-fade-in"},null,8,["movie"]))),128)):(D(),F("p",QU,"Khng c d liu phim mi."))])]),b("div",ZU,[m[7]||(m[7]=b("h3",{class:"uppercase text-[#dd6119] text-sm font-semibold border-b-2 border-dashed border-gray-600 pb-2 mb-4"}," Bng Xp Hng ",-1)),b("div",eB,[f.value?(D(),F(Re,{key:0},Xe(8,N=>b("div",{key:N,class:"animate-pulse mb-4"},m[6]||(m[6]=[Dn('<div class="flex gap-3 items-start" data-v-a8e32c1e><div class="bg-gray-400 w-8 h-4 rounded" data-v-a8e32c1e></div><div class="bg-gray-400 w-[55px] h-[70px] rounded" data-v-a8e32c1e></div><div class="flex flex-col flex-1 gap-2" data-v-a8e32c1e><div class="bg-gray-400 h-4 w-3/4 rounded" data-v-a8e32c1e></div><div class="bg-gray-400 h-3 w-1/2 rounded" data-v-a8e32c1e></div></div></div>',1)]))),64)):(S=d.value)!=null&&S.length?(D(!0),F(Re,{key:1},Xe(d.value,(N,P)=>(D(),_t(uc,{key:N.slug||N.id||P,trendingMovie:N,index:P},null,8,["trendingMovie","index"]))),128)):(D(),F("p",tB,"Khng c d liu xp hng."))])])])]),b("section",nB,[b("div",rB,[m[9]||(m[9]=b("h2",{class:"text-2xl font-bold text-white hover:text-[#dd6119] transition-colors"},"Phim B",-1)),Ee(y,{to:"/movies/series",class:"text-blue-400 hover:text-blue-300 text-sm font-medium"},{default:pt(()=>m[8]||(m[8]=[Pe("Xem thm ")])),_:1})]),b("div",sB,[f.value?(D(),F(Re,{key:0},Xe(10,N=>b("div",{key:N,class:"animate-pulse"},m[10]||(m[10]=[b("div",{class:"bg-gray-700 h-64 rounded-lg"},null,-1)]))),64)):(C=l.value)!=null&&C.length?(D(!0),F(Re,{key:1},Xe(l.value.slice(0,10),(N,P)=>(D(),_t(Ps,{key:N.slug||N.id||P,movie:N,trending:!1,class:"animate-fade-in"},null,8,["movie"]))),128)):(D(),F("p",iB,"Khng c d liu phim b."))])]),b("section",oB,[b("div",aB,[m[12]||(m[12]=b("h2",{class:"text-2xl font-bold text-white hover:text-[#dd6119] transition-colors"},"Phim L",-1)),Ee(y,{to:"/movies/single",class:"text-blue-400 hover:text-blue-300 text-sm font-medium"},{default:pt(()=>m[11]||(m[11]=[Pe("Xem thm ")])),_:1})]),b("div",lB,[f.value?(D(),F(Re,{key:0},Xe(10,N=>b("div",{key:N,class:"animate-pulse"},m[13]||(m[13]=[b("div",{class:"bg-gray-700 h-64 rounded-lg"},null,-1)]))),64)):(R=u.value)!=null&&R.length?(D(!0),F(Re,{key:1},Xe(u.value.slice(0,10),(N,P)=>(D(),_t(Ps,{key:N.slug||N.id||P,movie:N,trending:!1,class:"animate-fade-in"},null,8,["movie"]))),128)):(D(),F("p",uB,"Khng c d liu phim l."))])])],64)):(D(),F("div",VU,[m[1]||(m[1]=Pe(" Vui lng ")),Ee(y,{to:"/auth",class:"text-blue-400 hover:text-blue-300"},{default:pt(()=>m[0]||(m[0]=[Pe("ng nhp")])),_:1}),m[2]||(m[2]=Pe("  xem hoc thm phim. "))]))])}}},dB=Xt(cB,[["__scopeId","data-v-a8e32c1e"]]),cc=Xu("recommendedMovies",{state:()=>({recommended:[],loading:!1,error:null}),actions:{async getRecommendedMovies(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await Yt.from("movies").select("*").order("vote_average",{ascending:!1}).limit(25);if(e)throw e;this.recommended=t||[],console.log("Pinia Store 'recommendedMovies': Phim  c  ti t Supabase:",this.recommended)}catch(t){console.error("Li khi ly phim  c t Supabase (Pinia Store):",t),this.error=t.message}finally{this.loading=!1}},setRecommendedMovies(t){this.loading=!1,this.error=null,this.recommended=t,console.log("Pinia Store 'recommendedMovies': D liu phim  c  c t th cng:",this.recommended)},setLoading(t){this.loading=t},setError(t){this.error=t}},getters:{getRecommended:t=>t.recommended,getLoading:t=>t.loading,getError:t=>t.error}}),fB={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 min-h-screen relative overflow-hidden"},hB={class:"mb-16 relative z-10"},pB={class:"relative overflow-hidden rounded-2xl shadow-xl bg-white/90 backdrop-blur-md border border-gray-200 transform hover:scale-[1.01] transition-all duration-500"},gB={key:1,class:"text-center text-gray-500 py-12 text-lg font-medium animate-pulse bg-gray-100/50 rounded-lg w-full"},mB={__name:"Homepage",setup(t){const e=te([]),n=te([]),r=te([]),s=te(0),o=te(null),l=cc(),u=$e(()=>{const m=window.innerWidth;return m>=1280?5:m>=1024?4:m>=768?3:m>=640?2:1}),d=$e(()=>({transform:`translateX(-${s.value*100/u.value}%)`})),f=()=>{var m;if(((m=l.getRecommended)==null?void 0:m.length)>0){const y=Math.ceil(l.getRecommended.length/u.value)-1;s.value<y&&s.value++}},h=()=>{s.value>0&&s.value--},g=m=>{m.preventDefault(),m.deltaY>0?f():h()};return wn(async()=>{var m,y,x,S,C;try{(m=l.getRecommended)!=null&&m.length||await l.getRecommendedMovies(),(y=l.getRecommended)!=null&&y.length||(o.value="Khng c phim  c no!",it.error(o.value));const[R,N,P]=await Promise.all([vt.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=2&sort_field=_id&sort_type=asc&year=2025&limit=15"),vt.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=3&sort_field=_id&sort_type=asc&year=2025&limit=8"),vt.get("https://phimapi.com/v1/api/danh-sach/phim-le?page=1&sort_field=_id&sort_type=asc&year=2025&limit=8")]);e.value=((x=R.data.data)==null?void 0:x.items)||[],n.value=((S=N.data.data)==null?void 0:S.items)||[],r.value=((C=P.data.data)==null?void 0:C.items)||[],!e.value.length&&!n.value.length&&!r.value.length&&(o.value="Khng th ti d liu phim!",it.error(o.value))}catch(R){console.error("Li khi ti d liu:",R),o.value="Khng th ti d liu phim. Vui lng th li sau!",it.error(o.value)}}),(m,y)=>{var x,S,C;return D(),F("div",fB,[y[4]||(y[4]=b("div",{class:"absolute inset-0 z-0"},[b("div",{class:"absolute w-64 h-64 bg-indigo-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),b("div",{class:"absolute w-64 h-64 bg-purple-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),b("div",{class:"absolute w-64 h-64 bg-teal-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})],-1)),b("section",hB,[y[2]||(y[2]=b("h2",{class:"text-3xl sm:text-4xl font-bold text-gray-800 mb-8 text-center relative inline-block"},[b("span",{class:"bg-white/80 px-6 py-2 rounded-lg shadow-md backdrop-blur-sm"},"Phim  C"),b("span",{class:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-16 h-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full"})],-1)),b("div",pB,[b("div",{class:"flex transition-transform duration-700 ease-out-quart",style:ka(d.value),ref:"carousel",onWheel:g},[((x=Fe(l).getRecommended)==null?void 0:x.length)>0?(D(!0),F(Re,{key:0},Xe(Fe(l).getRecommended,(R,N)=>(D(),F("div",{key:`movie-${N}`,class:"w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 flex-shrink-0 px-2 py-4 transform hover:-translate-y-3 hover:shadow-xl transition-all duration-300"},[Ee(Ps,{movie:R,trending:!0,class:"rounded-xl overflow-hidden"},null,8,["movie"])]))),128)):(D(),F("p",gB,ge(o.value?o.value:"ang ti hoc khng c phim  c..."),1))],36),((S=Fe(l).getRecommended)==null?void 0:S.length)>u.value?(D(),F("button",{key:0,onClick:h,class:"absolute left-2 top-1/2 -translate-y-1/2 z-20 bg-indigo-600/80 hover:bg-indigo-700 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg transform hover:scale-110 transition-all duration-300 animate-pulse-slow","aria-label":"Slide trc"},y[0]||(y[0]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[b("path",{d:"m12 19-7-7 7-7"}),b("path",{d:"M19 12H5"})],-1)]))):Ye("",!0),((C=Fe(l).getRecommended)==null?void 0:C.length)>u.value?(D(),F("button",{key:1,onClick:f,class:"absolute right-2 top-1/2 -translate-y-1/2 z-20 bg-indigo-600/80 hover:bg-indigo-700 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg transform hover:scale-110 transition-all duration-300 animate-pulse-slow","aria-label":"Slide tip theo"},y[1]||(y[1]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[b("path",{d:"M5 12h14"}),b("path",{d:"m12 5 7 7-7 7"})],-1)]))):Ye("",!0)])]),Ee($U,{class:"mb-16"}),Ee(dB,{update:e.value,series:n.value,movie:r.value,recommended:Fe(l).getRecommended,class:"mb-16"},{title:pt(()=>y[3]||(y[3]=[b("h2",{class:"text-3xl sm:text-4xl font-bold text-gray-800 mb-8 text-center relative inline-block"},[b("span",{class:"bg-white/80 px-6 py-2 rounded-lg shadow-md backdrop-blur-sm"},"Phim Mi Cp Nht"),b("span",{class:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-16 h-1 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full"})],-1)])),_:1},8,["update","series","movie","recommended"])])}}},vB=Xt(mB,[["__scopeId","data-v-89b29896"]]),yB={class:"min-h-screen bg-gray-900 text-white"},_B={key:0,class:"flex justify-center items-center h-screen"},bB={key:1,class:"flex justify-center items-center h-screen text-red-400"},wB={class:"text-xl font-semibold"},xB={key:2,class:"flex justify-center items-center h-screen text-gray-400"},EB={key:3,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-8"},CB={class:"flex flex-col lg:flex-row gap-8"},SB={class:"lg:w-2/3"},TB={class:"bg-gray-800 p-4 rounded-lg shadow-lg"},kB={class:"text-3xl font-bold text-yellow-400 mb-2"},AB={class:"text-gray-400 text-sm mb-2"},IB={class:"flex items-center gap-4 mb-4"},RB={class:"bg-yellow-500 text-black px-2 py-1 rounded-full text-xs"},PB={class:"flex items-center gap-1"},OB={class:"text-gray-400 text-sm"},LB=["src","alt"],NB={class:"text-gray-300 mb-4"},$B={class:"flex flex-wrap gap-2"},DB={class:"lg:w-1/3 space-y-6"},MB={class:"bg-gray-800 p-4 rounded-lg shadow-lg text-sm"},UB={key:0},BB={class:"bg-gray-800 p-4 rounded-lg shadow-lg"},FB={key:0,class:"text-center text-gray-400 py-4"},jB={key:1,class:"grid grid-cols-2 gap-2"},HB={key:2,class:"text-center text-gray-400 py-4 text-sm"},qB={key:0,class:"bg-gray-800 p-4 rounded-lg shadow-lg"},WB={class:"flex gap-2 overflow-x-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pb-2"},KB=["onClick"],VB={class:"bg-gray-800 p-4 rounded-lg shadow-lg mt-6 flex justify-between items-center"},zB={class:"text-sm text-gray-400"},GB={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",role:"dialog","aria-labelledby":"trailer-title"},JB={class:"bg-gray-900 text-white rounded-xl shadow-2xl p-8 w-full max-w-4xl relative"},YB={id:"trailer-title",class:"text-2xl font-semibold mb-4"},XB={key:0,class:"aspect-video w-full"},QB=["src","title"],ZB={key:1,class:"text-gray-400 text-center"},e5={__name:"MovieDetail",setup(t){const e=_o(),n=xr(),r=te(null),s=te(!0),o=te(null),l=te(!1),u=te(e.params.filmName),d=te([]),f=te(!1),h=C=>{if(!C)return null;const R=C.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([\w-]+)/);return R?`https://www.youtube.com/embed/${R[1]}`:null},g=te(null),m=async()=>{s.value=!0,o.value=null,r.value=null,console.log("moviedetail.vue: Bt u fetchMovieDetail. filmSlug:",u.value);try{if(!u.value){console.warn("moviedetail.vue: filmSlug khng c gi tr, khng th fetch."),o.value="URL phim khng hp l.",s.value=!1;return}const{data:C,error:R}=await Yt.from("movies").select("*").eq("slug",u.value).single();console.log("moviedetail.vue: Supabase response data:",C),console.log("moviedetail.vue: Supabase response error:",R),R?R.code==="PGRST116"?(o.value="Khng tm thy thng tin phim vi slug ny.",console.error("moviedetail.vue: Li Supabase - Khng tm thy phim:",u.value)):(o.value=`Li Supabase: ${R.message}`,console.error("moviedetail.vue: Li Supabase khc:",R)):C?(r.value=C,g.value=h(r.value.trailer_url),console.log("moviedetail.vue:  ti thnh cng d liu phim:",r.value),r.value.genres&&r.value.genres.length>0&&y(r.value.genres,r.value.id)):(o.value="Khng tm thy thng tin phim.",console.warn("moviedetail.vue: Khng tm thy d liu phim, data l null."))}catch(C){console.error("moviedetail.vue: Li khng xc nh khi fetch chi tit phim:",C),o.value="Khng th ti thng tin phim. Vui lng th li sau."}finally{s.value=!1,console.log("moviedetail.vue: Kt thc fetchMovieDetail. Loading:",s.value,"Error:",o.value)}},y=async(C,R)=>{f.value=!0,d.value=[];try{const{data:N,error:P}=await Yt.from("movies").select("*").overlaps("genres",C).not("id","eq",R).order("vote_average",{ascending:!1}).limit(4);P?console.error("Li khi fetch phim lin quan:",P):(d.value=N||[],console.log("moviedetail.vue: Phim lin quan  ti:",d.value))}catch(N){console.error("Li khng xc nh khi fetch phim lin quan:",N)}finally{f.value=!1}};Tt(()=>e.params.filmName,C=>{u.value=C,console.log("moviedetail.vue: route.params.filmName  thay i thnh:",C),u.value&&m()},{immediate:!0});const x=()=>{if(!r.value)return;const C=r.value.type==="single"?"full":r.value.episode_current||"1";n.push(`/film/${r.value.slug}/tap/${encodeURIComponent(C)}`)},S=C=>{n.push(`/film/${r.value.slug}/tap/${encodeURIComponent(C)}`)};return(C,R)=>(D(),F("div",yB,[s.value?(D(),F("div",_B,R[2]||(R[2]=[Dn('<div class="text-center" data-v-2722b2e7><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-2722b2e7><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-2722b2e7></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-2722b2e7></path></svg><p class="text-xl font-semibold text-gray-300" data-v-2722b2e7>ang ti thng tin phim...</p></div>',1)]))):o.value?(D(),F("div",bB,[b("p",wB,ge(o.value),1)])):r.value?(D(),F("div",EB,[b("div",CB,[b("div",SB,[b("div",TB,[b("h1",kB,ge(r.value.title),1),b("p",AB,ge(r.value.original_title)+" - "+ge(r.value.year),1),b("div",IB,[b("span",RB,"Tp "+ge(r.value.episode_current||"N/A")+" "+ge(r.value.lang),1),b("div",PB,[(D(),F(Re,null,Xe(5,N=>b("svg",{key:N,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",class:Ke([N<=Math.round(r.value.vote_average/2)?"text-yellow-400":"text-gray-500","w-4 h-4 mr-0.5"]),fill:"currentColor"},R[4]||(R[4]=[b("path",{d:"M316.9 18.6L225.4 150.3 49.9 171.6c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l129.9 68.3c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L350.6 150.3 259.1 18.6c-10.7-20.9-39.1-20.9-49.8 0z"},null,-1)]),2)),64)),b("span",OB,"("+ge(r.value.vote_average||"N/A")+"/10)",1)])]),b("img",{src:r.value.poster_path||"https://placehold.co/400x600/ccc/fff?text=No+Image",alt:`Poster phim ${r.value.title}`,class:"w-full h-auto rounded-lg object-cover mb-4",loading:"lazy",onerror:"this.onerror=null;this.src='https://placehold.co/400x600/ccc/fff?text=No+Image';"},null,8,LB),b("p",NB,ge(r.value.overview),1),b("div",$B,[b("button",{onClick:x,class:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 px-4 rounded-lg transition-colors","aria-label":"Xem phim ngay"}," Xem phim "),b("button",{onClick:R[0]||(R[0]=N=>l.value=!0),class:"bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors","aria-label":"Xem trailer phim"}," Trailer ")])])]),b("div",DB,[b("div",MB,[R[12]||(R[12]=b("h3",{class:"text-lg font-semibold text-yellow-400 mb-2"},"Thng tin phim",-1)),b("p",null,[R[5]||(R[5]=b("strong",null,"Th loi:",-1)),Pe(" "+ge(r.value.genres&&r.value.genres.length>0?r.value.genres.join(", "):"N/A"),1)]),b("p",null,[R[6]||(R[6]=b("strong",null,"Thi lng:",-1)),Pe(" "+ge(r.value.runtime?`${r.value.runtime} pht`:"N/A"),1)]),b("p",null,[R[7]||(R[7]=b("strong",null,"Quc gia:",-1)),Pe(" "+ge(r.value.country&&r.value.country.length>0?r.value.country.join(", "):"N/A"),1)]),b("p",null,[R[8]||(R[8]=b("strong",null,"Cht lng:",-1)),Pe(" "+ge(r.value.quality||"N/A"),1)]),b("p",null,[R[9]||(R[9]=b("strong",null,"Ngn ng:",-1)),Pe(" "+ge(r.value.lang||"N/A"),1)]),b("p",null,[R[10]||(R[10]=b("strong",null,"Tnh trng:",-1)),Pe(" "+ge(r.value.status||"N/A"),1)]),r.value.chieurap?(D(),F("p",UB,R[11]||(R[11]=[b("strong",null,"Chiu rp:",-1),Pe(" C")]))):Ye("",!0)]),b("div",BB,[R[13]||(R[13]=b("h3",{class:"text-lg font-semibold text-yellow-400 mb-2"},"PHIM LIN QUAN",-1)),f.value?(D(),F("div",FB,"ang ti phim lin quan...")):d.value.length>0?(D(),F("div",jB,[(D(!0),F(Re,null,Xe(d.value,N=>(D(),_t(Ps,{key:N.id,movie:N,trending:!1},null,8,["movie"]))),128))])):(D(),F("div",HB,"Khng tm thy phim lin quan."))])])]),r.value.type==="series"&&r.value.episode_total&&r.value.episode_total>0?(D(),F("div",qB,[R[14]||(R[14]=b("h2",{class:"text-xl font-semibold text-yellow-400 mb-4"},"DANH SCH TP PHIM",-1)),b("div",WB,[(D(!0),F(Re,null,Xe(parseInt(r.value.episode_total),(N,P)=>(D(),F("button",{key:P,onClick:$=>S(N),class:Ke([{"bg-yellow-500 text-black":N===parseInt(r.value.episode_current),"bg-gray-700 hover:bg-gray-600":N!==parseInt(r.value.episode_current)},"px-3 py-1 rounded-full font-semibold whitespace-nowrap transition-colors"]),"aria-label":"`Xem tp ${epNum}`"}," Tp "+ge(N),11,KB))),128))])])):Ye("",!0),b("div",VB,[b("span",zB,"Chia s: "+ge(r.value.view||0),1),R[15]||(R[15]=Dn('<div class="flex gap-2" data-v-2722b2e7><a href="#" class="text-blue-400 hover:text-blue-300" data-v-2722b2e7><i class="fab fa-facebook-f" data-v-2722b2e7></i></a><a href="#" class="text-blue-400 hover:text-blue-300" data-v-2722b2e7><i class="fab fa-twitter" data-v-2722b2e7></i></a><a href="#" class="text-gray-400 hover:text-gray-300" data-v-2722b2e7><i class="fab fa-instagram" data-v-2722b2e7></i></a><a href="#" class="text-green-400 hover:text-green-300" data-v-2722b2e7><i class="fab fa-whatsapp" data-v-2722b2e7></i></a></div>',1))]),l.value?(D(),F("div",GB,[b("div",JB,[b("button",{onClick:R[1]||(R[1]=N=>l.value=!1),class:"absolute top-4 right-4 text-white text-3xl hover:text-yellow-400 transition-colors","aria-label":"ng trailer"},"  "),b("h2",YB,"Trailer: "+ge(r.value.title),1),g.value?(D(),F("div",XB,[b("iframe",{src:g.value,title:`Trailer - ${r.value.title}`,class:"w-full h-full rounded-lg",frameborder:"0",allowfullscreen:"",loading:"lazy"},null,8,QB)])):(D(),F("p",ZB,"Khng c trailer."))])])):Ye("",!0)])):(D(),F("div",xB,R[3]||(R[3]=[b("p",{class:"text-xl font-semibold"},"Khng tm thy thng tin phim hoc khng ti c d liu.",-1)])))]))}},t5=Xt(e5,[["__scopeId","data-v-2722b2e7"]]),n5={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-12"},r5={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},s5={key:0,class:"flex justify-center items-center h-screen text-red-400"},i5={class:"text-xl font-semibold"},o5={key:1,class:"flex justify-center items-center h-screen"},a5={key:2,class:"space-y-8"},l5={class:"text-3xl sm:text-4xl font-extrabold text-center text-indigo-200 tracking-tight"},u5={class:"aspect-video w-full max-w-6xl mx-auto mb-8 rounded-xl overflow-hidden shadow-2xl"},c5=["src","title"],d5={key:0,class:"max-w-6xl mx-auto"},f5={class:"flex flex-wrap gap-3 max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-indigo-500 scrollbar-track-gray-700 p-4 bg-gray-900/50 rounded-xl"},h5=["onClick","aria-label"],p5={__name:"WatchMovie",setup(t){const e=_o(),n=xr(),r=te(null),s=te(null),o=te([]),l=te(null),u=te(e.params.filmName),d=te(e.params.tap),f=m=>m.startsWith("Tp ")?m.substring(4).trim():m,h=m=>{const y=f(m);n.push(`/film/${u.value}/tap/${encodeURIComponent(y)}`)},g=async()=>{var m,y;l.value=null,r.value=null,s.value=null,o.value=[];try{const x=await vt.get(`https://phimapi.com/phim/${u.value}`),S=x.data.movie,C=((y=(m=x.data.episodes)==null?void 0:m[0])==null?void 0:y.server_data)||[];if(r.value=S,o.value=C,S.type==="single"){const R=C.find(N=>N.name.toLowerCase().includes("full"));s.value=(R==null?void 0:R.link_embed)||null}else{const R=C.find(N=>parseInt(f(N.name))===parseInt(d.value));s.value=(R==null?void 0:R.link_embed)||null}s.value||(l.value="Khng tm thy link tp phim hoc tp phim khng tn ti.")}catch(x){console.error("Li khi fetch d liu phim  xem:",x),l.value="Khng ti c d liu phim hoc tp phim. Vui lng th li sau.",r.value=null,s.value=null,o.value=[]}};return Tt(()=>e.params,m=>{u.value=m.filmName,d.value=m.tap,g()},{immediate:!0}),(m,y)=>(D(),F("div",n5,[b("div",r5,[l.value?(D(),F("div",s5,[b("p",i5,ge(l.value),1)])):!r.value||!s.value?(D(),F("div",o5,y[0]||(y[0]=[Dn('<div class="text-center" data-v-e371cd53><svg class="animate-spin h-12 w-12 text-indigo-500 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-e371cd53><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-e371cd53></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-e371cd53></path></svg><p class="text-xl font-semibold text-gray-300" data-v-e371cd53>ang ti phim...</p></div>',1)]))):(D(),F("div",a5,[b("h1",l5,ge(r.value.name)+" - "+ge(r.value.type==="single"?"Full":`Tp ${d.value}`),1),b("div",u5,[b("iframe",{src:s.value,title:`Xem ${r.value.name} ${r.value.type==="single"?"Full":`Tp ${d.value}`}`,class:"w-full h-full",frameborder:"0",allowfullscreen:"",loading:"lazy"},null,8,c5)]),r.value.type!=="single"?(D(),F("div",d5,[y[1]||(y[1]=b("h2",{class:"text-2xl font-semibold text-orange-300 mb-4"},"Chn tp",-1)),b("div",f5,[(D(!0),F(Re,null,Xe(o.value,(x,S)=>(D(),F("button",{key:S,onClick:C=>h(x.name),class:Ke([{"bg-indigo-600 text-white":f(x.name)===d.value,"bg-gray-700 hover:bg-gray-600 text-gray-200":f(x.name)!==d.value},"px-4 py-2 rounded-lg font-semibold transition-colors duration-300"]),"aria-label":`Xem tp ${x.name}`},ge(x.name),11,h5))),128))])])):Ye("",!0)]))])]))}},g5=Xt(p5,[["__scopeId","data-v-e371cd53"]]),m5={class:"relative flex-1"},v5=["aria-expanded"],y5={key:0,class:"px-4 py-2 text-gray-500"},_5={key:1,class:"px-4 py-2 text-gray-500"},b5=["onClick","onKeydown"],w5={class:"relative flex-1"},x5=["aria-expanded"],E5={key:0,class:"px-4 py-2 text-gray-500"},C5={key:1,class:"px-4 py-2 text-gray-500"},S5=["onClick","onKeydown"],T5={class:"relative flex-1"},k5=["aria-expanded"],A5={key:0,class:"px-4 py-2 text-gray-500"},I5={key:1,class:"px-4 py-2 text-gray-500"},R5=["onClick","onKeydown"],P5={class:"flex gap-2"},O5=["disabled"],L5={key:0,class:"flex items-center"},N5={key:1},$5={__name:"FilterBar",props:{baseSlug:{type:String,default:""},basePath:{type:String,required:!0},selectedCategory:{type:String,default:""},selectedCountry:{type:String,default:""},selectedYear:{type:String,default:""},allCategories:{type:Array,default:()=>[]},allCountries:{type:Array,default:()=>[]},availableYears:{type:Array,default:()=>[]}},emits:["update:selectedCategory","update:selectedCountry","update:selectedYear"],setup(t,{emit:e}){const n=t,r=e;Ba(),Fa();const s=_o(),o=xr(),l=te(!1),u=te(!1),d=te(!1),f=te(!1),h=te(""),g=te(""),m=te(""),y=te(""),x=te(n.selectedCategory),S=te(n.selectedCountry),C=te(n.selectedYear);Tt(()=>n.selectedCategory,ae=>{x.value=ae,console.log("FilterBar: props.selectedCategory changed to:",ae,"internalSelectedCategory:",x.value)}),Tt(()=>n.selectedCountry,ae=>{S.value=ae,console.log("FilterBar: props.selectedCountry changed to:",ae,"internalSelectedCountry:",S.value)}),Tt(()=>n.selectedYear,ae=>{C.value=ae,console.log("FilterBar: props.selectedYear changed to:",ae,"internalSelectedYear:",C.value)});const R=$e(()=>{const ae=n.allCategories.find(se=>se.slug===x.value);return ae?ae.name:"Chn Th Loi"}),N=$e(()=>{if(S.value==="")return"Tt c Quc gia";const ae=n.allCountries.find(se=>se.slug===S.value);return ae?ae.name:"Chn Quc Gia"}),P=$e(()=>n.allCategories.filter(ae=>{var se;return(se=ae==null?void 0:ae.name)==null?void 0:se.toLowerCase().includes(h.value.toLowerCase())})),$=$e(()=>n.allCountries.filter(ae=>{var se;return(se=ae==null?void 0:ae.name)==null?void 0:se.toLowerCase().includes(g.value.toLowerCase())})),E=$e(()=>n.availableYears.filter(ae=>String(ae).toLowerCase().includes(m.value.toLowerCase()))),I=ae=>{const se=l.value,ie=u.value,me=d.value;l.value=!1,u.value=!1,d.value=!1,h.value="",g.value="",m.value="",ae==="category"&&!se?l.value=!0:ae==="country"&&!ie?u.value=!0:ae==="year"&&!me&&(d.value=!0)},O=(ae,se)=>{x.value=ae,r("update:selectedCategory",ae),l.value=!1},z=(ae,se)=>{S.value=ae,r("update:selectedCountry",ae),u.value=!1},q=ae=>{C.value=String(ae),r("update:selectedYear",String(ae)),d.value=!1},j=()=>{x.value="",S.value="",C.value="",r("update:selectedCategory",""),r("update:selectedCountry",""),r("update:selectedYear","");const ae=s.params.pageNumber||1;let se=`/${n.basePath}`;n.baseSlug&&(se+=`/${n.baseSlug}`),se+=`/page/${ae}`,o.push({path:se,query:{}}),l.value=!1,u.value=!1,d.value=!1,h.value="",g.value="",m.value=""},he=te(null),H=ae=>{he.value&&!he.value.contains(ae.target)&&(l.value=!1,u.value=!1,d.value=!1,h.value="",g.value="",m.value="")},xe=async()=>{f.value=!0,y.value="";try{const se=s.params.pageNumber||1,ie={};x.value&&(ie.category=x.value),S.value&&(ie.country=S.value),C.value&&(ie.year=C.value);let me=[];n.basePath&&me.push(n.basePath),n.baseSlug&&me.push(n.baseSlug),me.push("page",se);const _e=`/${me.join("/")}`;await o.push({path:_e,query:ie})}catch(ae){console.error("Li khi lc:",ae),y.value=" c li xy ra khi lc phim. Vui lng th li!"}finally{f.value=!1}};return wn(()=>{document.addEventListener("click",H),console.log("FilterBar onMounted: props.selectedCountry:",n.selectedCountry,"internalSelectedCountry:",S.value)}),vh(()=>{document.removeEventListener("click",H)}),Tt(()=>s.query,ae=>{x.value=ae.category||"",S.value=ae.country||"",C.value=ae.year||"",console.log("FilterBar watch route.query: internalSelectedCountry updated to:",S.value)},{deep:!0,immediate:!0}),(ae,se)=>(D(),F("div",{class:"relative flex flex-col sm:flex-row bg-gray-800 rounded-xl p-2 gap-2",ref_key:"filterRef",ref:he},[b("div",m5,[b("button",{onClick:se[0]||(se[0]=ie=>I("category")),onKeydown:se[1]||(se[1]=rr(ie=>I("category"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":l.value,"aria-controls":"category-dropdown"},[b("span",null,ge(R.value),1),(D(),F("svg",{class:Ke(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":l.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se[15]||(se[15]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,v5),l.value?(D(),F("div",{key:0,id:"category-dropdown",class:Ke(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",l.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[Vn(b("input",{"onUpdate:modelValue":se[2]||(se[2]=ie=>h.value=ie),type:"text",placeholder:"Tm th loi...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Wr,h.value]]),b("div",{onClick:se[3]||(se[3]=ie=>O("")),onKeydown:se[4]||(se[4]=rr(ie=>O(""),["enter"])),class:Ke(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":x.value===""}]),tabindex:"0"}," Tt c Th loi ",34),P.value.length===0&&h.value!==""?(D(),F("div",y5,"Khng tm thy th loi.")):n.allCategories.length===0&&h.value===""?(D(),F("div",_5,"Khng c th loi no.")):Ye("",!0),(D(!0),F(Re,null,Xe(P.value,ie=>(D(),F("div",{key:ie.slug,onClick:me=>O(ie.slug,ie.name),onKeydown:rr(me=>O(ie.slug,ie.name),["enter"]),class:Ke(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":x.value===ie.slug}]),tabindex:"0"},ge(ie.name),43,b5))),128))],2)):Ye("",!0)]),b("div",w5,[b("button",{onClick:se[5]||(se[5]=ie=>I("country")),onKeydown:se[6]||(se[6]=rr(ie=>I("country"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":u.value,"aria-controls":"country-dropdown"},[b("span",null,ge(N.value),1),(D(),F("svg",{class:Ke(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":u.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se[16]||(se[16]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,x5),u.value?(D(),F("div",{key:0,id:"country-dropdown",class:Ke(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",u.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[Vn(b("input",{"onUpdate:modelValue":se[7]||(se[7]=ie=>g.value=ie),type:"text",placeholder:"Tm quc gia...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Wr,g.value]]),b("div",{onClick:se[8]||(se[8]=ie=>z("")),onKeydown:se[9]||(se[9]=rr(ie=>z(""),["enter"])),class:Ke(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":S.value===""}]),tabindex:"0"}," Tt c Quc gia ",34),$.value.length===0&&g.value!==""?(D(),F("div",E5,"Khng tm thy quc gia.")):n.allCountries.length===0&&g.value===""?(D(),F("div",C5,"Khng c quc gia no.")):Ye("",!0),(D(!0),F(Re,null,Xe($.value,ie=>(D(),F("div",{key:ie.slug,onClick:me=>z(ie.slug,ie.name),onKeydown:rr(me=>z(ie.slug,ie.name),["enter"]),class:Ke(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":S.value===ie.slug}]),tabindex:"0"},ge(ie.name),43,S5))),128))],2)):Ye("",!0)]),b("div",T5,[b("button",{onClick:se[10]||(se[10]=ie=>I("year")),onKeydown:se[11]||(se[11]=rr(ie=>I("year"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":d.value,"aria-controls":"year-dropdown"},[b("span",null,ge(C.value||"Tt c Nm"),1),(D(),F("svg",{class:Ke(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se[17]||(se[17]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,k5),d.value?(D(),F("div",{key:0,id:"year-dropdown",class:Ke(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",d.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[Vn(b("input",{"onUpdate:modelValue":se[12]||(se[12]=ie=>m.value=ie),type:"text",placeholder:"Tm nm...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Wr,m.value]]),b("div",{onClick:se[13]||(se[13]=ie=>q("")),onKeydown:se[14]||(se[14]=rr(ie=>q(""),["enter"])),class:Ke(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":C.value===""}]),tabindex:"0"}," Tt c Nm ",34),E.value.length===0&&m.value!==""?(D(),F("div",A5,"Khng tm thy nm.")):n.availableYears.length===0&&m.value===""?(D(),F("div",I5,"Khng c nm no.")):Ye("",!0),(D(!0),F(Re,null,Xe(E.value,ie=>(D(),F("div",{key:ie,onClick:me=>q(ie),onKeydown:rr(me=>q(ie),["enter"]),class:Ke(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":C.value===String(ie)}]),tabindex:"0"},ge(ie),43,R5))),128))],2)):Ye("",!0)]),b("div",P5,[b("button",{onClick:xe,class:"bg-blue-600 text-white py-3 px-6 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200 disabled:bg-blue-400",disabled:f.value},[f.value?(D(),F("span",L5,se[18]||(se[18]=[b("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[b("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),b("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Pe(" ang lc... ")]))):(D(),F("span",N5,"Lc Phim"))],8,O5),b("button",{onClick:j,class:"bg-gray-600 text-white py-3 px-4 rounded-lg text-sm font-medium hover:bg-gray-500 transition-colors duration-200"}," Xa B Lc ")])],512))}},Zh=Xt($5,[["__scopeId","data-v-da8238b7"]]),D5={class:"px-4 py-8 w-[1200px] mx-auto"},M5={class:"w-full flex gap-6 mt-4"},U5={class:"grid grid-cols-4 gap-4 flex-[4]"},B5={key:1,class:"text-center col-span-4 text-gray-400"},F5={class:"flex-1"},j5={key:1,class:"text-gray-400"},H5={class:"flex justify-center mt-8"},q5={role:"navigation","aria-label":"pagination",class:"mx-auto flex w-full justify-center"},W5={class:"flex flex-row items-center gap-1"},K5={key:0,class:"flex size-9 items-center justify-center"},V5=["onClick"],af=20,z5={__name:"ListBaseType",setup(t){const e=_o(),n=xr(),r=cc(),s=Fa(),o=Ba(),l=te([]),u=te(1),d=te(""),f=te(""),h=te(""),g=te(1),m=te(""),y=te(""),x=te(""),S=$e(()=>e.name==="ListBaseCategory"?"category":e.name==="ListBaseCountry"?"country":"list"),C=$e(()=>e.name==="ListBaseCategory"?f.value:e.name==="ListBaseCountry"?h.value:d.value),R=async()=>{var $,E,I,O,z,q,j,he;console.log("--- Bt u fetchMovies ---"),console.log("Route Name:",e.name),console.log("Route Params:",e.params),console.log("Route Query:",e.query),console.log("Type Param (t route.params.type):",d.value),console.log("Category Slug Param (t route.params.categorySlug):",f.value),console.log("Country Slug Param (t route.params.countrySlug):",h.value),console.log("Selected Category Query (t route.query.category):",m.value),console.log("Selected Country Query (t route.query.country):",y.value),console.log("Selected Year Query (t route.query.year):",x.value);try{let H=Yt.from("movies").select("*",{count:"exact"});if(e.name==="ListBaseType"&&d.value)H=H.eq("type",d.value),console.log(`Lc chnh theo type: ${d.value}`);else if(e.name==="ListBaseCategory"&&f.value){const _e=(E=($=s.getAllCategories)==null?void 0:$.find(It=>It.slug===f.value))==null?void 0:E.name;_e?(H=H.contains("genres",[_e]),console.log(`Lc chnh theo th loi (tn): ${_e}`)):console.warn(`Khng tm thy tn th loi cho slug: ${f.value}`)}else if(e.name==="ListBaseCountry"&&h.value){const _e=(O=(I=o.getAllCountries)==null?void 0:I.find(It=>It.slug===h.value))==null?void 0:O.name;_e?(H=H.contains("country",[_e]),console.log(`Lc chnh theo quc gia (tn): ${_e}`)):console.warn(`Khng tm thy tn quc gia cho slug: ${h.value}`)}if(m.value&&e.name!=="ListBaseCategory"){const _e=(q=(z=s.getAllCategories)==null?void 0:z.find(It=>It.slug===m.value))==null?void 0:q.name;_e?(H=H.contains("genres",[_e]),console.log(`Lc ph theo th loi (tn): ${_e}`)):console.warn(`Khng tm thy tn th loi cho query slug: ${m.value}`)}if(y.value&&e.name!=="ListBaseCountry"){const _e=(he=(j=o.getAllCountries)==null?void 0:j.find(It=>It.slug===y.value))==null?void 0:he.name;_e?(H=H.contains("country",[_e]),console.log(`Lc ph theo quc gia (tn): ${_e}`)):console.warn(`Khng tm thy tn quc gia cho query slug: ${y.value}`)}x.value&&(H=H.eq("year",parseInt(x.value)),console.log(`Lc ph theo nm: ${x.value}`));const xe=(g.value-1)*af,ae=xe+af-1;H=H.range(xe,ae),H=H.order("created_at",{ascending:!1}),console.log("Supabase Query Object (before execution):",H);const{data:se,error:ie,count:me}=await H;if(console.log("Supabase Response Data:",se),console.log("Supabase Response Error:",ie),console.log("Supabase Response Count:",me),ie){console.error("Li khi fetch phim t Supabase:",ie),l.value=[],u.value=1;return}l.value=se||[],u.value=Math.ceil(me/af)||1,console.log(`Tng s trang: ${u.value}`),console.log("--- Kt thc fetchMovies ---")}catch(H){console.error("Li khi fetch phim:",H),l.value=[],u.value=1}};Tt(()=>e,async $=>{g.value=parseInt($.params.pageNumber)||1,d.value=$.params.type||"",f.value=$.params.categorySlug||"",h.value=$.params.countrySlug||"",m.value=$.query.category||"",y.value=$.query.country||"",x.value=$.query.year||"",await s.getCategory(),await o.getCountry(),R()},{deep:!0,immediate:!0}),wn(async()=>{await r.getRecommendedMovies()});const N=$=>{if($>=1&&$<=u.value){const E=e.name;let I="";E==="ListBaseType"?I=`list/${d.value}`:E==="ListBaseCategory"?I=`category/${f.value}`:E==="ListBaseCountry"?I=`country/${h.value}`:I=`${d.value}`,n.push({path:`/${I}/page/${$}`,query:e.query})}},P=()=>{const $=new Set,E=2;$.add(1),u.value>1&&$.add(u.value);for(let z=g.value-E;z<=g.value+E;z++)z>=1&&z<=u.value&&$.add(z);let I=Array.from($).sort((z,q)=>z-q),O=[];for(let z=0;z<I.length;z++)O.push(I[z]),z<I.length-1&&I[z+1]-I[z]>1&&O.push("ellipsis");return O};return($,E)=>(D(),F("div",D5,[Ee(Zh,{basePath:S.value,baseSlug:C.value},null,8,["basePath","baseSlug"]),b("div",M5,[b("div",U5,[l.value&&l.value.length>0?(D(!0),F(Re,{key:0},Xe(l.value,(I,O)=>(D(),_t(Ps,{key:I.id||O,movie:I,trending:!1},null,8,["movie"]))),128)):(D(),F("p",B5,"Khng c d liu."))]),b("div",F5,[E[2]||(E[2]=b("h3",{class:"uppercase text-[#da966e] text-sm border-b-2 border-dashed border-gray-400 pb-2 mb-3"}," Bng Xp Hng ",-1)),Fe(r).getRecommended.length>0?(D(!0),F(Re,{key:0},Xe(Fe(r).getRecommended.slice(0,8),(I,O)=>(D(),_t(uc,{key:I.id||O,trendingMovie:I,index:O},null,8,["trendingMovie","index"]))),128)):(D(),F("p",j5,"Khng c d liu."))])]),b("div",H5,[b("nav",q5,[b("ul",W5,[b("li",null,[b("button",{onClick:E[0]||(E[0]=I=>N(g.value-1)),class:Ke([{"opacity-50 pointer-events-none":g.value===1},"px-2.5 py-1.5 sm:pl-2.5 gap-1 inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 hover:bg-gray-200"])},E[3]||(E[3]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-left"},[b("path",{d:"m15 18-6-6 6-6"})],-1),b("span",{class:"hidden sm:block"},"Previous",-1)]),2)]),(D(!0),F(Re,null,Xe(P(),(I,O)=>(D(),F("li",{key:O},[I==="ellipsis"?(D(),F("span",K5,E[4]||(E[4]=[Dn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-more-horizontal" data-v-d88e2d28><circle cx="12" cy="12" r="1" data-v-d88e2d28></circle><circle cx="19" cy="12" r="1" data-v-d88e2d28></circle><circle cx="5" cy="12" r="1" data-v-d88e2d28></circle></svg><span class="sr-only" data-v-d88e2d28>More pages</span>',2)]))):(D(),F("button",{key:1,onClick:z=>N(I),class:Ke([{"bg-[#da966e] text-white":g.value===I,"hover:bg-gray-200":g.value!==I},"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 h-9 px-4 py-2"])},ge(I),11,V5))]))),128)),b("li",null,[b("button",{onClick:E[1]||(E[1]=I=>N(g.value+1)),class:Ke([{"opacity-50 pointer-events-none":g.value===u.value},"px-2.5 py-1.5 sm:pr-2.5 gap-1 inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 hover:bg-gray-200"])},E[5]||(E[5]=[b("span",{class:"hidden sm:block"},"Next",-1),b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-right"},[b("path",{d:"m9 18 6-6-6-6"})],-1)]),2)])])])])]))}},G5=Xt(z5,[["__scopeId","data-v-d88e2d28"]]),J5={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-8"},Y5={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},X5={key:0,class:"flex justify-center items-center h-96"},Q5={key:1,class:"text-center text-red-400 text-lg py-12"},Z5={class:"text-xl font-semibold"},e8={class:"w-full flex flex-col lg:flex-row gap-6 mt-6"},t8={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 flex-[4]"},n8={key:1,class:"text-center col-span-full text-gray-400 text-lg"},r8={class:"lg:w-1/4 flex-1 bg-gray-900 p-4 rounded-xl shadow-md"},s8={key:0,class:"space-y-4 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pr-2"},i8={key:1,class:"text-gray-400 text-lg"},o8={class:"flex justify-center mt-10"},a8={role:"navigation","aria-label":"pagination",class:"mx-auto flex w-full justify-center"},l8={class:"flex flex-row items-center gap-2"},u8={key:0,class:"flex size-9 items-center justify-center text-gray-400"},c8=["onClick","aria-label"],lf=20,d8={__name:"ListBaseCategory",setup(t){const e=_o(),n=xr(),r=cc(),s=Fa(),o=Ba(),l=te([]),u=te(1),d=te(!0),f=te(null),h=te(e.params.categorySlug),g=te(parseInt(e.params.pageNumber)||1),m=te(e.query.category||""),y=te(e.query.country||""),x=te(e.query.year||""),S=$e(()=>{const E=new Date().getFullYear(),I=[];for(let O=E;O>=E-20;O--)I.push(O);return I}),C=$e(()=>{if(s.getAllCategories.length>0&&m.value){const E=s.getAllCategories.find(I=>I.slug===m.value);return E?E.name:null}if(s.getAllCategories.length>0&&h.value){const E=s.getAllCategories.find(I=>I.slug===h.value);return E?E.name:null}return null}),R=$e(()=>{if(o.getAllCountries.length>0&&y.value){const E=o.getAllCountries.find(I=>I.slug===y.value);return E?E.name:null}return null}),N=async()=>{d.value=!0,f.value=null,l.value=[],u.value=1,console.log("ListBaseCategory: Bt u fetchMovies."),console.log("ListBaseCategory: Selected Category Slug (query):",m.value),console.log("ListBaseCategory: Selected Country Slug (query):",y.value),console.log("ListBaseCategory: Selected Year (query):",x.value),console.log("ListBaseCategory: Route Category Slug (path):",h.value),console.log("ListBaseCategory: Current Page:",g.value);try{let E=Yt.from("movies").select("*",{count:"exact"});const I=C.value;I?(console.log("ListBaseCategory: p dng lc theo Th loi:",I),E=E.contains("genres",[I])):(h.value||m.value)&&s.getAllCategories.length>0?console.warn(`ListBaseCategory: Khng tm thy tn th loi cho slug: '${h.value||m.value}'. Khng p dng lc theo th loi.`):console.log("ListBaseCategory: Khng c slug th loi hp l hoc d liu th loi cha ti.");const O=R.value;if(O?(console.log("ListBaseCategory: p dng lc theo Quc gia:",O),E=E.contains("country",[O])):y.value&&o.getAllCountries.length>0?console.warn(`ListBaseCategory: Khng tm thy tn quc gia cho slug: '${y.value}'. Khng p dng lc theo quc gia.`):console.log("ListBaseCategory: Khng c slug quc gia hp l hoc d liu quc gia cha ti."),x.value){const xe=parseInt(x.value);isNaN(xe)||(console.log("ListBaseCategory: p dng lc theo Nm:",xe),E=E.eq("year",xe))}else console.log("ListBaseCategory: Khng c nm c chn.");const z=(g.value-1)*lf,q=z+lf-1;E=E.range(z,q),E=E.order("created_at",{ascending:!1});const{data:j,count:he,error:H}=await E;if(H)throw H;l.value=j||[],u.value=Math.ceil((he||0)/lf),console.log("ListBaseCategory: Phim  ti t Supabase:",l.value),console.log("ListBaseCategory: Tng s lng phim:",he,"Tng s trang:",u.value)}catch(E){console.error("Li khi fetch phim t Supabase (ListBaseCategory):",E),f.value="Khng th ti d liu phim. Vui lng th li sau.",l.value=[],u.value=1}finally{d.value=!1,console.log("ListBaseCategory: Kt thc fetchMovies. Loading:",d.value,"Error:",f.value)}},P=E=>{if(E>=1&&E<=u.value){let I=["category"];h.value&&I.push(encodeURIComponent(h.value)),I.push("page",E);const O={};m.value&&(O.category=encodeURIComponent(m.value)),y.value&&(O.country=encodeURIComponent(y.value)),x.value&&(O.year=encodeURIComponent(x.value)),n.push({path:`/${I.join("/")}`,query:O})}},$=()=>{const E=new Set,I=2;E.add(1),u.value>1&&E.add(u.value);for(let q=g.value-I;q<=g.value+I;q++)q>=1&&q<=u.value&&E.add(q);let O=Array.from(E).sort((q,j)=>q-j),z=[];for(let q=0;q<O.length;q++)z.push(O[q]),q<O.length-1&&O[q+1]-O[q]>1&&z.push("ellipsis");return z};return wn(async()=>{console.log("ListBaseCategory: Component mounted."),r.getRecommended.length===0?(console.log("ListBaseCategory: Fetching recommended movies for sidebar..."),await r.getRecommendedMovies()):console.log("ListBaseCategory: Recommended movies already in store. Count:",r.getRecommended.length),s.getAllCategories.length===0?(console.log("ListBaseCategory: Fetching categories..."),await s.getCategory(),console.log("ListBaseCategory: Categories loaded. Count:",s.getAllCategories.length,"Data:",s.getAllCategories)):console.log("ListBaseCategory: Categories already in store. Count:",s.getAllCategories.length,"Data:",s.getAllCategories),o.getAllCountries.length===0?(console.log("ListBaseCategory: Fetching countries..."),await o.getCountry(),console.log("ListBaseCategory: Countries loaded. Count:",o.getAllCountries.length,"Data:",o.getAllCountries)):console.log("ListBaseCategory: Countries already in store. Count:",o.getAllCountries.length,"Data:",o.getAllCountries),console.log("ListBaseCategory: Available years computed:",S.value),Tt(()=>e.params,E=>{h.value=E.categorySlug||"",g.value=parseInt(E.pageNumber)||1,console.log("ListBaseCategory: route.params changed. Triggering fetchMovies (if stores ready)."),s.getAllCategories.length>0&&o.getAllCountries.length>0&&N()},{immediate:!0}),Tt(()=>e.query,E=>{m.value=E.category||"",y.value=E.country||"",x.value=E.year||"",console.log("ListBaseCategory: route.query changed. Triggering fetchMovies (if stores ready)."),s.getAllCategories.length>0&&o.getAllCountries.length>0&&N()},{deep:!0,immediate:!1}),Tt([()=>s.getAllCategories.length,()=>o.getAllCountries.length,()=>s.getLoading,()=>o.getLoading],([E,I,O,z],[q,j,he,H])=>{E>0&&I>0&&!O&&!z&&(d.value||(console.log("ListBaseCategory: Category or Country store data loaded and not loading. Triggering fetchMovies."),N()))}),s.getAllCategories.length>0&&o.getAllCountries.length>0?(console.log("ListBaseCategory: Stores already have data, calling fetchMovies for initial load."),N()):console.log("ListBaseCategory: Stores empty on initial mount, waiting for watchers.")}),(E,I)=>(D(),F("div",J5,[b("div",Y5,[d.value?(D(),F("div",X5,I[5]||(I[5]=[Dn('<div class="text-center" data-v-e7056b3b><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-e7056b3b><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-e7056b3b></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-e7056b3b></path></svg><p class="text-xl font-semibold text-gray-300" data-v-e7056b3b>ang ti phim...</p></div>',1)]))):f.value?(D(),F("div",Q5,[b("p",Z5,ge(f.value),1)])):(D(),F(Re,{key:2},[Ee(Zh,{baseSlug:h.value,basePath:"category",allCategories:Fe(s).getAllCategories,allCountries:Fe(o).getAllCountries,availableYears:S.value,selectedCategory:m.value,"onUpdate:selectedCategory":I[0]||(I[0]=O=>m.value=O),selectedCountry:y.value,"onUpdate:selectedCountry":I[1]||(I[1]=O=>y.value=O),selectedYear:x.value,"onUpdate:selectedYear":I[2]||(I[2]=O=>x.value=O),isLoadingCategories:Fe(s).getLoading,isLoadingCountries:Fe(o).getLoading,isLoadingYears:!1},null,8,["baseSlug","allCategories","allCountries","availableYears","selectedCategory","selectedCountry","selectedYear","isLoadingCategories","isLoadingCountries"]),b("div",e8,[b("div",t8,[l.value&&l.value.length>0?(D(!0),F(Re,{key:0},Xe(l.value,(O,z)=>(D(),_t(Ps,{key:O.slug||O.id||z,movie:O,trending:!1},null,8,["movie"]))),128)):(D(),F("p",n8,"Khng c d liu phim cho th loi ny."))]),b("div",r8,[I[6]||(I[6]=b("h3",{class:"uppercase text-yellow-400 text-sm border-b-2 border-dashed border-gray-600 pb-2 mb-4"}," Bng Xp Hng ",-1)),Fe(r).getRecommended.length>0?(D(),F("div",s8,[(D(!0),F(Re,null,Xe(Fe(r).getRecommended.slice(0,8),(O,z)=>(D(),_t(uc,{key:O.slug||O.id||z,trendingMovie:O,index:z},null,8,["trendingMovie","index"]))),128))])):(D(),F("p",i8,"Khng c d liu xp hng."))])]),b("div",o8,[b("nav",a8,[b("ul",l8,[b("li",null,[b("button",{onClick:I[3]||(I[3]=O=>P(g.value-1)),class:Ke([{"opacity-50 pointer-events-none":g.value===1},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Previous page"},I[7]||(I[7]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-left"},[b("path",{d:"m15 18-6-6 6-6"})],-1)]),2)]),(D(!0),F(Re,null,Xe($(),(O,z)=>(D(),F("li",{key:z},[O==="ellipsis"?(D(),F("span",u8,I[8]||(I[8]=[Dn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-more-horizontal" data-v-e7056b3b><circle cx="12" cy="12" r="1" data-v-e7056b3b></circle><circle cx="19" cy="12" r="1" data-v-e7056b3b></circle><circle cx="5" cy="12" r="1" data-v-e7056b3b></circle></svg><span class="sr-only" data-v-e7056b3b>More pages</span>',2)]))):(D(),F("button",{key:1,onClick:q=>P(O),class:Ke([{"bg-yellow-400 text-black":g.value===O,"hover:bg-gray-700":g.value!==O},"inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all h-9 px-4 py-1"]),"aria-label":`Page ${O}`},ge(O),11,c8))]))),128)),b("li",null,[b("button",{onClick:I[4]||(I[4]=O=>P(g.value+1)),class:Ke([{"opacity-50 pointer-events-none":g.value===u.value},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Next page"},I[9]||(I[9]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-right"},[b("path",{d:"m9 18 6-6-6-6"})],-1)]),2)])])])])],64))])]))}},f8=Xt(d8,[["__scopeId","data-v-e7056b3b"]]),h8={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-8"},p8={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},g8={key:0,class:"flex justify-center items-center h-96"},m8={key:1,class:"text-center text-red-400 text-lg py-12"},v8={class:"text-xl font-semibold"},y8={class:"w-full flex flex-col lg:flex-row gap-6 mt-6"},_8={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 flex-[4]"},b8={key:1,class:"text-center col-span-full text-gray-400 text-lg"},w8={class:"lg:w-1/4 flex-1 bg-gray-900 p-4 rounded-xl shadow-md"},x8={key:0,class:"space-y-4 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pr-2"},E8={key:1,class:"text-gray-400 text-lg"},C8={class:"flex justify-center mt-10"},S8={role:"navigation","aria-label":"pagination",class:"mx-auto flex w-full justify-center"},T8={class:"flex flex-row items-center gap-2"},k8={key:0,class:"flex size-9 items-center justify-center text-gray-400"},A8=["onClick","aria-label"],uf=20,I8={__name:"ListBaseNational",setup(t){const e=_o(),n=xr(),r=cc(),s=Fa(),o=Ba(),l=te([]),u=te(1),d=te(!0),f=te(null),h=te(e.params.countrySlug),g=te(parseInt(e.params.pageNumber)||1),m=te(e.query.country||""),y=te(e.query.category||""),x=te(e.query.year||""),S=$e(()=>{const E=new Date().getFullYear(),I=[];for(let O=E;O>=E-20;O--)I.push(O);return I}),C=$e(()=>{if(o.getAllCountries.length>0&&m.value){const E=o.getAllCountries.find(I=>I.slug===m.value);return E?E.name:null}if(o.getAllCountries.length>0&&h.value){const E=o.getAllCountries.find(I=>I.slug===h.value);return E?E.name:null}return null}),R=$e(()=>{if(s.getAllCategories.length>0&&y.value){const E=s.getAllCategories.find(I=>I.slug===y.value);return E?E.name:null}return null}),N=async()=>{d.value=!0,f.value=null,l.value=[],u.value=1,console.log("ListBaseCountry: Bt u fetchMovies."),console.log("ListBaseCountry: Selected Category Slug (query):",y.value),console.log("ListBaseCountry: Selected Country Slug (query):",m.value),console.log("ListBaseCountry: Selected Year (query):",x.value),console.log("ListBaseCountry: Route Country Slug (path):",h.value),console.log("ListBaseCountry: Current Page:",g.value);try{let E=Yt.from("movies").select("*",{count:"exact"});const I=C.value;I?(console.log("ListBaseCountry: p dng lc theo Quc gia:",I),E=E.contains("country",[I])):(h.value||m.value)&&o.getAllCountries.length>0?console.warn(`ListBaseCountry: Khng tm thy tn quc gia cho slug: '${h.value||m.value}'. Khng p dng lc theo quc gia.`):console.log("ListBaseCountry: Khng c slug quc gia hp l hoc d liu quc gia cha ti.");const O=R.value;if(O?(console.log("ListBaseCountry: p dng lc theo Th loi:",O),E=E.contains("genres",[O])):y.value&&s.getAllCategories.length>0?console.warn(`ListBaseCountry: Khng tm thy tn th loi cho slug: '${y.value}'. Khng p dng lc theo th loi.`):console.log("ListBaseCountry: Khng c slug th loi hp l hoc d liu th loi cha ti."),x.value){const xe=parseInt(x.value);isNaN(xe)||(console.log("ListBaseCountry: p dng lc theo Nm:",xe),E=E.eq("year",xe))}else console.log("ListBaseCountry: Khng c nm c chn.");const z=(g.value-1)*uf,q=z+uf-1;E=E.range(z,q),E=E.order("created_at",{ascending:!1});const{data:j,count:he,error:H}=await E;if(H)throw H;l.value=j||[],u.value=Math.ceil((he||0)/uf),console.log("ListBaseCountry: Phim  ti t Supabase:",l.value),console.log("ListBaseCountry: Tng s lng phim:",he,"Tng s trang:",u.value)}catch(E){console.error("Li khi fetch phim t Supabase (ListBaseCountry):",E),f.value="Khng th ti d liu phim. Vui lng th li sau.",l.value=[],u.value=1}finally{d.value=!1,console.log("ListBaseCountry: Kt thc fetchMovies. Loading:",d.value,"Error:",f.value)}},P=E=>{if(E>=1&&E<=u.value){console.log("DEBUG handlePageChange: countrySlug.value before path construction:",h.value);let I;h.value?I=`country/${encodeURIComponent(h.value)}`:I="country";const O={};y.value&&(O.category=encodeURIComponent(y.value)),m.value&&(O.country=encodeURIComponent(m.value)),x.value&&(O.year=encodeURIComponent(x.value));const z=`/${I}/page/${E}`;console.log("DEBUG handlePageChange: Target path being pushed:",z),console.log("DEBUG handlePageChange: Query parameters being pushed:",O),n.push({path:z,query:O})}},$=()=>{const E=new Set,I=2;E.add(1),u.value>1&&E.add(u.value);for(let q=g.value-I;q<=g.value+I;q++)q>=1&&q<=u.value&&E.add(q);let O=Array.from(E).sort((q,j)=>q-j),z=[];for(let q=0;q<O.length;q++)z.push(O[q]),q<O.length-1&&O[q+1]-O[q]>1&&z.push("ellipsis");return z};return wn(async()=>{console.log("ListBaseCountry: Component mounted."),r.getRecommended.length===0?(console.log("ListBaseCountry: Fetching recommended movies for sidebar..."),await r.getRecommendedMovies()):console.log("ListBaseCountry: Recommended movies already in store. Count:",r.getRecommended.length),s.getAllCategories.length===0?(console.log("ListBaseCountry: Fetching categories..."),await s.getCategory(),console.log("ListBaseCountry: Categories loaded. Count:",s.getAllCategories.length,"Data:",s.getAllCategories)):console.log("ListBaseCountry: Categories already in store. Count:",s.getAllCategories.length,"Data:",s.getAllCategories),o.getAllCountries.length===0?(console.log("ListBaseCountry: Fetching countries..."),await o.getCountry(),console.log("ListBaseCountry: Countries loaded. Count:",o.getAllCountries.length,"Data:",o.getAllCountries)):console.log("ListBaseCountry: Countries already in store. Count:",o.getAllCountries.length,"Data:",o.getAllCountries),console.log("ListBaseCountry: Available years computed:",S.value),Tt(()=>e.params,E=>{h.value=E.countrySlug||"",g.value=parseInt(E.pageNumber)||1,console.log("ListBaseCountry: route.params changed. Triggering fetchMovies (if stores ready)."),s.getAllCategories.length>0&&o.getAllCountries.length>0&&N()},{immediate:!0}),Tt(()=>e.query,E=>{y.value=E.category||"",m.value=E.country||"",x.value=E.year||"",console.log("ListBaseCountry: route.query changed. Triggering fetchMovies (if stores ready)."),s.getAllCategories.length>0&&o.getAllCountries.length>0&&N()},{deep:!0,immediate:!1}),Tt([()=>s.getAllCategories.length,()=>o.getAllCountries.length,()=>s.getLoading,()=>o.getLoading],([E,I,O,z],[q,j,he,H])=>{E>0&&I>0&&!O&&!z&&(d.value||(console.log("ListBaseCountry: Category or Country store data loaded and not loading. Triggering fetchMovies."),N()))}),s.getAllCategories.length>0&&o.getAllCountries.length>0?(console.log("ListBaseCountry: Stores already have data, calling fetchMovies for initial load."),N()):console.log("ListBaseCountry: Stores empty on initial mount, waiting for watchers.")}),(E,I)=>(D(),F("div",h8,[b("div",p8,[d.value?(D(),F("div",g8,I[5]||(I[5]=[Dn('<div class="text-center" data-v-a984b09d><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-a984b09d><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-a984b09d></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-a984b09d></path></svg><p class="text-xl font-semibold text-gray-300" data-v-a984b09d>ang ti phim...</p></div>',1)]))):f.value?(D(),F("div",m8,[b("p",v8,ge(f.value),1)])):(D(),F(Re,{key:2},[Ee(Zh,{baseSlug:h.value,basePath:"country",allCategories:Fe(s).getAllCategories,allCountries:Fe(o).getAllCountries,availableYears:S.value,selectedCategory:y.value,"onUpdate:selectedCategory":I[0]||(I[0]=O=>y.value=O),selectedCountry:m.value,"onUpdate:selectedCountry":I[1]||(I[1]=O=>m.value=O),selectedYear:x.value,"onUpdate:selectedYear":I[2]||(I[2]=O=>x.value=O),isLoadingCategories:Fe(s).getLoading,isLoadingCountries:Fe(o).getLoading,isLoadingYears:!1},null,8,["baseSlug","allCategories","allCountries","availableYears","selectedCategory","selectedCountry","selectedYear","isLoadingCategories","isLoadingCountries"]),b("div",y8,[b("div",_8,[l.value&&l.value.length>0?(D(!0),F(Re,{key:0},Xe(l.value,(O,z)=>(D(),_t(Ps,{key:O.slug||O.id||z,movie:O,trending:!1},null,8,["movie"]))),128)):(D(),F("p",b8,"Khng c d liu phim cho quc gia ny."))]),b("div",w8,[I[6]||(I[6]=b("h3",{class:"uppercase text-yellow-400 text-sm border-b-2 border-dashed border-gray-600 pb-2 mb-4"}," Bng Xp Hng ",-1)),Fe(r).getRecommended.length>0?(D(),F("div",x8,[(D(!0),F(Re,null,Xe(Fe(r).getRecommended.slice(0,8),(O,z)=>(D(),_t(uc,{key:O.slug||O.id||z,trendingMovie:O,index:z},null,8,["trendingMovie","index"]))),128))])):(D(),F("p",E8,"Khng c d liu xp hng."))])]),b("div",C8,[b("nav",S8,[b("ul",T8,[b("li",null,[b("button",{onClick:I[3]||(I[3]=O=>P(g.value-1)),class:Ke([{"opacity-50 pointer-events-none":g.value===1},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Previous page"},I[7]||(I[7]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-left"},[b("path",{d:"m15 18-6-6 6-6"})],-1)]),2)]),(D(!0),F(Re,null,Xe($(),(O,z)=>(D(),F("li",{key:z},[O==="ellipsis"?(D(),F("span",k8,I[8]||(I[8]=[Dn('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-more-horizontal" data-v-a984b09d><circle cx="12" cy="12" r="1" data-v-a984b09d></circle><circle cx="19" cy="12" r="1" data-v-a984b09d></circle><circle cx="5" cy="12" r="1" data-v-a984b09d></circle></svg><span class="sr-only" data-v-a984b09d>More pages</span>',2)]))):(D(),F("button",{key:1,onClick:q=>P(O),class:Ke([{"bg-yellow-400 text-black":g.value===O,"hover:bg-gray-700":g.value!==O},"inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all h-9 px-4 py-1"]),"aria-label":`Page ${O}`},ge(O),11,A8))]))),128)),b("li",null,[b("button",{onClick:I[4]||(I[4]=O=>P(g.value+1)),class:Ke([{"opacity-50 pointer-events-none":g.value===u.value},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Next page"},I[9]||(I[9]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-right"},[b("path",{d:"m9 18 6-6-6-6"})],-1)]),2)])])])])],64))])]))}},R8=Xt(I8,[["__scopeId","data-v-a984b09d"]]),P8={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white py-16 px-4 sm:px-6 lg:px-8 overflow-hidden"},O8={__name:"Contact",setup(t){const e=()=>{alert("Tnh nng form lin h ang c pht trin!")};return(n,r)=>(D(),F("div",P8,[b("div",{class:"max-w-7xl mx-auto"},[r[1]||(r[1]=Dn('<div class="text-center mb-12 animate-fade-in" data-v-611597a7><h1 class="text-5xl sm:text-6xl font-extrabold text-yellow-400 uppercase tracking-wide bg-gradient-to-r from-yellow-400 to-yellow-300 bg-clip-text text-transparent" data-v-611597a7> HTHREE </h1><p class="mt-4 text-lg sm:text-xl text-gray-300" data-v-611597a7>Nn tng xem phim nh cao - Cht lng Full HD, cp nht mi ngy</p></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-10" data-v-611597a7><div class="relative group" data-v-611597a7><div class="rounded-xl overflow-hidden shadow-2xl transition-all duration-300 group-hover:shadow-yellow-400/50" data-v-611597a7><img src="https://univn.vn/wp-content/uploads/2020/12/thiet-ke-web-xem-phim.jpg" alt="Ni tht rp HTHREE" class="w-full h-96 object-cover transform transition-transform duration-300 group-hover:scale-105" data-v-611597a7></div><div class="absolute inset-0 bg-gray-900 bg-opacity-10 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300" data-v-611597a7><p class="text-yellow-400 text-xl font-semibold bg-black bg-opacity-50 px-4 py-2 rounded" data-v-611597a7>Khm ph khng gian xem phim ng cp</p></div></div><div class="bg-gray-800 p-6 rounded-xl shadow-lg space-y-6" data-v-611597a7><p class="text-xl leading-relaxed font-semibold text-gray-200" data-v-611597a7> HTHREE mang n tri nghim xem phim trc tuyn vi hn 10.000+ b phim cht lng Full HD, giao din thn thin, v cp nht a dng mi ngy. Chng ti cam kt mang n s gii tr nh cao cho mi gia nh v c nhn. </p><ul class="list-none space-y-3 text-gray-300 text-base" data-v-611597a7><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> Qung co trn mn hnh, tip cn hng ngn khn gi</li><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> T chc s kin thng hiu hoc fan offline chuyn nghip</li><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> Xem phim bom tn ring t cng ngi thn, bn b</li><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> t a im cho hp bo, o to, hoc s kin c bit</li></ul></div></div>',2)),b("div",{class:"mt-12 bg-gray-800 p-6 rounded-xl shadow-lg"},[r[0]||(r[0]=Dn('<h2 class="text-2xl font-bold text-yellow-400 mb-4" data-v-611597a7>Lin H Vi HTHREE</h2><p class="text-gray-300 mb-6" data-v-611597a7>Hy kt ni ngay hm nay  nhn c s h tr tt nht!</p><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-611597a7><div class="flex items-center gap-3 p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors" data-v-611597a7><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-611597a7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-611597a7></path></svg><div data-v-611597a7><p class="text-sm text-gray-400" data-v-611597a7>Email</p><a href="mailto:CS@HTHREE.VN" class="text-blue-400 hover:underline" data-v-611597a7>CS@HTHREE.VN</a></div></div><div class="flex items-center gap-3 p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors" data-v-611597a7><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-611597a7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" data-v-611597a7></path></svg><div data-v-611597a7><p class="text-sm text-gray-400" data-v-611597a7>Hotline</p><a href="tel:0123.456.789" class="text-blue-400 hover:underline" data-v-611597a7>0123.456.789</a></div></div></div>',3)),b("button",{onClick:e,class:"mt-6 w-full bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:-translate-y-1"}," Lin H Ngay ")])])]))}},L8=Xt(O8,[["__scopeId","data-v-611597a7"]]),N8={class:"fixed inset-0 bg-[url('https://wallpapers.com/images/hd/netflix-background-gs7hjuwvv2g0e9fj.jpg')] bg-cover bg-center z-50 flex items-center justify-center overflow-auto"},$8={class:"relative z-10 w-full max-w-md p-6"},D8={class:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/10 transition-all duration-300 hover:shadow-[0_0_30px_rgba(59,130,246,0.3)]"},M8={class:"text-4xl font-extrabold text-center text-white mb-8 tracking-tight"},U8=["disabled"],B8={key:0,class:"ml-2 animate-spin"},F8={key:0,class:"relative space-y-2"},j8={class:"relative space-y-2"},H8={class:"relative space-y-2"},q8=["disabled"],W8={key:0},K8={key:1,class:"flex items-center justify-center"},V8={key:0,class:"text-red-400 text-center mt-4 text-sm animate-pulse"},z8={__name:"Auth",setup(t){const e=xr(),n=Rs(),r=new jr;r.setCustomParameters({prompt:"select_account"});const s=te(!0),o=te(""),l=te(""),u=te(""),d=te(""),f=te(!1);yo(n,x=>{x&&e.push("/")});const h=()=>{s.value=!s.value,d.value="",o.value="",l.value="",u.value=""},g=async()=>{f.value=!0,d.value="";try{if(s.value)await kO(n,l.value,u.value),console.log("ng nhp thnh cng");else{const x=await TO(n,l.value,u.value);await Eu(x.user,{displayName:o.value||"Ngi dng"}),console.log("ng k thnh cng")}e.push("/")}catch(x){d.value=y(x.code)}finally{f.value=!1}},m=async()=>{f.value=!0,d.value="";try{const S=(await XO(n,r)).user;s.value?console.log("ng nhp bng Google thnh cng"):(await Eu(S,{displayName:S.displayName||o.value||"Ngi dng"}),console.log("ng k bng Google thnh cng")),e.push("/")}catch(x){d.value=y(x.code)}finally{f.value=!1}},y=x=>{switch(x){case"auth/email-already-in-use":return"Email  c s dng.";case"auth/invalid-email":return"Email khng hp l.";case"auth/wrong-password":return"Mt khu khng ng.";case"auth/user-not-found":return"Ti khon khng tn ti.";case"auth/weak-password":return"Mt khu qu yu, cn t nht 6 k t.";case"auth/popup-closed-by-user":return"Ca s ng nhp Google  b ng.";case"auth/popup-blocked":return"Ca s ng nhp Google b chn bi trnh duyt.";case"auth/too-many-requests":return"Qu nhiu yu cu, vui lng th li sau.";case"auth/network-request-failed":return"Li mng, vui lng kim tra kt ni internet.";default:return`Li: ${x}. Vui lng th li.`}};return(x,S)=>(D(),F("div",N8,[S[9]||(S[9]=b("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm z-0"},null,-1)),b("div",$8,[b("div",D8,[b("button",{onClick:S[0]||(S[0]=C=>Fe(e).push("/")),class:"absolute top-4 right-4 text-white text-2xl hover:text-blue-300 transition-transform duration-200 hover:scale-110"},""),b("h2",M8,ge(s.value?"ng Nhp":"ng K"),1),b("button",{onClick:m,class:"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-gray-800 to-gray-700 py-3 rounded-xl mb-6 hover:from-gray-700 hover:to-gray-600 transition-all duration-300 text-white text-lg font-medium shadow-md hover:shadow-lg transform hover:-translate-y-0.5",disabled:f.value},[S[4]||(S[4]=b("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",class:"w-5 h-5"},null,-1)),Pe(" "+ge(s.value?"ng Nhp bng Google":"ng K bng Google")+" ",1),f.value?(D(),F("span",B8,"")):Ye("",!0)],8,U8),b("form",{onSubmit:c_(g,["prevent"]),class:"space-y-6"},[s.value?Ye("",!0):(D(),F("div",F8,[S[5]||(S[5]=b("div",{class:"absolute top-3 left-3 text-gray-400"},[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),Vn(b("input",{type:"text",placeholder:"Tn ti khon","onUpdate:modelValue":S[1]||(S[1]=C=>o.value=C),class:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-300",required:""},null,512),[[Wr,o.value]])])),b("div",j8,[S[6]||(S[6]=b("div",{class:"absolute top-3 left-3 text-gray-400"},[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})])],-1)),Vn(b("input",{type:"email",placeholder:"Email","onUpdate:modelValue":S[2]||(S[2]=C=>l.value=C),class:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-300",required:""},null,512),[[Wr,l.value]])]),b("div",H8,[S[7]||(S[7]=b("div",{class:"absolute top-3 left-3 text-gray-400"},[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c0-1.1-.9-2-2-2H8V6a2 2 0 012-2h4a2 2 0 012 2v3h2a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h2v2zm-2 0a2 2 0 100 4 2 2 0 000-4z"})])],-1)),Vn(b("input",{type:"password",placeholder:"Mt khu","onUpdate:modelValue":S[3]||(S[3]=C=>u.value=C),class:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-300",required:""},null,512),[[Wr,u.value]])]),b("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-blue-800 py-3 rounded-xl text-white font-semibold text-lg transition-all duration-300 shadow-md hover:shadow-xl transform hover:-translate-y-0.5",disabled:f.value},[f.value?(D(),F("span",K8,S[8]||(S[8]=[b("span",{class:"animate-spin mr-2"},"",-1),Pe(" ang x l... ")]))):(D(),F("span",W8,ge(s.value?"ng Nhp":"ng K"),1))],8,q8)],32),Ee(bR,{name:"fade"},{default:pt(()=>[d.value?(D(),F("p",V8,ge(d.value),1)):Ye("",!0)]),_:1}),b("button",{onClick:h,class:"w-full mt-6 text-blue-300 hover:text-blue-200 text-sm font-medium text-center underline underline-offset-4 transition-colors duration-200"},ge(s.value?"Cha c ti khon? ng K":" c ti khon? ng Nhp"),1)])])]))}},G8=Xt(z8,[["__scopeId","data-v-ff8ef6dc"]]),J8={class:"min-h-screen bg-gray-900 text-white"},Y8={class:"container mx-auto p-6"},X8={key:0,class:"flex justify-center items-center min-h-[400px] text-gray-400"},Q8={key:1,class:"text-center text-gray-400 min-h-[400px] flex items-center justify-center flex-col"},Z8={key:2,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},eF={class:"md:col-span-1 bg-gray-800 p-6 rounded-lg shadow-lg transform hover:scale-[1.01] transition-transform duration-300"},tF={class:"mb-3 text-lg"},nF={class:"font-medium text-gray-200"},rF={class:"mb-3 text-lg"},sF={class:"font-medium text-gray-200"},iF={class:"mb-3 text-lg"},oF={class:"font-medium text-gray-200 break-all"},aF={class:"md:col-span-2 bg-gray-800 p-6 rounded-lg shadow-lg transform hover:scale-[1.01] transition-transform duration-300"},lF={key:0,class:"text-center text-gray-400 py-8"},uF={key:1,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},cF=["src","alt"],dF={class:"p-3"},fF={class:"font-medium text-sm text-gray-100 group-hover:text-pink-300 truncate"},hF=["onClick"],pF={key:2,class:"text-center text-gray-400 py-8"},gF={class:"md:col-span-3 bg-gray-800 p-6 rounded-lg shadow-lg transform hover:scale-[1.01] transition-transform duration-300"},mF={key:0,class:"text-center text-gray-400 py-8"},vF={key:1,class:"space-y-4 max-h-96 overflow-y-auto pr-2 scrollbar-custom"},yF=["src","alt"],_F={class:"flex-1"},bF={class:"font-medium text-lg text-gray-100"},wF={key:0},xF={class:"text-gray-400 text-sm"},EF={key:0,class:"w-full bg-gray-600 rounded-full h-2.5 mt-2"},CF={class:"text-right text-xs text-gray-300 mt-1"},SF=["onClick"],TF={key:2,class:"text-center text-gray-400 py-8"},kF={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm"},AF={class:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-md relative text-white"},IF={__name:"Account",setup(t){const e=xr(),n=Rs(),r=te(null),s=te(null),o=te(!0),l=te([]),u=te([]),d=te(!0),f=te(!0),h=te(!1),g=xn({displayName:""}),m=te(""),y=te("");wn(()=>{yo(n,$=>{r.value=$,$?(s.value=$.uid,console.log("Account.vue: User authenticated:",$.uid),x(),S()):(s.value=null,l.value=[],u.value=[],d.value=!1,f.value=!1,console.log("Account.vue: User not authenticated.")),o.value=!1})});const x=async()=>{if(!s.value){l.value=[],d.value=!1;return}d.value=!0,console.log("Account.vue: Fetching favorites for user:",s.value);try{const{data:$,error:E}=await Yt.from("user_favorites").select("*, movies(id, slug, title, poster_path)").eq("user_id",s.value);E?(console.error("Account.vue: Error fetching favorites:",E),l.value=[]):(l.value=$.map(I=>I.movies).filter(I=>I!==null),console.log("Account.vue: Favorites loaded:",l.value))}catch($){console.error("Account.vue: Unexpected error fetching favorites:",$),l.value=[]}finally{d.value=!1}},S=async()=>{if(!s.value){u.value=[],f.value=!1;return}f.value=!0,console.log("Account.vue: Fetching watch history for user:",s.value);try{const{data:$,error:E}=await Yt.from("user_watch_history").select("*").eq("user_id",s.value).order("last_watched_at",{ascending:!1});E?(console.error("Account.vue: Error fetching watch history:",E),u.value=[]):(u.value=$||[],console.log("Account.vue: Watch history loaded:",u.value))}catch($){console.error("Account.vue: Unexpected error fetching watch history:",$),u.value=[]}finally{f.value=!1}},C=()=>{r.value&&(g.displayName=r.value.displayName||"",h.value=!0)},R=async()=>{if(!r.value){m.value="Khng c ngi dng  cp nht.",y.value="error";return}m.value="",y.value="";try{await Eu(r.value,{displayName:g.displayName}),r.value.reload(),m.value="Cp nht thng tin thnh cng!",y.value="success",console.log("Account.vue: Profile updated in Firebase Auth.")}catch($){console.error("Account.vue: Li khi cp nht thng tin c nhn:",$),m.value=`Li: ${$.message}`,y.value="error"}finally{setTimeout(()=>{m.value=""},3e3)}},N=async $=>{if(s.value){console.log("Account.vue: Attempting to remove favorite:",$,"for user:",s.value);try{const{error:E}=await Yt.from("user_favorites").delete().eq("user_id",s.value).eq("movie_id",$);E?(console.error("Account.vue: Error removing favorite:",E),alert("Li khi xa phim yu thch: "+E.message)):(console.log("Account.vue: Favorite removed successfully."),x())}catch(E){console.error("Account.vue: Unexpected error removing favorite:",E),alert("Li khng xc nh khi xa phim yu thch.")}}},P=$=>{if(!$||!$.movie_slug){console.warn("Account.vue: Lch s xem khng hp l  tip tc.");return}const E=$.episode_number||"full";e.push(`/film/${$.movie_slug}/tap/${encodeURIComponent(E)}`)};return($,E)=>{const I=ju("router-link");return D(),F("div",J8,[E[17]||(E[17]=b("header",{class:"bg-blue-800 p-4 shadow-md text-center"},[b("h1",{class:"text-3xl font-bold"},"Ti Khon Ca Ti")],-1)),b("div",Y8,[o.value?(D(),F("div",X8,E[2]||(E[2]=[b("svg",{class:"animate-spin h-8 w-8 mr-3 text-blue-400",viewBox:"0 0 24 24"},[b("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",class:"opacity-25"}),b("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",class:"opacity-75"})],-1),b("p",null,"ang ti thng tin ti khon...",-1)]))):r.value?(D(),F("div",Z8,[b("div",eF,[E[8]||(E[8]=b("h2",{class:"text-2xl font-semibold mb-4 text-blue-400"},"Thng Tin C Nhn",-1)),b("p",tF,[E[5]||(E[5]=Pe("Tn: ")),b("span",nF,ge(r.value.displayName||"Cha cp nht"),1)]),b("p",rF,[E[6]||(E[6]=Pe("Email: ")),b("span",sF,ge(r.value.email||"N/A"),1)]),b("p",iF,[E[7]||(E[7]=Pe("ID Ngi dng: ")),b("span",oF,ge(s.value||"N/A"),1)]),b("button",{onClick:C,class:"mt-4 bg-blue-700 hover:bg-blue-800 py-2 px-4 rounded-lg text-white transition-all transform hover:scale-105"}," Chnh Sa Thng Tin ")]),b("div",aF,[E[11]||(E[11]=b("h2",{class:"text-2xl font-semibold mb-4 text-pink-400"},"Phim Yu Thch",-1)),d.value?(D(),F("div",lF,E[9]||(E[9]=[b("svg",{class:"animate-spin h-6 w-6 mx-auto mb-2 text-pink-400",viewBox:"0 0 24 24"},null,-1),Pe(" ang ti phim yu thch... ")]))):l.value.length?(D(),F("div",uF,[(D(!0),F(Re,null,Xe(l.value,O=>(D(),F("div",{key:O.id,class:"relative bg-gray-700 rounded-lg overflow-hidden shadow-md group"},[Ee(I,{to:`/film/${O.slug}`},{default:pt(()=>[b("img",{src:O.poster_path||"https://placehold.co/200x300/ccc/fff?text=No+Image",alt:O.title,class:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"},null,8,cF),b("div",dF,[b("p",fF,ge(O.title),1)])]),_:2},1032,["to"]),b("button",{onClick:z=>N(O.id),class:"absolute top-2 right-2 bg-red-600/80 hover:bg-red-700 text-white rounded-full p-1.5 transition-all opacity-0 group-hover:opacity-100 transform group-hover:scale-110","aria-label":"Xa phim yu thch"},E[10]||(E[10]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-x"},[b("path",{d:"M18 6 6 18"}),b("path",{d:"m6 6 12 12"})],-1)]),8,hF)]))),128))])):(D(),F("p",pF,"Cha c phim yu thch no."))]),b("div",gF,[E[13]||(E[13]=b("h2",{class:"text-2xl font-semibold mb-4 text-green-400"},"Lch S Xem Phim",-1)),f.value?(D(),F("div",mF,E[12]||(E[12]=[b("svg",{class:"animate-spin h-6 w-6 mx-auto mb-2 text-green-400",viewBox:"0 0 24 24"},null,-1),Pe(" ang ti lch s xem phim... ")]))):u.value.length?(D(),F("div",vF,[(D(!0),F(Re,null,Xe(u.value,O=>(D(),F("div",{key:O.id,class:"p-4 bg-gray-700 rounded-lg flex items-center gap-4"},[b("img",{src:O.poster_path||"https://placehold.co/100x150/ccc/fff?text=No+Image",alt:O.movie_title,class:"w-16 h-24 object-cover rounded"},null,8,yF),b("div",_F,[b("p",bF,[Pe(ge(O.movie_title)+" ",1),O.episode_number&&O.episode_number!=="full"?(D(),F("span",wF,"- Tp "+ge(O.episode_number),1)):Ye("",!0)]),b("p",xF,"Xem ln cui: "+ge(new Date(O.last_watched_at).toLocaleString("vi-VN")),1),O.progress_seconds!==null&&O.total_duration_seconds!==null&&O.total_duration_seconds>0?(D(),F("div",EF,[b("div",{class:"bg-green-500 h-2.5 rounded-full",style:ka({width:`${(O.progress_seconds/O.total_duration_seconds*100).toFixed(0)}%`})},null,4),b("p",CF,ge((O.progress_seconds/O.total_duration_seconds*100).toFixed(0))+"%",1)])):Ye("",!0),b("button",{onClick:z=>P(O),class:"mt-3 bg-blue-700 hover:bg-blue-800 py-1.5 px-4 rounded-lg text-white text-sm transition-all transform hover:scale-105"}," Tip Tc Xem ",8,SF)])]))),128))])):(D(),F("p",TF,"Cha c lch s xem phim no."))])])):(D(),F("div",Q8,[E[4]||(E[4]=b("p",{class:"text-xl mb-4"},"Vui lng ng nhp  xem thng tin ti khon.",-1)),Ee(I,{to:"/auth",class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors"},{default:pt(()=>E[3]||(E[3]=[Pe(" ng Nhp Ngay ")])),_:1})]))]),h.value?(D(),F("div",kF,[b("div",AF,[b("button",{onClick:E[0]||(E[0]=O=>h.value=!1),class:"absolute top-4 right-4 text-gray-400 hover:text-gray-200 text-2xl","aria-label":"ng"},""),E[16]||(E[16]=b("h2",{class:"text-2xl font-bold mb-6 text-center text-blue-400"},"Chnh Sa Thng Tin C Nhn",-1)),b("form",{onSubmit:c_(R,["prevent"]),class:"space-y-4"},[b("div",null,[E[14]||(E[14]=b("label",{for:"editDisplayName",class:"block text-sm font-medium text-gray-300"},"Tn hin th",-1)),Vn(b("input",{type:"text",id:"editDisplayName","onUpdate:modelValue":E[1]||(E[1]=O=>g.displayName=O),class:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2"},null,512),[[Wr,g.displayName]])]),E[15]||(E[15]=b("button",{type:"submit",class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-colors"},"Lu Thay i",-1))],32),m.value?(D(),F("p",{key:0,class:Ke(["mt-4 text-center",y.value==="success"?"text-green-400":"text-red-400"])},ge(m.value),3)):Ye("",!0)])])):Ye("",!0)])}}},RF=Xt(IF,[["__scopeId","data-v-4b19a428"]]),PF=[{path:"/",name:"Welcome",component:JM},{path:"/home",name:"Homepage",component:vB},{path:"/film/:filmName",name:"MovieDetail",component:t5,props:!0},{path:"/film/:filmName/tap/:tap",name:"WatchMovie",component:g5,props:!0},{path:"/list/:type/page/:pageNumber",name:"ListBaseType",component:G5,props:!0},{path:"/category/:categorySlug?/page/:pageNumber",name:"ListBaseCategory",component:f8,props:!0},{path:"/country/:countrySlug?/page/:pageNumber",name:"ListBaseNational",component:R8,props:!0},{path:"/contact",name:"Contact",component:L8},{path:"/auth",name:"Auth",component:G8},{path:"/account",name:"Account",component:RF}],Mw=q4({history:_4("/"),routes:PF,scrollBehavior(t,e,n){return{top:0,behavior:"smooth"}}}),OF={apiKey:"AIzaSyAjdTcl6igCm-wiipxcHg0CxxSZuqKOxw4",authDomain:"hthree-film.firebaseapp.com",projectId:"hthree-film",storageBucket:"hthree-film.firebasestorage.app",messagingSenderId:"484096213407",appId:"1:484096213407:web:47a536488715ce732c3daa",measurementId:"G-QWSF99C1RP"},LF=Ch(OF),Uw=Rs(LF),dc=d_(VM);dc.use(Mw);dc.use(K4());Mw.beforeEach((t,e,n)=>{const r=t.matched.some(o=>o.meta.requiresAuth),s=Uw.currentUser;r&&!s?(console.log("Cha ng nhp (Firebase), chuyn hng v /auth"),n("/auth")):n()});let cf=!1;yo(Uw,t=>{cf=!!t,dc.config.globalProperties.$isAuthenticated=cf,console.log("Firebase Auth state changed. isAuthenticated:",cf)});dc.mount("#app");
