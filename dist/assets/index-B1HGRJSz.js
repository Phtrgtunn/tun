function Eg(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ol(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const De={},Dn=[],rs=()=>{},Sg=()=>!1,wi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ml=t=>t.startsWith("onUpdate:"),st=Object.assign,jl=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Tg=Object.prototype.hasOwnProperty,Ne=(t,e)=>Tg.call(t,e),me=Array.isArray,Un=t=>Xr(t)==="[object Map]",or=t=>Xr(t)==="[object Set]",Dc=t=>Xr(t)==="[object Date]",Se=t=>typeof t=="function",We=t=>typeof t=="string",is=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",fh=t=>(Ue(t)||Se(t))&&Se(t.then)&&Se(t.catch),ph=Object.prototype.toString,Xr=t=>ph.call(t),Ag=t=>Xr(t).slice(8,-1),gh=t=>Xr(t)==="[object Object]",Nl=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,br=Ol(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_i=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Ig=/-(\w)/g,Bt=_i(t=>t.replace(Ig,(e,s)=>s?s.toUpperCase():"")),$g=/\B([A-Z])/g,Js=_i(t=>t.replace($g,"-$1").toLowerCase()),xi=_i(t=>t.charAt(0).toUpperCase()+t.slice(1)),ta=_i(t=>t?`on${xi(t)}`:""),qs=(t,e)=>!Object.is(t,e),$o=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},vh=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Jo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Rg=t=>{const e=We(t)?Number(t):NaN;return isNaN(e)?t:e};let Uc;const ki=()=>Uc||(Uc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $t(t){if(me(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=We(n)?jg(n):$t(n);if(r)for(const o in r)e[o]=r[o]}return e}else if(We(t)||Ue(t))return t}const Pg=/;(?![^(]*\))/g,Og=/:([^]+)/,Mg=/\/\*[^]*?\*\//g;function jg(t){const e={};return t.replace(Mg,"").split(Pg).forEach(s=>{if(s){const n=s.split(Og);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ae(t){let e="";if(We(t))e=t;else if(me(t))for(let s=0;s<t.length;s++){const n=ae(t[s]);n&&(e+=n+" ")}else if(Ue(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Ng="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lg=Ol(Ng);function mh(t){return!!t||t===""}function Bg(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=xn(t[n],e[n]);return s}function xn(t,e){if(t===e)return!0;let s=Dc(t),n=Dc(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=is(t),n=is(e),s||n)return t===e;if(s=me(t),n=me(e),s||n)return s&&n?Bg(t,e):!1;if(s=Ue(t),n=Ue(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),c=e.hasOwnProperty(i);if(a&&!c||!a&&c||!xn(t[i],e[i]))return!1}}return String(t)===String(e)}function Ll(t,e){return t.findIndex(s=>xn(s,e))}const yh=t=>!!(t&&t.__v_isRef===!0),P=t=>We(t)?t:t==null?"":me(t)||Ue(t)&&(t.toString===ph||!Se(t.toString))?yh(t)?P(t.value):JSON.stringify(t,bh,2):String(t),bh=(t,e)=>yh(e)?bh(t,e.value):Un(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],o)=>(s[sa(n,o)+" =>"]=r,s),{})}:or(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>sa(s))}:is(e)?sa(e):Ue(e)&&!me(e)&&!gh(e)?String(e):e,sa=(t,e="")=>{var s;return is(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gt;class wh{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=gt,!e&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=gt;try{return gt=this,e()}finally{gt=s}}}on(){gt=this}off(){gt=this.parent}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function _h(t){return new wh(t)}function xh(){return gt}function Dg(t,e=!1){gt&&gt.cleanups.push(t)}let Fe;const na=new WeakSet;class kh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,gt&&gt.active&&gt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,na.has(this)&&(na.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Eh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hc(this),Sh(this);const e=Fe,s=Wt;Fe=this,Wt=!0;try{return this.fn()}finally{Th(this),Fe=e,Wt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ul(e);this.deps=this.depsTail=void 0,Hc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?na.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ba(this)&&this.run()}get dirty(){return Ba(this)}}let Ch=0,wr,_r;function Eh(t,e=!1){if(t.flags|=8,e){t.next=_r,_r=t;return}t.next=wr,wr=t}function Bl(){Ch++}function Dl(){if(--Ch>0)return;if(_r){let e=_r;for(_r=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;wr;){let e=wr;for(wr=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Sh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Th(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Ul(n),Ug(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Ba(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ah(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ah(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===jr))return;t.globalVersion=jr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Ba(t)){t.flags&=-3;return}const s=Fe,n=Wt;Fe=t,Wt=!0;try{Sh(t);const r=t.fn(t._value);(e.version===0||qs(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Fe=s,Wt=n,Th(t),t.flags&=-3}}function Ul(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Ul(o,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ug(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Wt=!0;const Ih=[];function Ys(){Ih.push(Wt),Wt=!1}function Xs(){const t=Ih.pop();Wt=t===void 0?!0:t}function Hc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Fe;Fe=void 0;try{e()}finally{Fe=s}}}let jr=0;class Hg{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Fe||!Wt||Fe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Fe)s=this.activeLink=new Hg(Fe,this),Fe.deps?(s.prevDep=Fe.depsTail,Fe.depsTail.nextDep=s,Fe.depsTail=s):Fe.deps=Fe.depsTail=s,$h(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Fe.depsTail,s.nextDep=void 0,Fe.depsTail.nextDep=s,Fe.depsTail=s,Fe.deps===s&&(Fe.deps=n)}return s}trigger(e){this.version++,jr++,this.notify(e)}notify(e){Bl();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Dl()}}}function $h(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)$h(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Yo=new WeakMap,yn=Symbol(""),Da=Symbol(""),Nr=Symbol("");function ut(t,e,s){if(Wt&&Fe){let n=Yo.get(t);n||Yo.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new Hl),r.map=n,r.key=s),r.track()}}function gs(t,e,s,n,r,o){const i=Yo.get(t);if(!i){jr++;return}const a=c=>{c&&c.trigger()};if(Bl(),e==="clear")i.forEach(a);else{const c=me(t),u=c&&Nl(s);if(c&&s==="length"){const d=Number(n);i.forEach((h,f)=>{(f==="length"||f===Nr||!is(f)&&f>=d)&&a(h)})}else switch((s!==void 0||i.has(void 0))&&a(i.get(s)),u&&a(i.get(Nr)),e){case"add":c?u&&a(i.get("length")):(a(i.get(yn)),Un(t)&&a(i.get(Da)));break;case"delete":c||(a(i.get(yn)),Un(t)&&a(i.get(Da)));break;case"set":Un(t)&&a(i.get(yn));break}}Dl()}function Fg(t,e){const s=Yo.get(t);return s&&s.get(e)}function An(t){const e=Ce(t);return e===t?e:(ut(e,"iterate",Nr),Mt(t)?e:e.map(dt))}function Ci(t){return ut(t=Ce(t),"iterate",Nr),t}const qg={__proto__:null,[Symbol.iterator](){return ra(this,Symbol.iterator,dt)},concat(...t){return An(this).concat(...t.map(e=>me(e)?An(e):e))},entries(){return ra(this,"entries",t=>(t[1]=dt(t[1]),t))},every(t,e){return us(this,"every",t,e,void 0,arguments)},filter(t,e){return us(this,"filter",t,e,s=>s.map(dt),arguments)},find(t,e){return us(this,"find",t,e,dt,arguments)},findIndex(t,e){return us(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return us(this,"findLast",t,e,dt,arguments)},findLastIndex(t,e){return us(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return us(this,"forEach",t,e,void 0,arguments)},includes(...t){return oa(this,"includes",t)},indexOf(...t){return oa(this,"indexOf",t)},join(t){return An(this).join(t)},lastIndexOf(...t){return oa(this,"lastIndexOf",t)},map(t,e){return us(this,"map",t,e,void 0,arguments)},pop(){return fr(this,"pop")},push(...t){return fr(this,"push",t)},reduce(t,...e){return Fc(this,"reduce",t,e)},reduceRight(t,...e){return Fc(this,"reduceRight",t,e)},shift(){return fr(this,"shift")},some(t,e){return us(this,"some",t,e,void 0,arguments)},splice(...t){return fr(this,"splice",t)},toReversed(){return An(this).toReversed()},toSorted(t){return An(this).toSorted(t)},toSpliced(...t){return An(this).toSpliced(...t)},unshift(...t){return fr(this,"unshift",t)},values(){return ra(this,"values",dt)}};function ra(t,e,s){const n=Ci(t),r=n[e]();return n!==t&&!Mt(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=s(o.value)),o}),r}const Vg=Array.prototype;function us(t,e,s,n,r,o){const i=Ci(t),a=i!==t&&!Mt(t),c=i[e];if(c!==Vg[e]){const h=c.apply(t,o);return a?dt(h):h}let u=s;i!==t&&(a?u=function(h,f){return s.call(this,dt(h),f,t)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,t)}));const d=c.call(i,u,n);return a&&r?r(d):d}function Fc(t,e,s,n){const r=Ci(t);let o=s;return r!==t&&(Mt(t)?s.length>3&&(o=function(i,a,c){return s.call(this,i,a,c,t)}):o=function(i,a,c){return s.call(this,i,dt(a),c,t)}),r[e](o,...n)}function oa(t,e,s){const n=Ce(t);ut(n,"iterate",Nr);const r=n[e](...s);return(r===-1||r===!1)&&Vl(s[0])?(s[0]=Ce(s[0]),n[e](...s)):r}function fr(t,e,s=[]){Ys(),Bl();const n=Ce(t)[e].apply(t,s);return Dl(),Xs(),n}const zg=Ol("__proto__,__v_isRef,__isVue"),Rh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(is));function Wg(t){is(t)||(t=String(t));const e=Ce(this);return ut(e,"has",t),e.hasOwnProperty(t)}class Ph{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(r?o?sv:Nh:o?jh:Mh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=me(e);if(!r){let c;if(i&&(c=qg[s]))return c;if(s==="hasOwnProperty")return Wg}const a=Reflect.get(e,s,Ye(e)?e:n);return(is(s)?Rh.has(s):zg(s))||(r||ut(e,"get",s),o)?a:Ye(a)?i&&Nl(s)?a:a.value:Ue(a)?r?Bh(a):yt(a):a}}class Oh extends Ph{constructor(e=!1){super(!1,e)}set(e,s,n,r){let o=e[s];if(!this._isShallow){const c=kn(o);if(!Mt(n)&&!kn(n)&&(o=Ce(o),n=Ce(n)),!me(e)&&Ye(o)&&!Ye(n))return c?!1:(o.value=n,!0)}const i=me(e)&&Nl(s)?Number(s)<e.length:Ne(e,s),a=Reflect.set(e,s,n,Ye(e)?e:r);return e===Ce(r)&&(i?qs(n,o)&&gs(e,"set",s,n):gs(e,"add",s,n)),a}deleteProperty(e,s){const n=Ne(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&gs(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!is(s)||!Rh.has(s))&&ut(e,"has",s),n}ownKeys(e){return ut(e,"iterate",me(e)?"length":yn),Reflect.ownKeys(e)}}class Kg extends Ph{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Gg=new Oh,Jg=new Kg,Yg=new Oh(!0);const Ua=t=>t,po=t=>Reflect.getPrototypeOf(t);function Xg(t,e,s){return function(...n){const r=this.__v_raw,o=Ce(r),i=Un(o),a=t==="entries"||t===Symbol.iterator&&i,c=t==="keys"&&i,u=r[t](...n),d=s?Ua:e?Ha:dt;return!e&&ut(o,"iterate",c?Da:yn),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function go(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qg(t,e){const s={get(r){const o=this.__v_raw,i=Ce(o),a=Ce(r);t||(qs(r,a)&&ut(i,"get",r),ut(i,"get",a));const{has:c}=po(i),u=e?Ua:t?Ha:dt;if(c.call(i,r))return u(o.get(r));if(c.call(i,a))return u(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!t&&ut(Ce(r),"iterate",yn),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=Ce(o),a=Ce(r);return t||(qs(r,a)&&ut(i,"has",r),ut(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,c=Ce(a),u=e?Ua:t?Ha:dt;return!t&&ut(c,"iterate",yn),a.forEach((d,h)=>r.call(o,u(d),u(h),i))}};return st(s,t?{add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear")}:{add(r){!e&&!Mt(r)&&!kn(r)&&(r=Ce(r));const o=Ce(this);return po(o).has.call(o,r)||(o.add(r),gs(o,"add",r,r)),this},set(r,o){!e&&!Mt(o)&&!kn(o)&&(o=Ce(o));const i=Ce(this),{has:a,get:c}=po(i);let u=a.call(i,r);u||(r=Ce(r),u=a.call(i,r));const d=c.call(i,r);return i.set(r,o),u?qs(o,d)&&gs(i,"set",r,o):gs(i,"add",r,o),this},delete(r){const o=Ce(this),{has:i,get:a}=po(o);let c=i.call(o,r);c||(r=Ce(r),c=i.call(o,r)),a&&a.call(o,r);const u=o.delete(r);return c&&gs(o,"delete",r,void 0),u},clear(){const r=Ce(this),o=r.size!==0,i=r.clear();return o&&gs(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Xg(r,t,e)}),s}function Fl(t,e){const s=Qg(t,e);return(n,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(Ne(s,r)&&r in n?s:n,r,o)}const Zg={get:Fl(!1,!1)},ev={get:Fl(!1,!0)},tv={get:Fl(!0,!1)};const Mh=new WeakMap,jh=new WeakMap,Nh=new WeakMap,sv=new WeakMap;function nv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rv(t){return t.__v_skip||!Object.isExtensible(t)?0:nv(Ag(t))}function yt(t){return kn(t)?t:ql(t,!1,Gg,Zg,Mh)}function Lh(t){return ql(t,!1,Yg,ev,jh)}function Bh(t){return ql(t,!0,Jg,tv,Nh)}function ql(t,e,s,n,r){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const i=rv(t);if(i===0)return t;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function Vs(t){return kn(t)?Vs(t.__v_raw):!!(t&&t.__v_isReactive)}function kn(t){return!!(t&&t.__v_isReadonly)}function Mt(t){return!!(t&&t.__v_isShallow)}function Vl(t){return t?!!t.__v_raw:!1}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function zl(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&vh(t,"__v_skip",!0),t}const dt=t=>Ue(t)?yt(t):t,Ha=t=>Ue(t)?Bh(t):t;function Ye(t){return t?t.__v_isRef===!0:!1}function N(t){return Dh(t,!1)}function ov(t){return Dh(t,!0)}function Dh(t,e){return Ye(t)?t:new iv(t,e)}class iv{constructor(e,s){this.dep=new Hl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Ce(e),this._value=s?e:dt(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Mt(e)||kn(e);e=n?e:Ce(e),qs(e,s)&&(this._rawValue=e,this._value=n?e:dt(e),this.dep.trigger())}}function Ge(t){return Ye(t)?t.value:t}const av={get:(t,e,s)=>e==="__v_raw"?t:Ge(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return Ye(r)&&!Ye(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function Uh(t){return Vs(t)?t:new Proxy(t,av)}function lv(t){const e=me(t)?new Array(t.length):{};for(const s in t)e[s]=uv(t,s);return e}class cv{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Fg(Ce(this._object),this._key)}}function uv(t,e,s){const n=t[e];return Ye(n)?n:new cv(t,e,s)}class dv{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Hl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Eh(this,!0),!0}get value(){const e=this.dep.track();return Ah(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hv(t,e,s=!1){let n,r;return Se(t)?n=t:(n=t.get,r=t.set),new dv(n,r,s)}const vo={},Xo=new WeakMap;let ln;function fv(t,e=!1,s=ln){if(s){let n=Xo.get(s);n||Xo.set(s,n=[]),n.push(t)}}function pv(t,e,s=De){const{immediate:n,deep:r,once:o,scheduler:i,augmentJob:a,call:c}=s,u=E=>r?E:Mt(E)||r===!1||r===0?vs(E,1):vs(E);let d,h,f,p,g=!1,b=!1;if(Ye(t)?(h=()=>t.value,g=Mt(t)):Vs(t)?(h=()=>u(t),g=!0):me(t)?(b=!0,g=t.some(E=>Vs(E)||Mt(E)),h=()=>t.map(E=>{if(Ye(E))return E.value;if(Vs(E))return u(E);if(Se(E))return c?c(E,2):E()})):Se(t)?e?h=c?()=>c(t,2):t:h=()=>{if(f){Ys();try{f()}finally{Xs()}}const E=ln;ln=d;try{return c?c(t,3,[p]):t(p)}finally{ln=E}}:h=rs,e&&r){const E=h,R=r===!0?1/0:r;h=()=>vs(E(),R)}const y=xh(),_=()=>{d.stop(),y&&y.active&&jl(y.effects,d)};if(o&&e){const E=e;e=(...R)=>{E(...R),_()}}let C=b?new Array(t.length).fill(vo):vo;const x=E=>{if(!(!(d.flags&1)||!d.dirty&&!E))if(e){const R=d.run();if(r||g||(b?R.some((S,I)=>qs(S,C[I])):qs(R,C))){f&&f();const S=ln;ln=d;try{const I=[R,C===vo?void 0:b&&C[0]===vo?[]:C,p];c?c(e,3,I):e(...I),C=R}finally{ln=S}}}else d.run()};return a&&a(x),d=new kh(h),d.scheduler=i?()=>i(x,!1):x,p=E=>fv(E,!1,d),f=d.onStop=()=>{const E=Xo.get(d);if(E){if(c)c(E,4);else for(const R of E)R();Xo.delete(d)}},e?n?x(!0):C=d.run():i?i(x.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function vs(t,e=1/0,s){if(e<=0||!Ue(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Ye(t))vs(t.value,e,s);else if(me(t))for(let n=0;n<t.length;n++)vs(t[n],e,s);else if(or(t)||Un(t))t.forEach(n=>{vs(n,e,s)});else if(gh(t)){for(const n in t)vs(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&vs(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qr(t,e,s,n){try{return n?t(...n):t()}catch(r){Ei(r,e,s)}}function Gt(t,e,s,n){if(Se(t)){const r=Qr(t,e,s,n);return r&&fh(r)&&r.catch(o=>{Ei(o,e,s)}),r}if(me(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Gt(t[o],e,s,n));return r}}function Ei(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||De;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,c,u)===!1)return}a=a.parent}if(o){Ys(),Qr(o,null,10,[t,c,u]),Xs();return}}gv(t,s,r,n,i)}function gv(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const vt=[];let ts=-1;const Hn=[];let js=null,jn=0;const Hh=Promise.resolve();let Qo=null;function Tn(t){const e=Qo||Hh;return t?e.then(this?t.bind(this):t):e}function vv(t){let e=ts+1,s=vt.length;for(;e<s;){const n=e+s>>>1,r=vt[n],o=Lr(r);o<t||o===t&&r.flags&2?e=n+1:s=n}return e}function Wl(t){if(!(t.flags&1)){const e=Lr(t),s=vt[vt.length-1];!s||!(t.flags&2)&&e>=Lr(s)?vt.push(t):vt.splice(vv(e),0,t),t.flags|=1,Fh()}}function Fh(){Qo||(Qo=Hh.then(Vh))}function mv(t){me(t)?Hn.push(...t):js&&t.id===-1?js.splice(jn+1,0,t):t.flags&1||(Hn.push(t),t.flags|=1),Fh()}function qc(t,e,s=ts+1){for(;s<vt.length;s++){const n=vt[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;vt.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function qh(t){if(Hn.length){const e=[...new Set(Hn)].sort((s,n)=>Lr(s)-Lr(n));if(Hn.length=0,js){js.push(...e);return}for(js=e,jn=0;jn<js.length;jn++){const s=js[jn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}js=null,jn=0}}const Lr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Vh(t){try{for(ts=0;ts<vt.length;ts++){const e=vt[ts];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Qr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ts<vt.length;ts++){const e=vt[ts];e&&(e.flags&=-2)}ts=-1,vt.length=0,qh(),Qo=null,(vt.length||Hn.length)&&Vh()}}let mt=null,zh=null;function Zo(t){const e=mt;return mt=t,zh=t&&t.type.__scopeId||null,e}function Oe(t,e=mt,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&nu(-1);const o=Zo(e);let i;try{i=t(...r)}finally{Zo(o),n._d&&nu(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function Ze(t,e){if(mt===null)return t;const s=$i(mt),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,i,a,c=De]=e[r];o&&(Se(o)&&(o={mounted:o,updated:o}),o.deep&&vs(i),n.push({dir:o,instance:s,value:i,oldValue:void 0,arg:a,modifiers:c}))}return t}function sn(t,e,s,n){const r=t.dirs,o=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let c=a.dir[n];c&&(Ys(),Gt(c,s,8,[t.el,a,t,e]),Xs())}}const Wh=Symbol("_vte"),Kh=t=>t.__isTeleport,xr=t=>t&&(t.disabled||t.disabled===""),Vc=t=>t&&(t.defer||t.defer===""),zc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Wc=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Fa=(t,e)=>{const s=t&&t.to;return We(s)?e?e(s):null:s},Gh={name:"Teleport",__isTeleport:!0,process(t,e,s,n,r,o,i,a,c,u){const{mc:d,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:b,createComment:y}}=u,_=xr(e.props);let{shapeFlag:C,children:x,dynamicChildren:E}=e;if(t==null){const R=e.el=b(""),S=e.anchor=b("");p(R,s,n),p(S,s,n);const I=(w,O)=>{C&16&&(r&&r.isCE&&(r.ce._teleportTarget=w),d(x,w,O,r,o,i,a,c))},A=()=>{const w=e.target=Fa(e.props,g),O=Jh(w,e,b,p);w&&(i!=="svg"&&zc(w)?i="svg":i!=="mathml"&&Wc(w)&&(i="mathml"),_||(I(w,O),Ro(e,!1)))};_&&(I(s,S),Ro(e,!0)),Vc(e.props)?pt(()=>{A(),e.el.__isMounted=!0},o):A()}else{if(Vc(e.props)&&!t.el.__isMounted){pt(()=>{Gh.process(t,e,s,n,r,o,i,a,c,u),delete t.el.__isMounted},o);return}e.el=t.el,e.targetStart=t.targetStart;const R=e.anchor=t.anchor,S=e.target=t.target,I=e.targetAnchor=t.targetAnchor,A=xr(t.props),w=A?s:S,O=A?R:I;if(i==="svg"||zc(S)?i="svg":(i==="mathml"||Wc(S))&&(i="mathml"),E?(f(t.dynamicChildren,E,w,r,o,i,a),Xl(t,e,!0)):c||h(t,e,w,O,r,o,i,a,!1),_)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):mo(e,s,R,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=Fa(e.props,g);q&&mo(e,q,null,u,0)}else A&&mo(e,S,I,u,1);Ro(e,_)}},remove(t,e,s,{um:n,o:{remove:r}},o){const{shapeFlag:i,children:a,anchor:c,targetStart:u,targetAnchor:d,target:h,props:f}=t;if(h&&(r(u),r(d)),o&&r(c),i&16){const p=o||!xr(f);for(let g=0;g<a.length;g++){const b=a[g];n(b,e,s,p,!!b.dynamicChildren)}}},move:mo,hydrate:yv};function mo(t,e,s,{o:{insert:n},m:r},o=2){o===0&&n(t.targetAnchor,e,s);const{el:i,anchor:a,shapeFlag:c,children:u,props:d}=t,h=o===2;if(h&&n(i,e,s),(!h||xr(d))&&c&16)for(let f=0;f<u.length;f++)r(u[f],e,s,2);h&&n(a,e,s)}function yv(t,e,s,n,r,o,{o:{nextSibling:i,parentNode:a,querySelector:c,insert:u,createText:d}},h){const f=e.target=Fa(e.props,c);if(f){const p=xr(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(i(t),e,a(t),s,n,r,o),e.targetStart=g,e.targetAnchor=g&&i(g);else{e.anchor=i(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&i(e.targetAnchor);break}}b=i(b)}e.targetAnchor||Jh(f,e,d,u),h(g&&i(g),e,f,s,n,r,o)}Ro(e,p)}return e.anchor&&i(e.anchor)}const Kl=Gh;function Ro(t,e){const s=t.ctx;if(s&&s.ut){let n,r;for(e?(n=t.el,r=t.anchor):(n=t.targetStart,r=t.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function Jh(t,e,s,n){const r=e.targetStart=s(""),o=e.targetAnchor=s("");return r[Wh]=o,t&&(n(r,t),n(o,t)),o}const Ns=Symbol("_leaveCb"),yo=Symbol("_enterCb");function Yh(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return et(()=>{t.isMounted=!0}),Jl(()=>{t.isUnmounting=!0}),t}const Pt=[Function,Array],Xh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pt,onEnter:Pt,onAfterEnter:Pt,onEnterCancelled:Pt,onBeforeLeave:Pt,onLeave:Pt,onAfterLeave:Pt,onLeaveCancelled:Pt,onBeforeAppear:Pt,onAppear:Pt,onAfterAppear:Pt,onAppearCancelled:Pt},Qh=t=>{const e=t.subTree;return e.component?Qh(e.component):e},bv={name:"BaseTransition",props:Xh,setup(t,{slots:e}){const s=Tf(),n=Yh();return()=>{const r=e.default&&Gl(e.default(),!0);if(!r||!r.length)return;const o=Zh(r),i=Ce(t),{mode:a}=i;if(n.isLeaving)return ia(o);const c=Kc(o);if(!c)return ia(o);let u=Br(c,i,n,s,h=>u=h);c.type!==_t&&Cn(c,u);let d=s.subTree&&Kc(s.subTree);if(d&&d.type!==_t&&!dn(c,d)&&Qh(s).type!==_t){let h=Br(d,i,n,s);if(Cn(d,h),a==="out-in"&&c.type!==_t)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,d=void 0},ia(o);a==="in-out"&&c.type!==_t?h.delayLeave=(f,p,g)=>{const b=ef(n,d);b[String(d.key)]=d,f[Ns]=()=>{p(),f[Ns]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function Zh(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==_t){e=s;break}}return e}const wv=bv;function ef(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function Br(t,e,s,n,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:y,onAppear:_,onAfterAppear:C,onAppearCancelled:x}=e,E=String(t.key),R=ef(s,t),S=(w,O)=>{w&&Gt(w,n,9,O)},I=(w,O)=>{const q=O[1];S(w,O),me(w)?w.every(L=>L.length<=1)&&q():w.length<=1&&q()},A={mode:i,persisted:a,beforeEnter(w){let O=c;if(!s.isMounted)if(o)O=y||c;else return;w[Ns]&&w[Ns](!0);const q=R[E];q&&dn(t,q)&&q.el[Ns]&&q.el[Ns](),S(O,[w])},enter(w){let O=u,q=d,L=h;if(!s.isMounted)if(o)O=_||u,q=C||d,L=x||h;else return;let U=!1;const k=w[yo]=D=>{U||(U=!0,D?S(L,[w]):S(q,[w]),A.delayedLeave&&A.delayedLeave(),w[yo]=void 0)};O?I(O,[w,k]):k()},leave(w,O){const q=String(t.key);if(w[yo]&&w[yo](!0),s.isUnmounting)return O();S(f,[w]);let L=!1;const U=w[Ns]=k=>{L||(L=!0,O(),k?S(b,[w]):S(g,[w]),w[Ns]=void 0,R[q]===t&&delete R[q])};R[q]=t,p?I(p,[w,U]):U()},clone(w){const O=Br(w,e,s,n,r);return r&&r(O),O}};return A}function ia(t){if(Si(t))return t=xs(t),t.children=null,t}function Kc(t){if(!Si(t))return Kh(t.type)&&t.children?Zh(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&Se(s.default))return s.default()}}function Cn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Cn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Gl(t,e=!1,s){let n=[],r=0;for(let o=0;o<t.length;o++){let i=t[o];const a=s==null?i.key:String(s)+String(i.key!=null?i.key:o);i.type===ne?(i.patchFlag&128&&r++,n=n.concat(Gl(i.children,e,a))):(e||i.type!==_t)&&n.push(a!=null?xs(i,{key:a}):i)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ir(t,e){return Se(t)?st({name:t.name},e,{setup:t}):t}function tf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ei(t,e,s,n,r=!1){if(me(t)){t.forEach((g,b)=>ei(g,e&&(me(e)?e[b]:e),s,n,r));return}if(kr(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ei(t,e,s,n.component.subTree);return}const o=n.shapeFlag&4?$i(n.component):n.el,i=r?null:o,{i:a,r:c}=t,u=e&&e.r,d=a.refs===De?a.refs={}:a.refs,h=a.setupState,f=Ce(h),p=h===De?()=>!1:g=>Ne(f,g);if(u!=null&&u!==c&&(We(u)?(d[u]=null,p(u)&&(h[u]=null)):Ye(u)&&(u.value=null)),Se(c))Qr(c,a,12,[i,d]);else{const g=We(c),b=Ye(c);if(g||b){const y=()=>{if(t.f){const _=g?p(c)?h[c]:d[c]:c.value;r?me(_)&&jl(_,o):me(_)?_.includes(o)||_.push(o):g?(d[c]=[o],p(c)&&(h[c]=d[c])):(c.value=[o],t.k&&(d[t.k]=c.value))}else g?(d[c]=i,p(c)&&(h[c]=i)):b&&(c.value=i,t.k&&(d[t.k]=i))};i?(y.id=-1,pt(y,s)):y()}}}ki().requestIdleCallback;ki().cancelIdleCallback;const kr=t=>!!t.type.__asyncLoader,Si=t=>t.type.__isKeepAlive;function _v(t,e){sf(t,"a",e)}function xv(t,e){sf(t,"da",e)}function sf(t,e,s=nt){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ti(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Si(r.parent.vnode)&&kv(n,e,s,r),r=r.parent}}function kv(t,e,s,n){const r=Ti(e,t,n,!0);Dt(()=>{jl(n[e],r)},s)}function Ti(t,e,s=nt,n=!1){if(s){const r=s[t]||(s[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Ys();const a=Zr(s),c=Gt(e,s,t,i);return a(),Xs(),c});return n?r.unshift(o):r.push(o),o}}const Es=t=>(e,s=nt)=>{(!Ur||t==="sp")&&Ti(t,(...n)=>e(...n),s)},Cv=Es("bm"),et=Es("m"),Ev=Es("bu"),nf=Es("u"),Jl=Es("bum"),Dt=Es("um"),Sv=Es("sp"),Tv=Es("rtg"),Av=Es("rtc");function Iv(t,e=nt){Ti("ec",t,e)}const rf="components";function cs(t,e){return lf(rf,t,!0,e)||t}const of=Symbol.for("v-ndc");function af(t){return We(t)?lf(rf,t,!1)||t:t||of}function lf(t,e,s=!0,n=!1){const r=mt||nt;if(r){const o=r.type;{const a=gm(o,!1);if(a&&(a===e||a===Bt(e)||a===xi(Bt(e))))return o}const i=Gc(r[t]||o[t],e)||Gc(r.appContext[t],e);return!i&&n?o:i}}function Gc(t,e){return t&&(t[e]||t[Bt(e)]||t[xi(Bt(e))])}function pe(t,e,s,n){let r;const o=s,i=me(t);if(i||We(t)){const a=i&&Vs(t);let c=!1;a&&(c=!Mt(t),t=Ci(t)),r=new Array(t.length);for(let u=0,d=t.length;u<d;u++)r[u]=e(c?dt(t[u]):t[u],u,void 0,o)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o)}else if(Ue(t))if(t[Symbol.iterator])r=Array.from(t,(a,c)=>e(a,c,void 0,o));else{const a=Object.keys(t);r=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const d=a[c];r[c]=e(t[d],d,c,o)}}else r=[];return r}const qa=t=>t?Af(t)?$i(t):qa(t.parent):null,Cr=st(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qa(t.parent),$root:t=>qa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>uf(t),$forceUpdate:t=>t.f||(t.f=()=>{Wl(t.update)}),$nextTick:t=>t.n||(t.n=Tn.bind(t.proxy)),$watch:t=>Xv.bind(t)}),aa=(t,e)=>t!==De&&!t.__isScriptSetup&&Ne(t,e),$v={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:o,accessCache:i,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return o[e]}else{if(aa(n,e))return i[e]=1,n[e];if(r!==De&&Ne(r,e))return i[e]=2,r[e];if((u=t.propsOptions[0])&&Ne(u,e))return i[e]=3,o[e];if(s!==De&&Ne(s,e))return i[e]=4,s[e];Va&&(i[e]=0)}}const d=Cr[e];let h,f;if(d)return e==="$attrs"&&ut(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==De&&Ne(s,e))return i[e]=4,s[e];if(f=c.config.globalProperties,Ne(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:o}=t;return aa(r,e)?(r[e]=s,!0):n!==De&&Ne(n,e)?(n[e]=s,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:o}},i){let a;return!!s[i]||t!==De&&Ne(t,i)||aa(e,i)||(a=o[0])&&Ne(a,i)||Ne(n,i)||Ne(Cr,i)||Ne(r.config.globalProperties,i)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Ne(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Jc(t){return me(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Va=!0;function Rv(t){const e=uf(t),s=t.proxy,n=t.ctx;Va=!1,e.beforeCreate&&Yc(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:i,watch:a,provide:c,inject:u,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:b,deactivated:y,beforeDestroy:_,beforeUnmount:C,destroyed:x,unmounted:E,render:R,renderTracked:S,renderTriggered:I,errorCaptured:A,serverPrefetch:w,expose:O,inheritAttrs:q,components:L,directives:U,filters:k}=e;if(u&&Pv(u,n,null),i)for(const B in i){const H=i[B];Se(H)&&(n[B]=H.bind(s))}if(r){const B=r.call(s,s);Ue(B)&&(t.data=yt(B))}if(Va=!0,o)for(const B in o){const H=o[B],Y=Se(H)?H.bind(s,s):Se(H.get)?H.get.bind(s,s):rs,Ee=!Se(H)&&Se(H.set)?H.set.bind(s):rs,ue=we({get:Y,set:Ee});Object.defineProperty(n,B,{enumerable:!0,configurable:!0,get:()=>ue.value,set:le=>ue.value=le})}if(a)for(const B in a)cf(a[B],n,s,B);if(c){const B=Se(c)?c.call(s):c;Reflect.ownKeys(B).forEach(H=>{Po(H,B[H])})}d&&Yc(d,t,"c");function M(B,H){me(H)?H.forEach(Y=>B(Y.bind(s))):H&&B(H.bind(s))}if(M(Cv,h),M(et,f),M(Ev,p),M(nf,g),M(_v,b),M(xv,y),M(Iv,A),M(Av,S),M(Tv,I),M(Jl,C),M(Dt,E),M(Sv,w),me(O))if(O.length){const B=t.exposed||(t.exposed={});O.forEach(H=>{Object.defineProperty(B,H,{get:()=>s[H],set:Y=>s[H]=Y})})}else t.exposed||(t.exposed={});R&&t.render===rs&&(t.render=R),q!=null&&(t.inheritAttrs=q),L&&(t.components=L),U&&(t.directives=U),w&&tf(t)}function Pv(t,e,s=rs){me(t)&&(t=za(t));for(const n in t){const r=t[n];let o;Ue(r)?"default"in r?o=jt(r.from||n,r.default,!0):o=jt(r.from||n):o=jt(r),Ye(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[n]=o}}function Yc(t,e,s){Gt(me(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function cf(t,e,s,n){let r=n.includes(".")?xf(s,n):()=>s[n];if(We(t)){const o=e[t];Se(o)&&Je(r,o)}else if(Se(t))Je(r,t.bind(s));else if(Ue(t))if(me(t))t.forEach(o=>cf(o,e,s,n));else{const o=Se(t.handler)?t.handler.bind(s):e[t.handler];Se(o)&&Je(r,o,t)}}function uf(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let c;return a?c=a:!r.length&&!s&&!n?c=e:(c={},r.length&&r.forEach(u=>ti(c,u,i,!0)),ti(c,e,i)),Ue(e)&&o.set(e,c),c}function ti(t,e,s,n=!1){const{mixins:r,extends:o}=e;o&&ti(t,o,s,!0),r&&r.forEach(i=>ti(t,i,s,!0));for(const i in e)if(!(n&&i==="expose")){const a=Ov[i]||s&&s[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Ov={data:Xc,props:Qc,emits:Qc,methods:mr,computed:mr,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:mr,directives:mr,watch:jv,provide:Xc,inject:Mv};function Xc(t,e){return e?t?function(){return st(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function Mv(t,e){return mr(za(t),za(e))}function za(t){if(me(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ft(t,e){return t?[...new Set([].concat(t,e))]:e}function mr(t,e){return t?st(Object.create(null),t,e):e}function Qc(t,e){return t?me(t)&&me(e)?[...new Set([...t,...e])]:st(Object.create(null),Jc(t),Jc(e??{})):e}function jv(t,e){if(!t)return e;if(!e)return t;const s=st(Object.create(null),t);for(const n in e)s[n]=ft(t[n],e[n]);return s}function df(){return{app:null,config:{isNativeTag:Sg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nv=0;function Lv(t,e){return function(n,r=null){Se(n)||(n=st({},n)),r!=null&&!Ue(r)&&(r=null);const o=df(),i=new WeakSet,a=[];let c=!1;const u=o.app={_uid:Nv++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:mm,get config(){return o.config},set config(d){},use(d,...h){return i.has(d)||(d&&Se(d.install)?(i.add(d),d.install(u,...h)):Se(d)&&(i.add(d),d(u,...h))),u},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),u},component(d,h){return h?(o.components[d]=h,u):o.components[d]},directive(d,h){return h?(o.directives[d]=h,u):o.directives[d]},mount(d,h,f){if(!c){const p=u._ceVNode||re(n,r);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),t(p,d,f),c=!0,u._container=d,d.__vue_app__=u,$i(p.component)}},onUnmount(d){a.push(d)},unmount(){c&&(Gt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,h){return o.provides[d]=h,u},runWithContext(d){const h=bn;bn=u;try{return d()}finally{bn=h}}};return u}}let bn=null;function Po(t,e){if(nt){let s=nt.provides;const n=nt.parent&&nt.parent.provides;n===s&&(s=nt.provides=Object.create(n)),s[t]=e}}function jt(t,e,s=!1){const n=nt||mt;if(n||bn){const r=bn?bn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&Se(e)?e.call(n&&n.proxy):e}}function Bv(){return!!(nt||mt||bn)}const hf={},ff=()=>Object.create(hf),pf=t=>Object.getPrototypeOf(t)===hf;function Dv(t,e,s,n=!1){const r={},o=ff();t.propsDefaults=Object.create(null),gf(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);s?t.props=n?r:Lh(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function Uv(t,e,s,n){const{props:r,attrs:o,vnode:{patchFlag:i}}=t,a=Ce(r),[c]=t.propsOptions;let u=!1;if((n||i>0)&&!(i&16)){if(i&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(Ai(t.emitsOptions,f))continue;const p=e[f];if(c)if(Ne(o,f))p!==o[f]&&(o[f]=p,u=!0);else{const g=Bt(f);r[g]=Wa(c,a,g,p,t,!1)}else p!==o[f]&&(o[f]=p,u=!0)}}}else{gf(t,e,r,o)&&(u=!0);let d;for(const h in a)(!e||!Ne(e,h)&&((d=Js(h))===h||!Ne(e,d)))&&(c?s&&(s[h]!==void 0||s[d]!==void 0)&&(r[h]=Wa(c,a,h,void 0,t,!0)):delete r[h]);if(o!==a)for(const h in o)(!e||!Ne(e,h))&&(delete o[h],u=!0)}u&&gs(t.attrs,"set","")}function gf(t,e,s,n){const[r,o]=t.propsOptions;let i=!1,a;if(e)for(let c in e){if(br(c))continue;const u=e[c];let d;r&&Ne(r,d=Bt(c))?!o||!o.includes(d)?s[d]=u:(a||(a={}))[d]=u:Ai(t.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,i=!0)}if(o){const c=Ce(s),u=a||De;for(let d=0;d<o.length;d++){const h=o[d];s[h]=Wa(r,c,h,u[h],t,!Ne(u,h))}}return i}function Wa(t,e,s,n,r,o){const i=t[s];if(i!=null){const a=Ne(i,"default");if(a&&n===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&Se(c)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const d=Zr(r);n=u[s]=c.call(null,e),d()}}else n=c;r.ce&&r.ce._setProp(s,n)}i[0]&&(o&&!a?n=!1:i[1]&&(n===""||n===Js(s))&&(n=!0))}return n}const Hv=new WeakMap;function vf(t,e,s=!1){const n=s?Hv:e.propsCache,r=n.get(t);if(r)return r;const o=t.props,i={},a=[];let c=!1;if(!Se(t)){const d=h=>{c=!0;const[f,p]=vf(h,e,!0);st(i,f),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!c)return Ue(t)&&n.set(t,Dn),Dn;if(me(o))for(let d=0;d<o.length;d++){const h=Bt(o[d]);Zc(h)&&(i[h]=De)}else if(o)for(const d in o){const h=Bt(d);if(Zc(h)){const f=o[d],p=i[h]=me(f)||Se(f)?{type:f}:st({},f),g=p.type;let b=!1,y=!0;if(me(g))for(let _=0;_<g.length;++_){const C=g[_],x=Se(C)&&C.name;if(x==="Boolean"){b=!0;break}else x==="String"&&(y=!1)}else b=Se(g)&&g.name==="Boolean";p[0]=b,p[1]=y,(b||Ne(p,"default"))&&a.push(h)}}const u=[i,a];return Ue(t)&&n.set(t,u),u}function Zc(t){return t[0]!=="$"&&!br(t)}const mf=t=>t[0]==="_"||t==="$stable",Yl=t=>me(t)?t.map(ss):[ss(t)],Fv=(t,e,s)=>{if(e._n)return e;const n=Oe((...r)=>Yl(e(...r)),s);return n._c=!1,n},yf=(t,e,s)=>{const n=t._ctx;for(const r in t){if(mf(r))continue;const o=t[r];if(Se(o))e[r]=Fv(r,o,n);else if(o!=null){const i=Yl(o);e[r]=()=>i}}},bf=(t,e)=>{const s=Yl(e);t.slots.default=()=>s},wf=(t,e,s)=>{for(const n in e)(s||n!=="_")&&(t[n]=e[n])},qv=(t,e,s)=>{const n=t.slots=ff();if(t.vnode.shapeFlag&32){const r=e._;r?(wf(n,e,s),s&&vh(n,"_",r,!0)):yf(e,n)}else e&&bf(t,e)},Vv=(t,e,s)=>{const{vnode:n,slots:r}=t;let o=!0,i=De;if(n.shapeFlag&32){const a=e._;a?s&&a===1?o=!1:wf(r,e,s):(o=!e.$stable,yf(e,r)),i=e}else e&&(bf(t,e),i={default:1});if(o)for(const a in r)!mf(a)&&i[a]==null&&delete r[a]},pt=rm;function zv(t){return Wv(t)}function Wv(t,e){const s=ki();s.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:i,createText:a,createComment:c,setText:u,setElementText:d,parentNode:h,nextSibling:f,setScopeId:p=rs,insertStaticContent:g}=t,b=(T,$,j,W=null,G=null,K=null,J=void 0,ee=null,te=!!$.dynamicChildren)=>{if(T===$)return;T&&!dn(T,$)&&(W=z(T),le(T,G,K,!0),T=null),$.patchFlag===-2&&(te=!1,$.dynamicChildren=null);const{type:Q,ref:ge,shapeFlag:X}=$;switch(Q){case Ii:y(T,$,j,W);break;case _t:_(T,$,j,W);break;case Mo:T==null&&C($,j,W,J);break;case ne:L(T,$,j,W,G,K,J,ee,te);break;default:X&1?R(T,$,j,W,G,K,J,ee,te):X&6?U(T,$,j,W,G,K,J,ee,te):(X&64||X&128)&&Q.process(T,$,j,W,G,K,J,ee,te,oe)}ge!=null&&G&&ei(ge,T&&T.ref,K,$||T,!$)},y=(T,$,j,W)=>{if(T==null)n($.el=a($.children),j,W);else{const G=$.el=T.el;$.children!==T.children&&u(G,$.children)}},_=(T,$,j,W)=>{T==null?n($.el=c($.children||""),j,W):$.el=T.el},C=(T,$,j,W)=>{[T.el,T.anchor]=g(T.children,$,j,W,T.el,T.anchor)},x=({el:T,anchor:$},j,W)=>{let G;for(;T&&T!==$;)G=f(T),n(T,j,W),T=G;n($,j,W)},E=({el:T,anchor:$})=>{let j;for(;T&&T!==$;)j=f(T),r(T),T=j;r($)},R=(T,$,j,W,G,K,J,ee,te)=>{$.type==="svg"?J="svg":$.type==="math"&&(J="mathml"),T==null?S($,j,W,G,K,J,ee,te):w(T,$,G,K,J,ee,te)},S=(T,$,j,W,G,K,J,ee)=>{let te,Q;const{props:ge,shapeFlag:X,transition:he,dirs:xe}=T;if(te=T.el=i(T.type,K,ge&&ge.is,ge),X&8?d(te,T.children):X&16&&A(T.children,te,null,W,G,la(T,K),J,ee),xe&&sn(T,null,W,"created"),I(te,T,T.scopeId,J,W),ge){for(const Ie in ge)Ie!=="value"&&!br(Ie)&&o(te,Ie,null,ge[Ie],K,W);"value"in ge&&o(te,"value",null,ge.value,K),(Q=ge.onVnodeBeforeMount)&&Qt(Q,W,T)}xe&&sn(T,null,W,"beforeMount");const ye=Kv(G,he);ye&&he.beforeEnter(te),n(te,$,j),((Q=ge&&ge.onVnodeMounted)||ye||xe)&&pt(()=>{Q&&Qt(Q,W,T),ye&&he.enter(te),xe&&sn(T,null,W,"mounted")},G)},I=(T,$,j,W,G)=>{if(j&&p(T,j),W)for(let K=0;K<W.length;K++)p(T,W[K]);if(G){let K=G.subTree;if($===K||Cf(K.type)&&(K.ssContent===$||K.ssFallback===$)){const J=G.vnode;I(T,J,J.scopeId,J.slotScopeIds,G.parent)}}},A=(T,$,j,W,G,K,J,ee,te=0)=>{for(let Q=te;Q<T.length;Q++){const ge=T[Q]=ee?Ls(T[Q]):ss(T[Q]);b(null,ge,$,j,W,G,K,J,ee)}},w=(T,$,j,W,G,K,J)=>{const ee=$.el=T.el;let{patchFlag:te,dynamicChildren:Q,dirs:ge}=$;te|=T.patchFlag&16;const X=T.props||De,he=$.props||De;let xe;if(j&&nn(j,!1),(xe=he.onVnodeBeforeUpdate)&&Qt(xe,j,$,T),ge&&sn($,T,j,"beforeUpdate"),j&&nn(j,!0),(X.innerHTML&&he.innerHTML==null||X.textContent&&he.textContent==null)&&d(ee,""),Q?O(T.dynamicChildren,Q,ee,j,W,la($,G),K):J||H(T,$,ee,null,j,W,la($,G),K,!1),te>0){if(te&16)q(ee,X,he,j,G);else if(te&2&&X.class!==he.class&&o(ee,"class",null,he.class,G),te&4&&o(ee,"style",X.style,he.style,G),te&8){const ye=$.dynamicProps;for(let Ie=0;Ie<ye.length;Ie++){const Pe=ye[Ie],lt=X[Pe],rt=he[Pe];(rt!==lt||Pe==="value")&&o(ee,Pe,lt,rt,G,j)}}te&1&&T.children!==$.children&&d(ee,$.children)}else!J&&Q==null&&q(ee,X,he,j,G);((xe=he.onVnodeUpdated)||ge)&&pt(()=>{xe&&Qt(xe,j,$,T),ge&&sn($,T,j,"updated")},W)},O=(T,$,j,W,G,K,J)=>{for(let ee=0;ee<$.length;ee++){const te=T[ee],Q=$[ee],ge=te.el&&(te.type===ne||!dn(te,Q)||te.shapeFlag&70)?h(te.el):j;b(te,Q,ge,null,W,G,K,J,!0)}},q=(T,$,j,W,G)=>{if($!==j){if($!==De)for(const K in $)!br(K)&&!(K in j)&&o(T,K,$[K],null,G,W);for(const K in j){if(br(K))continue;const J=j[K],ee=$[K];J!==ee&&K!=="value"&&o(T,K,ee,J,G,W)}"value"in j&&o(T,"value",$.value,j.value,G)}},L=(T,$,j,W,G,K,J,ee,te)=>{const Q=$.el=T?T.el:a(""),ge=$.anchor=T?T.anchor:a("");let{patchFlag:X,dynamicChildren:he,slotScopeIds:xe}=$;xe&&(ee=ee?ee.concat(xe):xe),T==null?(n(Q,j,W),n(ge,j,W),A($.children||[],j,ge,G,K,J,ee,te)):X>0&&X&64&&he&&T.dynamicChildren?(O(T.dynamicChildren,he,j,G,K,J,ee),($.key!=null||G&&$===G.subTree)&&Xl(T,$,!0)):H(T,$,j,ge,G,K,J,ee,te)},U=(T,$,j,W,G,K,J,ee,te)=>{$.slotScopeIds=ee,T==null?$.shapeFlag&512?G.ctx.activate($,j,W,J,te):k($,j,W,G,K,J,te):D(T,$,te)},k=(T,$,j,W,G,K,J)=>{const ee=T.component=um(T,W,G);if(Si(T)&&(ee.ctx.renderer=oe),dm(ee,!1,J),ee.asyncDep){if(G&&G.registerDep(ee,M,J),!T.el){const te=ee.subTree=re(_t);_(null,te,$,j)}}else M(ee,T,$,j,G,K,J)},D=(T,$,j)=>{const W=$.component=T.component;if(sm(T,$,j))if(W.asyncDep&&!W.asyncResolved){B(W,$,j);return}else W.next=$,W.update();else $.el=T.el,W.vnode=$},M=(T,$,j,W,G,K,J)=>{const ee=()=>{if(T.isMounted){let{next:X,bu:he,u:xe,parent:ye,vnode:Ie}=T;{const Ut=_f(T);if(Ut){X&&(X.el=Ie.el,B(T,X,J)),Ut.asyncDep.then(()=>{T.isUnmounted||ee()});return}}let Pe=X,lt;nn(T,!1),X?(X.el=Ie.el,B(T,X,J)):X=Ie,he&&$o(he),(lt=X.props&&X.props.onVnodeBeforeUpdate)&&Qt(lt,ye,X,Ie),nn(T,!0);const rt=tu(T),Rt=T.subTree;T.subTree=rt,b(Rt,rt,h(Rt.el),z(Rt),T,G,K),X.el=rt.el,Pe===null&&nm(T,rt.el),xe&&pt(xe,G),(lt=X.props&&X.props.onVnodeUpdated)&&pt(()=>Qt(lt,ye,X,Ie),G)}else{let X;const{el:he,props:xe}=$,{bm:ye,m:Ie,parent:Pe,root:lt,type:rt}=T,Rt=kr($);nn(T,!1),ye&&$o(ye),!Rt&&(X=xe&&xe.onVnodeBeforeMount)&&Qt(X,Pe,$),nn(T,!0);{lt.ce&&lt.ce._injectChildStyle(rt);const Ut=T.subTree=tu(T);b(null,Ut,j,W,T,G,K),$.el=Ut.el}if(Ie&&pt(Ie,G),!Rt&&(X=xe&&xe.onVnodeMounted)){const Ut=$;pt(()=>Qt(X,Pe,Ut),G)}($.shapeFlag&256||Pe&&kr(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&T.a&&pt(T.a,G),T.isMounted=!0,$=j=W=null}};T.scope.on();const te=T.effect=new kh(ee);T.scope.off();const Q=T.update=te.run.bind(te),ge=T.job=te.runIfDirty.bind(te);ge.i=T,ge.id=T.uid,te.scheduler=()=>Wl(ge),nn(T,!0),Q()},B=(T,$,j)=>{$.component=T;const W=T.vnode.props;T.vnode=$,T.next=null,Uv(T,$.props,W,j),Vv(T,$.children,j),Ys(),qc(T),Xs()},H=(T,$,j,W,G,K,J,ee,te=!1)=>{const Q=T&&T.children,ge=T?T.shapeFlag:0,X=$.children,{patchFlag:he,shapeFlag:xe}=$;if(he>0){if(he&128){Ee(Q,X,j,W,G,K,J,ee,te);return}else if(he&256){Y(Q,X,j,W,G,K,J,ee,te);return}}xe&8?(ge&16&&ie(Q,G,K),X!==Q&&d(j,X)):ge&16?xe&16?Ee(Q,X,j,W,G,K,J,ee,te):ie(Q,G,K,!0):(ge&8&&d(j,""),xe&16&&A(X,j,W,G,K,J,ee,te))},Y=(T,$,j,W,G,K,J,ee,te)=>{T=T||Dn,$=$||Dn;const Q=T.length,ge=$.length,X=Math.min(Q,ge);let he;for(he=0;he<X;he++){const xe=$[he]=te?Ls($[he]):ss($[he]);b(T[he],xe,j,null,G,K,J,ee,te)}Q>ge?ie(T,G,K,!0,!1,X):A($,j,W,G,K,J,ee,te,X)},Ee=(T,$,j,W,G,K,J,ee,te)=>{let Q=0;const ge=$.length;let X=T.length-1,he=ge-1;for(;Q<=X&&Q<=he;){const xe=T[Q],ye=$[Q]=te?Ls($[Q]):ss($[Q]);if(dn(xe,ye))b(xe,ye,j,null,G,K,J,ee,te);else break;Q++}for(;Q<=X&&Q<=he;){const xe=T[X],ye=$[he]=te?Ls($[he]):ss($[he]);if(dn(xe,ye))b(xe,ye,j,null,G,K,J,ee,te);else break;X--,he--}if(Q>X){if(Q<=he){const xe=he+1,ye=xe<ge?$[xe].el:W;for(;Q<=he;)b(null,$[Q]=te?Ls($[Q]):ss($[Q]),j,ye,G,K,J,ee,te),Q++}}else if(Q>he)for(;Q<=X;)le(T[Q],G,K,!0),Q++;else{const xe=Q,ye=Q,Ie=new Map;for(Q=ye;Q<=he;Q++){const Et=$[Q]=te?Ls($[Q]):ss($[Q]);Et.key!=null&&Ie.set(Et.key,Q)}let Pe,lt=0;const rt=he-ye+1;let Rt=!1,Ut=0;const hr=new Array(rt);for(Q=0;Q<rt;Q++)hr[Q]=0;for(Q=xe;Q<=X;Q++){const Et=T[Q];if(lt>=rt){le(Et,G,K,!0);continue}let Xt;if(Et.key!=null)Xt=Ie.get(Et.key);else for(Pe=ye;Pe<=he;Pe++)if(hr[Pe-ye]===0&&dn(Et,$[Pe])){Xt=Pe;break}Xt===void 0?le(Et,G,K,!0):(hr[Xt-ye]=Q+1,Xt>=Ut?Ut=Xt:Rt=!0,b(Et,$[Xt],j,null,G,K,J,ee,te),lt++)}const Lc=Rt?Gv(hr):Dn;for(Pe=Lc.length-1,Q=rt-1;Q>=0;Q--){const Et=ye+Q,Xt=$[Et],Bc=Et+1<ge?$[Et+1].el:W;hr[Q]===0?b(null,Xt,j,Bc,G,K,J,ee,te):Rt&&(Pe<0||Q!==Lc[Pe]?ue(Xt,j,Bc,2):Pe--)}}},ue=(T,$,j,W,G=null)=>{const{el:K,type:J,transition:ee,children:te,shapeFlag:Q}=T;if(Q&6){ue(T.component.subTree,$,j,W);return}if(Q&128){T.suspense.move($,j,W);return}if(Q&64){J.move(T,$,j,oe);return}if(J===ne){n(K,$,j);for(let X=0;X<te.length;X++)ue(te[X],$,j,W);n(T.anchor,$,j);return}if(J===Mo){x(T,$,j);return}if(W!==2&&Q&1&&ee)if(W===0)ee.beforeEnter(K),n(K,$,j),pt(()=>ee.enter(K),G);else{const{leave:X,delayLeave:he,afterLeave:xe}=ee,ye=()=>n(K,$,j),Ie=()=>{X(K,()=>{ye(),xe&&xe()})};he?he(K,ye,Ie):Ie()}else n(K,$,j)},le=(T,$,j,W=!1,G=!1)=>{const{type:K,props:J,ref:ee,children:te,dynamicChildren:Q,shapeFlag:ge,patchFlag:X,dirs:he,cacheIndex:xe}=T;if(X===-2&&(G=!1),ee!=null&&ei(ee,null,j,T,!0),xe!=null&&($.renderCache[xe]=void 0),ge&256){$.ctx.deactivate(T);return}const ye=ge&1&&he,Ie=!kr(T);let Pe;if(Ie&&(Pe=J&&J.onVnodeBeforeUnmount)&&Qt(Pe,$,T),ge&6)de(T.component,j,W);else{if(ge&128){T.suspense.unmount(j,W);return}ye&&sn(T,null,$,"beforeUnmount"),ge&64?T.type.remove(T,$,j,oe,W):Q&&!Q.hasOnce&&(K!==ne||X>0&&X&64)?ie(Q,$,j,!1,!0):(K===ne&&X&384||!G&&ge&16)&&ie(te,$,j),W&&qe(T)}(Ie&&(Pe=J&&J.onVnodeUnmounted)||ye)&&pt(()=>{Pe&&Qt(Pe,$,T),ye&&sn(T,null,$,"unmounted")},j)},qe=T=>{const{type:$,el:j,anchor:W,transition:G}=T;if($===ne){Ve(j,W);return}if($===Mo){E(T);return}const K=()=>{r(j),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(T.shapeFlag&1&&G&&!G.persisted){const{leave:J,delayLeave:ee}=G,te=()=>J(j,K);ee?ee(T.el,K,te):te()}else K()},Ve=(T,$)=>{let j;for(;T!==$;)j=f(T),r(T),T=j;r($)},de=(T,$,j)=>{const{bum:W,scope:G,job:K,subTree:J,um:ee,m:te,a:Q}=T;eu(te),eu(Q),W&&$o(W),G.stop(),K&&(K.flags|=8,le(J,T,$,j)),ee&&pt(ee,$),pt(()=>{T.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},ie=(T,$,j,W=!1,G=!1,K=0)=>{for(let J=K;J<T.length;J++)le(T[J],$,j,W,G)},z=T=>{if(T.shapeFlag&6)return z(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const $=f(T.anchor||T.el),j=$&&$[Wh];return j?f(j):$};let se=!1;const Z=(T,$,j)=>{T==null?$._vnode&&le($._vnode,null,null,!0):b($._vnode||null,T,$,null,null,null,j),$._vnode=T,se||(se=!0,qc(),qh(),se=!1)},oe={p:b,um:le,m:ue,r:qe,mt:k,mc:A,pc:H,pbc:O,n:z,o:t};return{render:Z,hydrate:void 0,createApp:Lv(Z)}}function la({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function nn({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Kv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Xl(t,e,s=!1){const n=t.children,r=e.children;if(me(n)&&me(r))for(let o=0;o<n.length;o++){const i=n[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Ls(r[o]),a.el=i.el),!s&&a.patchFlag!==-2&&Xl(i,a)),a.type===Ii&&(a.el=i.el)}}function Gv(t){const e=t.slice(),s=[0];let n,r,o,i,a;const c=t.length;for(n=0;n<c;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(o=0,i=s.length-1;o<i;)a=o+i>>1,t[s[a]]<u?o=a+1:i=a;u<t[s[o]]&&(o>0&&(e[n]=s[o-1]),s[o]=n)}}for(o=s.length,i=s[o-1];o-- >0;)s[o]=i,i=e[i];return s}function _f(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:_f(e)}function eu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Jv=Symbol.for("v-scx"),Yv=()=>jt(Jv);function Oo(t,e){return Ql(t,null,e)}function Je(t,e,s){return Ql(t,e,s)}function Ql(t,e,s=De){const{immediate:n,deep:r,flush:o,once:i}=s,a=st({},s),c=e&&n||!e&&o!=="post";let u;if(Ur){if(o==="sync"){const p=Yv();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=rs,p.resume=rs,p.pause=rs,p}}const d=nt;a.call=(p,g,b)=>Gt(p,d,g,b);let h=!1;o==="post"?a.scheduler=p=>{pt(p,d&&d.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():Wl(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=pv(t,e,a);return Ur&&(u?u.push(f):c&&f()),f}function Xv(t,e,s){const n=this.proxy,r=We(t)?t.includes(".")?xf(n,t):()=>n[t]:t.bind(n,n);let o;Se(e)?o=e:(o=e.handler,s=e);const i=Zr(this),a=Ql(r,o.bind(n),s);return i(),a}function xf(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Qv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Bt(e)}Modifiers`]||t[`${Js(e)}Modifiers`];function Zv(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||De;let r=s;const o=e.startsWith("update:"),i=o&&Qv(n,e.slice(7));i&&(i.trim&&(r=s.map(d=>We(d)?d.trim():d)),i.number&&(r=s.map(Jo)));let a,c=n[a=ta(e)]||n[a=ta(Bt(e))];!c&&o&&(c=n[a=ta(Js(e))]),c&&Gt(c,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Gt(u,t,6,r)}}function kf(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const o=t.emits;let i={},a=!1;if(!Se(t)){const c=u=>{const d=kf(u,e,!0);d&&(a=!0,st(i,d))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!o&&!a?(Ue(t)&&n.set(t,null),null):(me(o)?o.forEach(c=>i[c]=null):st(i,o),Ue(t)&&n.set(t,i),i)}function Ai(t,e){return!t||!wi(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,Js(e))||Ne(t,e))}function tu(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:c,render:u,renderCache:d,props:h,data:f,setupState:p,ctx:g,inheritAttrs:b}=t,y=Zo(t);let _,C;try{if(s.shapeFlag&4){const E=r||n,R=E;_=ss(u.call(R,E,d,h,p,f,g)),C=a}else{const E=e;_=ss(E.length>1?E(h,{attrs:a,slots:i,emit:c}):E(h,null)),C=e.props?a:em(a)}}catch(E){Er.length=0,Ei(E,t,1),_=re(_t)}let x=_;if(C&&b!==!1){const E=Object.keys(C),{shapeFlag:R}=x;E.length&&R&7&&(o&&E.some(Ml)&&(C=tm(C,o)),x=xs(x,C,!1,!0))}return s.dirs&&(x=xs(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&Cn(x,s.transition),_=x,Zo(y),_}const em=t=>{let e;for(const s in t)(s==="class"||s==="style"||wi(s))&&((e||(e={}))[s]=t[s]);return e},tm=(t,e)=>{const s={};for(const n in t)(!Ml(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function sm(t,e,s){const{props:n,children:r,component:o}=t,{props:i,children:a,patchFlag:c}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?su(n,i,u):!!i;if(c&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(i[f]!==n[f]&&!Ai(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===i?!1:n?i?su(n,i,u):!0:!!i;return!1}function su(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(e[o]!==t[o]&&!Ai(s,o))return!0}return!1}function nm({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Cf=t=>t.__isSuspense;function rm(t,e){e&&e.pendingBranch?me(t)?e.effects.push(...t):e.effects.push(t):mv(t)}const ne=Symbol.for("v-fgt"),Ii=Symbol.for("v-txt"),_t=Symbol.for("v-cmt"),Mo=Symbol.for("v-stc"),Er=[];let It=null;function v(t=!1){Er.push(It=t?null:[])}function om(){Er.pop(),It=Er[Er.length-1]||null}let Dr=1;function nu(t,e=!1){Dr+=t,t<0&&It&&e&&(It.hasOnce=!0)}function Ef(t){return t.dynamicChildren=Dr>0?It||Dn:null,om(),Dr>0&&It&&It.push(t),t}function m(t,e,s,n,r,o){return Ef(l(t,e,s,n,r,o,!0))}function Ae(t,e,s,n,r){return Ef(re(t,e,s,n,r,!0))}function Gn(t){return t?t.__v_isVNode===!0:!1}function dn(t,e){return t.type===e.type&&t.key===e.key}const Sf=({key:t})=>t??null,jo=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||Ye(t)||Se(t)?{i:mt,r:t,k:e,f:!!s}:t:null);function l(t,e=null,s=null,n=0,r=null,o=t===ne?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Sf(e),ref:e&&jo(e),scopeId:zh,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:mt};return a?(Zl(c,s),o&128&&t.normalize(c)):s&&(c.shapeFlag|=We(s)?8:16),Dr>0&&!i&&It&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&It.push(c),c}const re=im;function im(t,e=null,s=null,n=0,r=null,o=!1){if((!t||t===of)&&(t=_t),Gn(t)){const a=xs(t,e,!0);return s&&Zl(a,s),Dr>0&&!o&&It&&(a.shapeFlag&6?It[It.indexOf(t)]=a:It.push(a)),a.patchFlag=-2,a}if(vm(t)&&(t=t.__vccOpts),e){e=am(e);let{class:a,style:c}=e;a&&!We(a)&&(e.class=ae(a)),Ue(c)&&(Vl(c)&&!me(c)&&(c=st({},c)),e.style=$t(c))}const i=We(t)?1:Cf(t)?128:Kh(t)?64:Ue(t)?4:Se(t)?2:0;return l(t,e,s,n,r,i,o,!0)}function am(t){return t?Vl(t)||pf(t)?st({},t):t:null}function xs(t,e,s=!1,n=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:c}=t,u=e?Ss(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Sf(u),ref:e&&e.ref?s&&o?me(o)?o.concat(jo(e)):[o,jo(e)]:jo(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ne?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xs(t.ssContent),ssFallback:t.ssFallback&&xs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&Cn(d,c.clone(d)),d}function be(t=" ",e=0){return re(Ii,null,t,e)}function $e(t,e){const s=re(Mo,null,t);return s.staticCount=e,s}function F(t="",e=!1){return e?(v(),Ae(_t,null,t)):re(_t,null,t)}function ss(t){return t==null||typeof t=="boolean"?re(_t):me(t)?re(ne,null,t.slice()):Gn(t)?Ls(t):re(Ii,null,String(t))}function Ls(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xs(t)}function Zl(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(me(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Zl(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!pf(e)?e._ctx=mt:r===3&&mt&&(mt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:mt},s=32):(e=String(e),n&64?(s=16,e=[be(e)]):s=8);t.children=e,t.shapeFlag|=s}function Ss(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=ae([e.class,n.class]));else if(r==="style")e.style=$t([e.style,n.style]);else if(wi(r)){const o=e[r],i=n[r];i&&o!==i&&!(me(o)&&o.includes(i))&&(e[r]=o?[].concat(o,i):i)}else r!==""&&(e[r]=n[r])}return e}function Qt(t,e,s,n=null){Gt(t,e,7,[s,n])}const lm=df();let cm=0;function um(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||lm,o={uid:cm++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vf(n,r),emitsOptions:kf(n,r),emit:null,emitted:null,propsDefaults:De,inheritAttrs:n.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Zv.bind(null,o),t.ce&&t.ce(o),o}let nt=null;const Tf=()=>nt||mt;let si,Ka;{const t=ki(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};si=e("__VUE_INSTANCE_SETTERS__",s=>nt=s),Ka=e("__VUE_SSR_SETTERS__",s=>Ur=s)}const Zr=t=>{const e=nt;return si(t),t.scope.on(),()=>{t.scope.off(),si(e)}},ru=()=>{nt&&nt.scope.off(),si(null)};function Af(t){return t.vnode.shapeFlag&4}let Ur=!1;function dm(t,e=!1,s=!1){e&&Ka(e);const{props:n,children:r}=t.vnode,o=Af(t);Dv(t,n,o,e),qv(t,r,s);const i=o?hm(t,e):void 0;return e&&Ka(!1),i}function hm(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$v);const{setup:n}=s;if(n){Ys();const r=t.setupContext=n.length>1?pm(t):null,o=Zr(t),i=Qr(n,t,0,[t.props,r]),a=fh(i);if(Xs(),o(),(a||t.sp)&&!kr(t)&&tf(t),a){if(i.then(ru,ru),e)return i.then(c=>{ou(t,c)}).catch(c=>{Ei(c,t,0)});t.asyncDep=i}else ou(t,i)}else If(t)}function ou(t,e,s){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=Uh(e)),If(t)}function If(t,e,s){const n=t.type;t.render||(t.render=n.render||rs);{const r=Zr(t);Ys();try{Rv(t)}finally{Xs(),r()}}}const fm={get(t,e){return ut(t,"get",""),t[e]}};function pm(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,fm),slots:t.slots,emit:t.emit,expose:e}}function $i(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Uh(zl(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Cr)return Cr[s](t)},has(e,s){return s in e||s in Cr}})):t.proxy}function gm(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function vm(t){return Se(t)&&"__vccOpts"in t}const we=(t,e)=>hv(t,e,Ur);function Xe(t,e,s){const n=arguments.length;return n===2?Ue(e)&&!me(e)?Gn(e)?re(t,null,[e]):re(t,e):re(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Gn(s)&&(s=[s]),re(t,e,s))}const mm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ga;const iu=typeof window<"u"&&window.trustedTypes;if(iu)try{Ga=iu.createPolicy("vue",{createHTML:t=>t})}catch{}const $f=Ga?t=>Ga.createHTML(t):t=>t,ym="http://www.w3.org/2000/svg",bm="http://www.w3.org/1998/Math/MathML",fs=typeof document<"u"?document:null,au=fs&&fs.createElement("template"),wm={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?fs.createElementNS(ym,t):e==="mathml"?fs.createElementNS(bm,t):s?fs.createElement(t,{is:s}):fs.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>fs.createTextNode(t),createComment:t=>fs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>fs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,o){const i=s?s.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===o||!(r=r.nextSibling)););else{au.innerHTML=$f(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=au.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,s)}return[i?i.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Is="transition",pr="animation",Jn=Symbol("_vtc"),Rf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Pf=st({},Xh,Rf),_m=t=>(t.displayName="Transition",t.props=Pf,t),_s=_m((t,{slots:e})=>Xe(wv,Of(t),e)),rn=(t,e=[])=>{me(t)?t.forEach(s=>s(...e)):t&&t(...e)},lu=t=>t?me(t)?t.some(e=>e.length>1):t.length>1:!1;function Of(t){const e={};for(const L in t)L in Rf||(e[L]=t[L]);if(t.css===!1)return e;const{name:s="v",type:n,duration:r,enterFromClass:o=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:c=o,appearActiveClass:u=i,appearToClass:d=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,g=xm(r),b=g&&g[0],y=g&&g[1],{onBeforeEnter:_,onEnter:C,onEnterCancelled:x,onLeave:E,onLeaveCancelled:R,onBeforeAppear:S=_,onAppear:I=C,onAppearCancelled:A=x}=e,w=(L,U,k,D)=>{L._enterCancelled=D,Os(L,U?d:a),Os(L,U?u:i),k&&k()},O=(L,U)=>{L._isLeaving=!1,Os(L,h),Os(L,p),Os(L,f),U&&U()},q=L=>(U,k)=>{const D=L?I:C,M=()=>w(U,L,k);rn(D,[U,M]),cu(()=>{Os(U,L?c:o),es(U,L?d:a),lu(D)||uu(U,n,b,M)})};return st(e,{onBeforeEnter(L){rn(_,[L]),es(L,o),es(L,i)},onBeforeAppear(L){rn(S,[L]),es(L,c),es(L,u)},onEnter:q(!1),onAppear:q(!0),onLeave(L,U){L._isLeaving=!0;const k=()=>O(L,U);es(L,h),L._enterCancelled?(es(L,f),Ja()):(Ja(),es(L,f)),cu(()=>{L._isLeaving&&(Os(L,h),es(L,p),lu(E)||uu(L,n,y,k))}),rn(E,[L,k])},onEnterCancelled(L){w(L,!1,void 0,!0),rn(x,[L])},onAppearCancelled(L){w(L,!0,void 0,!0),rn(A,[L])},onLeaveCancelled(L){O(L),rn(R,[L])}})}function xm(t){if(t==null)return null;if(Ue(t))return[ca(t.enter),ca(t.leave)];{const e=ca(t);return[e,e]}}function ca(t){return Rg(t)}function es(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Jn]||(t[Jn]=new Set)).add(e)}function Os(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[Jn];s&&(s.delete(e),s.size||(t[Jn]=void 0))}function cu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let km=0;function uu(t,e,s,n){const r=t._endId=++km,o=()=>{r===t._endId&&n()};if(s!=null)return setTimeout(o,s);const{type:i,timeout:a,propCount:c}=Mf(t,e);if(!i)return n();const u=i+"end";let d=0;const h=()=>{t.removeEventListener(u,f),o()},f=p=>{p.target===t&&++d>=c&&h()};setTimeout(()=>{d<c&&h()},a+1),t.addEventListener(u,f)}function Mf(t,e){const s=window.getComputedStyle(t),n=g=>(s[g]||"").split(", "),r=n(`${Is}Delay`),o=n(`${Is}Duration`),i=du(r,o),a=n(`${pr}Delay`),c=n(`${pr}Duration`),u=du(a,c);let d=null,h=0,f=0;e===Is?i>0&&(d=Is,h=i,f=o.length):e===pr?u>0&&(d=pr,h=u,f=c.length):(h=Math.max(i,u),d=h>0?i>u?Is:pr:null,f=d?d===Is?o.length:c.length:0);const p=d===Is&&/\b(transform|all)(,|$)/.test(n(`${Is}Property`).toString());return{type:d,timeout:h,propCount:f,hasTransform:p}}function du(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>hu(s)+hu(t[n])))}function hu(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ja(){return document.body.offsetHeight}function Cm(t,e,s){const n=t[Jn];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const fu=Symbol("_vod"),Em=Symbol("_vsh"),Sm=Symbol(""),Tm=/(^|;)\s*display\s*:/;function Am(t,e,s){const n=t.style,r=We(s);let o=!1;if(s&&!r){if(e)if(We(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();s[a]==null&&No(n,a,"")}else for(const i in e)s[i]==null&&No(n,i,"");for(const i in s)i==="display"&&(o=!0),No(n,i,s[i])}else if(r){if(e!==s){const i=n[Sm];i&&(s+=";"+i),n.cssText=s,o=Tm.test(s)}}else e&&t.removeAttribute("style");fu in t&&(t[fu]=o?n.display:"",t[Em]&&(n.display="none"))}const pu=/\s*!important$/;function No(t,e,s){if(me(s))s.forEach(n=>No(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Im(t,e);pu.test(s)?t.setProperty(Js(n),s.replace(pu,""),"important"):t[n]=s}}const gu=["Webkit","Moz","ms"],ua={};function Im(t,e){const s=ua[e];if(s)return s;let n=Bt(e);if(n!=="filter"&&n in t)return ua[e]=n;n=xi(n);for(let r=0;r<gu.length;r++){const o=gu[r]+n;if(o in t)return ua[e]=o}return e}const vu="http://www.w3.org/1999/xlink";function mu(t,e,s,n,r,o=Lg(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(vu,e.slice(6,e.length)):t.setAttributeNS(vu,e,s):s==null||o&&!mh(s)?t.removeAttribute(e):t.setAttribute(e,o?"":is(s)?String(s):s)}function yu(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?$f(s):s);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let i=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=mh(s):s==null&&a==="string"?(s="",i=!0):a==="number"&&(s=0,i=!0)}try{t[e]=s}catch{}i&&t.removeAttribute(r||e)}function ms(t,e,s,n){t.addEventListener(e,s,n)}function $m(t,e,s,n){t.removeEventListener(e,s,n)}const bu=Symbol("_vei");function Rm(t,e,s,n,r=null){const o=t[bu]||(t[bu]={}),i=o[e];if(n&&i)i.value=n;else{const[a,c]=Pm(e);if(n){const u=o[e]=jm(n,r);ms(t,a,u,c)}else i&&($m(t,a,i,c),o[e]=void 0)}}const wu=/(?:Once|Passive|Capture)$/;function Pm(t){let e;if(wu.test(t)){e={};let n;for(;n=t.match(wu);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Js(t.slice(2)),e]}let da=0;const Om=Promise.resolve(),Mm=()=>da||(Om.then(()=>da=0),da=Date.now());function jm(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Gt(Nm(n,s.value),e,5,[n])};return s.value=t,s.attached=Mm(),s}function Nm(t,e){if(me(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const _u=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Lm=(t,e,s,n,r,o)=>{const i=r==="svg";e==="class"?Cm(t,n,i):e==="style"?Am(t,s,n):wi(e)?Ml(e)||Rm(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Bm(t,e,n,i))?(yu(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&mu(t,e,n,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!We(n))?yu(t,Bt(e),n,o,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),mu(t,e,n,i))};function Bm(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&_u(e)&&Se(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return _u(e)&&We(s)?!1:e in t}const jf=new WeakMap,Nf=new WeakMap,ni=Symbol("_moveCb"),xu=Symbol("_enterCb"),Dm=t=>(delete t.props.mode,t),Um=Dm({name:"TransitionGroup",props:st({},Pf,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Tf(),n=Yh();let r,o;return nf(()=>{if(!r.length)return;const i=t.moveClass||`${t.name||"v"}-move`;if(!Vm(r[0].el,s.vnode.el,i))return;r.forEach(Hm),r.forEach(Fm);const a=r.filter(qm);Ja(),a.forEach(c=>{const u=c.el,d=u.style;es(u,i),d.transform=d.webkitTransform=d.transitionDuration="";const h=u[ni]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[ni]=null,Os(u,i))};u.addEventListener("transitionend",h)})}),()=>{const i=Ce(t),a=Of(i);let c=i.tag||ne;if(r=[],o)for(let u=0;u<o.length;u++){const d=o[u];d.el&&d.el instanceof Element&&(r.push(d),Cn(d,Br(d,a,n,s)),jf.set(d,d.el.getBoundingClientRect()))}o=e.default?Gl(e.default()):[];for(let u=0;u<o.length;u++){const d=o[u];d.key!=null&&Cn(d,Br(d,a,n,s))}return re(c,null,o)}}}),Lf=Um;function Hm(t){const e=t.el;e[ni]&&e[ni](),e[xu]&&e[xu]()}function Fm(t){Nf.set(t,t.el.getBoundingClientRect())}function qm(t){const e=jf.get(t),s=Nf.get(t),n=e.left-s.left,r=e.top-s.top;if(n||r){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${r}px)`,o.transitionDuration="0s",t}}function Vm(t,e,s){const n=t.cloneNode(),r=t[Jn];r&&r.forEach(a=>{a.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(n);const{hasTransform:i}=Mf(n);return o.removeChild(n),i}const Ks=t=>{const e=t.props["onUpdate:modelValue"]||!1;return me(e)?s=>$o(e,s):e};function zm(t){t.target.composing=!0}function ku(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Nt=Symbol("_assign"),Lt={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[Nt]=Ks(r);const o=n||r.props&&r.props.type==="number";ms(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;s&&(a=a.trim()),o&&(a=Jo(a)),t[Nt](a)}),s&&ms(t,"change",()=>{t.value=t.value.trim()}),e||(ms(t,"compositionstart",zm),ms(t,"compositionend",ku),ms(t,"change",ku))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:o}},i){if(t[Nt]=Ks(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?Jo(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===c)||(t.value=c))}},Wm={deep:!0,created(t,e,s){t[Nt]=Ks(s),ms(t,"change",()=>{const n=t._modelValue,r=Yn(t),o=t.checked,i=t[Nt];if(me(n)){const a=Ll(n,r),c=a!==-1;if(o&&!c)i(n.concat(r));else if(!o&&c){const u=[...n];u.splice(a,1),i(u)}}else if(or(n)){const a=new Set(n);o?a.add(r):a.delete(r),i(a)}else i(Bf(t,o))})},mounted:Cu,beforeUpdate(t,e,s){t[Nt]=Ks(s),Cu(t,e,s)}};function Cu(t,{value:e,oldValue:s},n){t._modelValue=e;let r;if(me(e))r=Ll(e,n.props.value)>-1;else if(or(e))r=e.has(n.props.value);else{if(e===s)return;r=xn(e,Bf(t,!0))}t.checked!==r&&(t.checked=r)}const Km={created(t,{value:e},s){t.checked=xn(e,s.props.value),t[Nt]=Ks(s),ms(t,"change",()=>{t[Nt](Yn(t))})},beforeUpdate(t,{value:e,oldValue:s},n){t[Nt]=Ks(n),e!==s&&(t.checked=xn(e,n.props.value))}},Lo={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=or(e);ms(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>s?Jo(Yn(i)):Yn(i));t[Nt](t.multiple?r?new Set(o):o:o[0]),t._assigning=!0,Tn(()=>{t._assigning=!1})}),t[Nt]=Ks(n)},mounted(t,{value:e}){Eu(t,e)},beforeUpdate(t,e,s){t[Nt]=Ks(s)},updated(t,{value:e}){t._assigning||Eu(t,e)}};function Eu(t,e){const s=t.multiple,n=me(e);if(!(s&&!n&&!or(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],a=Yn(i);if(s)if(n){const c=typeof a;c==="string"||c==="number"?i.selected=e.some(u=>String(u)===String(a)):i.selected=Ll(e,a)>-1}else i.selected=e.has(a);else if(xn(Yn(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Yn(t){return"_value"in t?t._value:t.value}function Bf(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const ri={created(t,e,s){bo(t,e,s,null,"created")},mounted(t,e,s){bo(t,e,s,null,"mounted")},beforeUpdate(t,e,s,n){bo(t,e,s,n,"beforeUpdate")},updated(t,e,s,n){bo(t,e,s,n,"updated")}};function Gm(t,e){switch(t){case"SELECT":return Lo;case"TEXTAREA":return Lt;default:switch(e){case"checkbox":return Wm;case"radio":return Km;default:return Lt}}}function bo(t,e,s,n,r){const i=Gm(t.tagName,s.props&&s.props.type)[r];i&&i(t,e,s,n)}const Jm=["ctrl","shift","alt","meta"],Ym={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Jm.some(s=>t[`${s}Key`]&&!e.includes(s))},Gs=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(r,...o)=>{for(let i=0;i<e.length;i++){const a=Ym[e[i]];if(a&&a(r,e))return}return t(r,...o)})},Xm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qt=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const o=Js(r.key);if(e.some(i=>i===o||Xm[i]===o))return t(r)})},Qm=st({patchProp:Lm},wm);let Su;function Zm(){return Su||(Su=zv(Qm))}const Df=(...t)=>{const e=Zm().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=t1(n);if(!r)return;const o=e._component;!Se(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=s(r,!1,e1(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function e1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function t1(t){return We(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Nn=typeof document<"u";function Uf(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function s1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Uf(t.default)}const je=Object.assign;function ha(t,e){const s={};for(const n in e){const r=e[n];s[n]=Jt(r)?r.map(t):t(r)}return s}const Sr=()=>{},Jt=Array.isArray,Hf=/#/g,n1=/&/g,r1=/\//g,o1=/=/g,i1=/\?/g,Ff=/\+/g,a1=/%5B/g,l1=/%5D/g,qf=/%5E/g,c1=/%60/g,Vf=/%7B/g,u1=/%7C/g,zf=/%7D/g,d1=/%20/g;function ec(t){return encodeURI(""+t).replace(u1,"|").replace(a1,"[").replace(l1,"]")}function h1(t){return ec(t).replace(Vf,"{").replace(zf,"}").replace(qf,"^")}function Ya(t){return ec(t).replace(Ff,"%2B").replace(d1,"+").replace(Hf,"%23").replace(n1,"%26").replace(c1,"`").replace(Vf,"{").replace(zf,"}").replace(qf,"^")}function f1(t){return Ya(t).replace(o1,"%3D")}function p1(t){return ec(t).replace(Hf,"%23").replace(i1,"%3F")}function g1(t){return t==null?"":p1(t).replace(r1,"%2F")}function Hr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const v1=/\/$/,m1=t=>t.replace(v1,"");function fa(t,e,s="/"){let n,r={},o="",i="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),o=e.slice(c+1,a>-1?a:e.length),r=t(o)),a>-1&&(n=n||e.slice(0,a),i=e.slice(a,e.length)),n=_1(n??e,s),{fullPath:n+(o&&"?")+o+i,path:n,query:r,hash:Hr(i)}}function y1(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Tu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function b1(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Xn(e.matched[n],s.matched[r])&&Wf(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Xn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Wf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!w1(t[s],e[s]))return!1;return!0}function w1(t,e){return Jt(t)?Au(t,e):Jt(e)?Au(e,t):t===e}function Au(t,e){return Jt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function _1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let o=s.length-1,i,a;for(i=0;i<n.length;i++)if(a=n[i],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(i).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fr;(function(t){t.pop="pop",t.push="push"})(Fr||(Fr={}));var Tr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tr||(Tr={}));function x1(t){if(!t)if(Nn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),m1(t)}const k1=/^[^#]+#/;function C1(t,e){return t.replace(k1,"#")+e}function E1(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Ri=()=>({left:window.scrollX,top:window.scrollY});function S1(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=E1(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Iu(t,e){return(history.state?history.state.position-e:-1)+t}const Xa=new Map;function T1(t,e){Xa.set(t,e)}function A1(t){const e=Xa.get(t);return Xa.delete(t),e}let I1=()=>location.protocol+"//"+location.host;function Kf(t,e){const{pathname:s,search:n,hash:r}=e,o=t.indexOf("#");if(o>-1){let a=r.includes(t.slice(o))?t.slice(o).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Tu(c,"")}return Tu(s,t)+n+r}function $1(t,e,s,n){let r=[],o=[],i=null;const a=({state:f})=>{const p=Kf(t,location),g=s.value,b=e.value;let y=0;if(f){if(s.value=p,e.value=f,i&&i===g){i=null;return}y=b?f.position-b.position:0}else n(p);r.forEach(_=>{_(s.value,g,{delta:y,type:Fr.pop,direction:y?y>0?Tr.forward:Tr.back:Tr.unknown})})};function c(){i=s.value}function u(f){r.push(f);const p=()=>{const g=r.indexOf(f);g>-1&&r.splice(g,1)};return o.push(p),p}function d(){const{history:f}=window;f.state&&f.replaceState(je({},f.state,{scroll:Ri()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:h}}function $u(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?Ri():null}}function R1(t){const{history:e,location:s}=window,n={value:Kf(t,s)},r={value:e.state};r.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,u,d){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+c:I1()+t+c;try{e[d?"replaceState":"pushState"](u,"",f),r.value=u}catch(p){console.error(p),s[d?"replace":"assign"](f)}}function i(c,u){const d=je({},e.state,$u(r.value.back,c,r.value.forward,!0),u,{position:r.value.position});o(c,d,!0),n.value=c}function a(c,u){const d=je({},r.value,e.state,{forward:c,scroll:Ri()});o(d.current,d,!0);const h=je({},$u(n.value,c,null),{position:d.position+1},u);o(c,h,!1),n.value=c}return{location:n,state:r,push:a,replace:i}}function P1(t){t=x1(t);const e=R1(t),s=$1(t,e.state,e.location,e.replace);function n(o,i=!0){i||s.pauseListeners(),history.go(o)}const r=je({location:"",base:t,go:n,createHref:C1.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function O1(t){return typeof t=="string"||t&&typeof t=="object"}function Gf(t){return typeof t=="string"||typeof t=="symbol"}const Jf=Symbol("");var Ru;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ru||(Ru={}));function Qn(t,e){return je(new Error,{type:t,[Jf]:!0},e)}function ds(t,e){return t instanceof Error&&Jf in t&&(e==null||!!(t.type&e))}const Pu="[^/]+?",M1={sensitive:!1,strict:!1,start:!0,end:!0},j1=/[.+*?^${}()[\]/\\]/g;function N1(t,e){const s=je({},M1,e),n=[];let r=s.start?"^":"";const o=[];for(const u of t){const d=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(j1,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:b,optional:y,regexp:_}=f;o.push({name:g,repeatable:b,optional:y});const C=_||Pu;if(C!==Pu){p+=10;try{new RegExp(`(${C})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${g}" (${C}): `+E.message)}}let x=b?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(x=y&&u.length<2?`(?:/${x})`:"/"+x),y&&(x+="?"),r+=x,p+=20,y&&(p+=-8),b&&(p+=-20),C===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,s.sensitive?"":"i");function a(u){const d=u.match(i),h={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",g=o[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function c(u){let d="",h=!1;for(const f of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const p of f)if(p.type===0)d+=p.value;else if(p.type===1){const{value:g,repeatable:b,optional:y}=p,_=g in u?u[g]:"";if(Jt(_)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const C=Jt(_)?_.join("/"):_;if(!C)if(y)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);d+=C}}return d||"/"}return{re:i,score:n,keys:o,parse:a,stringify:c}}function L1(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Yf(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const o=L1(n[s],r[s]);if(o)return o;s++}if(Math.abs(r.length-n.length)===1){if(Ou(n))return 1;if(Ou(r))return-1}return r.length-n.length}function Ou(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const B1={type:0,value:""},D1=/[a-zA-Z0-9_]/;function U1(t){if(!t)return[[]];if(t==="/")return[[B1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,n=s;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,c,u="",d="";function h(){u&&(s===0?o.push({type:0,value:u}):s===1||s===2||s===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:c==="/"?(u&&h(),i()):c===":"?(h(),s=1):f();break;case 4:f(),s=n;break;case 1:c==="("?s=2:D1.test(c)?f():(h(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:h(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,d="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),i(),r}function H1(t,e,s){const n=N1(U1(t.path),s),r=je(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function F1(t,e){const s=[],n=new Map;e=Lu({strict:!1,end:!0,sensitive:!1},e);function r(h){return n.get(h)}function o(h,f,p){const g=!p,b=ju(h);b.aliasOf=p&&p.record;const y=Lu(e,h),_=[b];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const R of E)_.push(ju(je({},b,{components:p?p.record.components:b.components,path:R,aliasOf:p?p.record:b})))}let C,x;for(const E of _){const{path:R}=E;if(f&&R[0]!=="/"){const S=f.record.path,I=S[S.length-1]==="/"?"":"/";E.path=f.record.path+(R&&I+R)}if(C=H1(E,f,y),p?p.alias.push(C):(x=x||C,x!==C&&x.alias.push(C),g&&h.name&&!Nu(C)&&i(h.name)),Xf(C)&&c(C),b.children){const S=b.children;for(let I=0;I<S.length;I++)o(S[I],C,p&&p.children[I])}p=p||C}return x?()=>{i(x)}:Sr}function i(h){if(Gf(h)){const f=n.get(h);f&&(n.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function a(){return s}function c(h){const f=z1(h,s);s.splice(f,0,h),h.record.name&&!Nu(h)&&n.set(h.record.name,h)}function u(h,f){let p,g={},b,y;if("name"in h&&h.name){if(p=n.get(h.name),!p)throw Qn(1,{location:h});y=p.record.name,g=je(Mu(f.params,p.keys.filter(x=>!x.optional).concat(p.parent?p.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),h.params&&Mu(h.params,p.keys.map(x=>x.name))),b=p.stringify(g)}else if(h.path!=null)b=h.path,p=s.find(x=>x.re.test(b)),p&&(g=p.parse(b),y=p.record.name);else{if(p=f.name?n.get(f.name):s.find(x=>x.re.test(f.path)),!p)throw Qn(1,{location:h,currentLocation:f});y=p.record.name,g=je({},f.params,h.params),b=p.stringify(g)}const _=[];let C=p;for(;C;)_.unshift(C.record),C=C.parent;return{name:y,path:b,params:g,matched:_,meta:V1(_)}}t.forEach(h=>o(h));function d(){s.length=0,n.clear()}return{addRoute:o,resolve:u,removeRoute:i,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function Mu(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function ju(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:q1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function q1(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Nu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function V1(t){return t.reduce((e,s)=>je(e,s.meta),{})}function Lu(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function z1(t,e){let s=0,n=e.length;for(;s!==n;){const o=s+n>>1;Yf(t,e[o])<0?n=o:s=o+1}const r=W1(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function W1(t){let e=t;for(;e=e.parent;)if(Xf(e)&&Yf(t,e)===0)return e}function Xf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function K1(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const o=n[r].replace(Ff," "),i=o.indexOf("="),a=Hr(i<0?o:o.slice(0,i)),c=i<0?null:Hr(o.slice(i+1));if(a in e){let u=e[a];Jt(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function Bu(t){let e="";for(let s in t){const n=t[s];if(s=f1(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Jt(n)?n.map(o=>o&&Ya(o)):[n&&Ya(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+s,o!=null&&(e+="="+o))})}return e}function G1(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Jt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const J1=Symbol(""),Du=Symbol(""),Pi=Symbol(""),tc=Symbol(""),Qa=Symbol("");function gr(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Bs(t,e,s,n,r,o=i=>i()){const i=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const u=f=>{f===!1?c(Qn(4,{from:s,to:e})):f instanceof Error?c(f):O1(f)?c(Qn(2,{from:e,to:f})):(i&&n.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),a())},d=o(()=>t.call(n&&n.instances[r],e,s,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(f=>c(f))})}function pa(t,e,s,n,r=o=>o()){const o=[];for(const i of t)for(const a in i.components){let c=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Uf(c)){const d=(c.__vccOpts||c)[e];d&&o.push(Bs(d,s,n,i,a,r))}else{let u=c();o.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const h=s1(d)?d.default:d;i.mods[a]=d,i.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Bs(p,s,n,i,a,r)()}))}}return o}function Uu(t){const e=jt(Pi),s=jt(tc),n=we(()=>{const c=Ge(t.to);return e.resolve(c)}),r=we(()=>{const{matched:c}=n.value,{length:u}=c,d=c[u-1],h=s.matched;if(!d||!h.length)return-1;const f=h.findIndex(Xn.bind(null,d));if(f>-1)return f;const p=Hu(c[u-2]);return u>1&&Hu(d)===p&&h[h.length-1].path!==p?h.findIndex(Xn.bind(null,c[u-2])):f}),o=we(()=>r.value>-1&&Z1(s.params,n.value.params)),i=we(()=>r.value>-1&&r.value===s.matched.length-1&&Wf(s.params,n.value.params));function a(c={}){if(Q1(c)){const u=e[Ge(t.replace)?"replace":"push"](Ge(t.to)).catch(Sr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:we(()=>n.value.href),isActive:o,isExactActive:i,navigate:a}}function Y1(t){return t.length===1?t[0]:t}const X1=ir({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Uu,setup(t,{slots:e}){const s=yt(Uu(t)),{options:n}=jt(Pi),r=we(()=>({[Fu(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Fu(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=e.default&&Y1(e.default(s));return t.custom?o:Xe("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},o)}}}),sc=X1;function Q1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Z1(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Jt(r)||r.length!==n.length||n.some((o,i)=>o!==r[i]))return!1}return!0}function Hu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Fu=(t,e,s)=>t??e??s,ey=ir({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=jt(Qa),r=we(()=>t.route||n.value),o=jt(Du,0),i=we(()=>{let u=Ge(o);const{matched:d}=r.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),a=we(()=>r.value.matched[i.value]);Po(Du,we(()=>i.value+1)),Po(J1,a),Po(Qa,r);const c=N();return Je(()=>[c.value,a.value,t.name],([u,d,h],[f,p,g])=>{d&&(d.instances[h]=u,p&&p!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),u&&d&&(!p||!Xn(d,p)||!f)&&(d.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=r.value,d=t.name,h=a.value,f=h&&h.components[d];if(!f)return qu(s.default,{Component:f,route:u});const p=h.props[d],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,y=Xe(f,je({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[d]=null)},ref:c}));return qu(s.default,{Component:y,route:u})||y}}});function qu(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const ty=ey;function sy(t){const e=F1(t.routes,t),s=t.parseQuery||K1,n=t.stringifyQuery||Bu,r=t.history,o=gr(),i=gr(),a=gr(),c=ov($s);let u=$s;Nn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ha.bind(null,z=>""+z),h=ha.bind(null,g1),f=ha.bind(null,Hr);function p(z,se){let Z,oe;return Gf(z)?(Z=e.getRecordMatcher(z),oe=se):oe=z,e.addRoute(oe,Z)}function g(z){const se=e.getRecordMatcher(z);se&&e.removeRoute(se)}function b(){return e.getRoutes().map(z=>z.record)}function y(z){return!!e.getRecordMatcher(z)}function _(z,se){if(se=je({},se||c.value),typeof z=="string"){const j=fa(s,z,se.path),W=e.resolve({path:j.path},se),G=r.createHref(j.fullPath);return je(j,W,{params:f(W.params),hash:Hr(j.hash),redirectedFrom:void 0,href:G})}let Z;if(z.path!=null)Z=je({},z,{path:fa(s,z.path,se.path).path});else{const j=je({},z.params);for(const W in j)j[W]==null&&delete j[W];Z=je({},z,{params:h(j)}),se.params=h(se.params)}const oe=e.resolve(Z,se),Re=z.hash||"";oe.params=d(f(oe.params));const T=y1(n,je({},z,{hash:h1(Re),path:oe.path})),$=r.createHref(T);return je({fullPath:T,hash:Re,query:n===Bu?G1(z.query):z.query||{}},oe,{redirectedFrom:void 0,href:$})}function C(z){return typeof z=="string"?fa(s,z,c.value.path):je({},z)}function x(z,se){if(u!==z)return Qn(8,{from:se,to:z})}function E(z){return I(z)}function R(z){return E(je(C(z),{replace:!0}))}function S(z){const se=z.matched[z.matched.length-1];if(se&&se.redirect){const{redirect:Z}=se;let oe=typeof Z=="function"?Z(z):Z;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=C(oe):{path:oe},oe.params={}),je({query:z.query,hash:z.hash,params:oe.path!=null?{}:z.params},oe)}}function I(z,se){const Z=u=_(z),oe=c.value,Re=z.state,T=z.force,$=z.replace===!0,j=S(Z);if(j)return I(je(C(j),{state:typeof j=="object"?je({},Re,j.state):Re,force:T,replace:$}),se||Z);const W=Z;W.redirectedFrom=se;let G;return!T&&b1(n,oe,Z)&&(G=Qn(16,{to:W,from:oe}),ue(oe,oe,!0,!1)),(G?Promise.resolve(G):O(W,oe)).catch(K=>ds(K)?ds(K,2)?K:Ee(K):H(K,W,oe)).then(K=>{if(K){if(ds(K,2))return I(je({replace:$},C(K.to),{state:typeof K.to=="object"?je({},Re,K.to.state):Re,force:T}),se||W)}else K=L(W,oe,!0,$,Re);return q(W,oe,K),K})}function A(z,se){const Z=x(z,se);return Z?Promise.reject(Z):Promise.resolve()}function w(z){const se=Ve.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(z):z()}function O(z,se){let Z;const[oe,Re,T]=ny(z,se);Z=pa(oe.reverse(),"beforeRouteLeave",z,se);for(const j of oe)j.leaveGuards.forEach(W=>{Z.push(Bs(W,z,se))});const $=A.bind(null,z,se);return Z.push($),ie(Z).then(()=>{Z=[];for(const j of o.list())Z.push(Bs(j,z,se));return Z.push($),ie(Z)}).then(()=>{Z=pa(Re,"beforeRouteUpdate",z,se);for(const j of Re)j.updateGuards.forEach(W=>{Z.push(Bs(W,z,se))});return Z.push($),ie(Z)}).then(()=>{Z=[];for(const j of T)if(j.beforeEnter)if(Jt(j.beforeEnter))for(const W of j.beforeEnter)Z.push(Bs(W,z,se));else Z.push(Bs(j.beforeEnter,z,se));return Z.push($),ie(Z)}).then(()=>(z.matched.forEach(j=>j.enterCallbacks={}),Z=pa(T,"beforeRouteEnter",z,se,w),Z.push($),ie(Z))).then(()=>{Z=[];for(const j of i.list())Z.push(Bs(j,z,se));return Z.push($),ie(Z)}).catch(j=>ds(j,8)?j:Promise.reject(j))}function q(z,se,Z){a.list().forEach(oe=>w(()=>oe(z,se,Z)))}function L(z,se,Z,oe,Re){const T=x(z,se);if(T)return T;const $=se===$s,j=Nn?history.state:{};Z&&(oe||$?r.replace(z.fullPath,je({scroll:$&&j&&j.scroll},Re)):r.push(z.fullPath,Re)),c.value=z,ue(z,se,Z,$),Ee()}let U;function k(){U||(U=r.listen((z,se,Z)=>{if(!de.listening)return;const oe=_(z),Re=S(oe);if(Re){I(je(Re,{replace:!0,force:!0}),oe).catch(Sr);return}u=oe;const T=c.value;Nn&&T1(Iu(T.fullPath,Z.delta),Ri()),O(oe,T).catch($=>ds($,12)?$:ds($,2)?(I(je(C($.to),{force:!0}),oe).then(j=>{ds(j,20)&&!Z.delta&&Z.type===Fr.pop&&r.go(-1,!1)}).catch(Sr),Promise.reject()):(Z.delta&&r.go(-Z.delta,!1),H($,oe,T))).then($=>{$=$||L(oe,T,!1),$&&(Z.delta&&!ds($,8)?r.go(-Z.delta,!1):Z.type===Fr.pop&&ds($,20)&&r.go(-1,!1)),q(oe,T,$)}).catch(Sr)}))}let D=gr(),M=gr(),B;function H(z,se,Z){Ee(z);const oe=M.list();return oe.length?oe.forEach(Re=>Re(z,se,Z)):console.error(z),Promise.reject(z)}function Y(){return B&&c.value!==$s?Promise.resolve():new Promise((z,se)=>{D.add([z,se])})}function Ee(z){return B||(B=!z,k(),D.list().forEach(([se,Z])=>z?Z(z):se()),D.reset()),z}function ue(z,se,Z,oe){const{scrollBehavior:Re}=t;if(!Nn||!Re)return Promise.resolve();const T=!Z&&A1(Iu(z.fullPath,0))||(oe||!Z)&&history.state&&history.state.scroll||null;return Tn().then(()=>Re(z,se,T)).then($=>$&&S1($)).catch($=>H($,z,se))}const le=z=>r.go(z);let qe;const Ve=new Set,de={currentRoute:c,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:b,resolve:_,options:t,push:E,replace:R,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:M.add,isReady:Y,install(z){const se=this;z.component("RouterLink",sc),z.component("RouterView",ty),z.config.globalProperties.$router=se,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(c)}),Nn&&!qe&&c.value===$s&&(qe=!0,E(r.location).catch(Re=>{}));const Z={};for(const Re in $s)Object.defineProperty(Z,Re,{get:()=>c.value[Re],enumerable:!0});z.provide(Pi,se),z.provide(tc,Lh(Z)),z.provide(Qa,c);const oe=z.unmount;Ve.add(z),z.unmount=function(){Ve.delete(z),Ve.size<1&&(u=$s,U&&U(),U=null,c.value=$s,qe=!1,B=!1),oe()}}};function ie(z){return z.reduce((se,Z)=>se.then(()=>w(Z)),Promise.resolve())}return de}function ny(t,e){const s=[],n=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(u=>Xn(u,a))?n.push(a):s.push(a));const c=t.matched[i];c&&(e.matched.find(u=>Xn(u,c))||r.push(c))}return[s,n,r]}function Ct(){return jt(Pi)}function Qs(t){return jt(tc)}const ry=()=>{};var Vu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=function(t){const e=[];let s=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[s++]=r:r<2048?(e[s++]=r>>6|192,e[s++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[s++]=r>>18|240,e[s++]=r>>12&63|128,e[s++]=r>>6&63|128,e[s++]=r&63|128):(e[s++]=r>>12|224,e[s++]=r>>6&63|128,e[s++]=r&63|128)}return e},oy=function(t){const e=[];let s=0,n=0;for(;s<t.length;){const r=t[s++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[s++];e[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[s++],i=t[s++],a=t[s++],c=((r&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[s++],i=t[s++];e[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|i&63)}}return e.join("")},Zf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const o=t[r],i=r+1<t.length,a=i?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;c||(p=64,i||(f=64)),n.push(s[d],s[h],s[f],s[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const o=s[t.charAt(r++)],a=r<t.length?s[t.charAt(r)]:0;++r;const u=r<t.length?s[t.charAt(r)]:64;++r;const h=r<t.length?s[t.charAt(r)]:64;if(++r,o==null||a==null||u==null||h==null)throw new iy;const f=o<<2|a>>4;if(n.push(f),u!==64){const p=a<<4&240|u>>2;if(n.push(p),h!==64){const g=u<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ay=function(t){const e=Qf(t);return Zf.encodeByteArray(e,!0)},e0=function(t){return ay(t).replace(/\./g,"")},t0=function(t){try{return Zf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=()=>ly().__FIREBASE_DEFAULTS__,uy=()=>{if(typeof process>"u"||typeof Vu>"u")return;const t=Vu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dy=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t0(t[1]);return e&&JSON.parse(e)},nc=()=>{try{return ry()||cy()||uy()||dy()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hy=t=>{var e,s;return(s=(e=nc())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},s0=()=>{var t;return(t=nc())===null||t===void 0?void 0:t.config},n0=t=>{var e;return(e=nc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){return t.endsWith(".cloudworkstations.dev")}async function py(t){return(await fetch(t,{credentials:"include"})).ok}const Ar={};function gy(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ar))Ar[e]?t.emulator.push(e):t.prod.push(e);return t}function vy(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let zu=!1;function my(t,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||Ar[t]===e||Ar[t]||zu)return;Ar[t]=e;function s(f){return`__firebase__banner__${f}`}const n="__firebase__banner",o=gy().prod.length>0;function i(){const f=document.getElementById(n);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{zu=!0,i()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=vy(n),p=s("text"),g=document.getElementById(p)||document.createElement("span"),b=s("learnmore"),y=document.getElementById(b)||document.createElement("a"),_=s("preprendIcon"),C=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),d(y,b);const E=u();c(C,_),x.append(C,g,y,E),document.body.appendChild(x)}o?(g.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function by(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xy(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ky(){try{return typeof indexedDB=="object"}catch{return!1}}function Cy(){return new Promise((t,e)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),s||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{s=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="FirebaseError";class Zs extends Error{constructor(e,s,n){super(s),this.code=e,this.customData=n,this.name=Ey,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,s,n){this.service=e,this.serviceName=s,this.errors=n}create(e,...s){const n=s[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?Sy(o,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new Zs(r,a,n)}}function Sy(t,e){return t.replace(Ty,(s,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const Ty=/\{\$([^}]+)}/g;function Ay(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zn(t,e){if(t===e)return!0;const s=Object.keys(t),n=Object.keys(e);for(const r of s){if(!n.includes(r))return!1;const o=t[r],i=e[r];if(Wu(o)&&Wu(i)){if(!Zn(o,i))return!1}else if(o!==i)return!1}for(const r of n)if(!s.includes(r))return!1;return!0}function Wu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){const e=[];for(const[s,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Iy(t,e){const s=new $y(t,e);return s.subscribe.bind(s)}class $y{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,n){let r;if(e===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");Ry(e,["next","error","complete"])?r=e:r={next:e,error:s,complete:n},r.next===void 0&&(r.next=ga),r.error===void 0&&(r.error=ga),r.complete===void 0&&(r.complete=ga);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ry(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function ga(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,s,n){this.name=e,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const n=new fy;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:s});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(My(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);try{const o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(e=cn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cn){return this.instances.has(e)}getOptions(e=cn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&i.resolve(r)}return r}onInit(e,s){var n;const r=this.normalizeInstanceIdentifier(s),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const n=this.onInitCallbacks.get(s);if(n)for(const r of n)try{r(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Oy(e),options:s}),this.instances.set(e,n),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=cn){return this.component?this.component.multipleInstances?e:cn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Oy(t){return t===cn?void 0:t}function My(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Py(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const Ny={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Ly=Be.INFO,By={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Dy=(t,e,...s)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=By[e];if(r)console[r](`[${n}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r0{constructor(e){this.name=e,this._logLevel=Ly,this._logHandler=Dy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ny[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Uy=(t,e)=>e.some(s=>t instanceof s);let Ku,Gu;function Hy(){return Ku||(Ku=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fy(){return Gu||(Gu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,Za=new WeakMap,i0=new WeakMap,va=new WeakMap,oc=new WeakMap;function qy(t){const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{s(zs(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(s=>{s instanceof IDBCursor&&o0.set(s,t)}).catch(()=>{}),oc.set(e,t),e}function Vy(t){if(Za.has(t))return;const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{s(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Za.set(t,e)}let el={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Za.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i0.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return zs(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zy(t){el=t(el)}function Wy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const n=t.call(ma(this),e,...s);return i0.set(n,e.sort?e.sort():[e]),zs(n)}:Fy().includes(t)?function(...e){return t.apply(ma(this),e),zs(o0.get(this))}:function(...e){return zs(t.apply(ma(this),e))}}function Ky(t){return typeof t=="function"?Wy(t):(t instanceof IDBTransaction&&Vy(t),Uy(t,Hy())?new Proxy(t,el):t)}function zs(t){if(t instanceof IDBRequest)return qy(t);if(va.has(t))return va.get(t);const e=Ky(t);return e!==t&&(va.set(t,e),oc.set(e,t)),e}const ma=t=>oc.get(t);function Gy(t,e,{blocked:s,upgrade:n,blocking:r,terminated:o}={}){const i=indexedDB.open(t,e),a=zs(i);return n&&i.addEventListener("upgradeneeded",c=>{n(zs(i.result),c.oldVersion,c.newVersion,zs(i.transaction),c)}),s&&i.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Jy=["get","getKey","getAll","getAllKeys","count"],Yy=["put","add","delete","clear"],ya=new Map;function Ju(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ya.get(e))return ya.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,r=Yy.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Jy.includes(s)))return;const o=async function(i,...a){const c=this.transaction(i,r?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[s](...a),r&&c.done]))[0]};return ya.set(e,o),o}zy(t=>({...t,get:(e,s,n)=>Ju(e,s)||t.get(e,s,n),has:(e,s)=>!!Ju(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Qy(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function Qy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tl="@firebase/app",Yu="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new r0("@firebase/app"),Zy="@firebase/app-compat",eb="@firebase/analytics-compat",tb="@firebase/analytics",sb="@firebase/app-check-compat",nb="@firebase/app-check",rb="@firebase/auth",ob="@firebase/auth-compat",ib="@firebase/database",ab="@firebase/data-connect",lb="@firebase/database-compat",cb="@firebase/functions",ub="@firebase/functions-compat",db="@firebase/installations",hb="@firebase/installations-compat",fb="@firebase/messaging",pb="@firebase/messaging-compat",gb="@firebase/performance",vb="@firebase/performance-compat",mb="@firebase/remote-config",yb="@firebase/remote-config-compat",bb="@firebase/storage",wb="@firebase/storage-compat",_b="@firebase/firestore",xb="@firebase/ai",kb="@firebase/firestore-compat",Cb="firebase",Eb="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="[DEFAULT]",Sb={[tl]:"fire-core",[Zy]:"fire-core-compat",[tb]:"fire-analytics",[eb]:"fire-analytics-compat",[nb]:"fire-app-check",[sb]:"fire-app-check-compat",[rb]:"fire-auth",[ob]:"fire-auth-compat",[ib]:"fire-rtdb",[ab]:"fire-data-connect",[lb]:"fire-rtdb-compat",[cb]:"fire-fn",[ub]:"fire-fn-compat",[db]:"fire-iid",[hb]:"fire-iid-compat",[fb]:"fire-fcm",[pb]:"fire-fcm-compat",[gb]:"fire-perf",[vb]:"fire-perf-compat",[mb]:"fire-rc",[yb]:"fire-rc-compat",[bb]:"fire-gcs",[wb]:"fire-gcs-compat",[_b]:"fire-fst",[kb]:"fire-fst-compat",[xb]:"fire-vertex","fire-js":"fire-js",[Cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Map,Tb=new Map,nl=new Map;function Xu(t,e){try{t.container.addComponent(e)}catch(s){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function qr(t){const e=t.name;if(nl.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;nl.set(e,t);for(const s of oi.values())Xu(s,t);for(const s of Tb.values())Xu(s,t);return!0}function a0(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function ns(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new eo("app","Firebase",Ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,s,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=Eb;function l0(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:sl,automaticDataCollectionEnabled:!0},e),r=n.name;if(typeof r!="string"||!r)throw Ws.create("bad-app-name",{appName:String(r)});if(s||(s=s0()),!s)throw Ws.create("no-options");const o=oi.get(r);if(o){if(Zn(s,o.options)&&Zn(n,o.config))return o;throw Ws.create("duplicate-app",{appName:r})}const i=new jy(r);for(const c of nl.values())i.addComponent(c);const a=new Ib(s,n,i);return oi.set(r,a),a}function $b(t=sl){const e=oi.get(t);if(!e&&t===sl&&s0())return l0();if(!e)throw Ws.create("no-app",{appName:t});return e}function Fn(t,e,s){var n;let r=(n=Sb[t])!==null&&n!==void 0?n:t;s&&(r+=`-${s}`);const o=r.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(a.join(" "));return}qr(new er(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",Pb=1,Vr="firebase-heartbeat-store";let ba=null;function c0(){return ba||(ba=Gy(Rb,Pb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vr)}catch(s){console.warn(s)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),ba}async function Ob(t){try{const s=(await c0()).transaction(Vr),n=await s.objectStore(Vr).get(u0(t));return await s.done,n}catch(e){if(e instanceof Zs)ks.warn(e.message);else{const s=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(s.message)}}}async function Qu(t,e){try{const n=(await c0()).transaction(Vr,"readwrite");await n.objectStore(Vr).put(e,u0(t)),await n.done}catch(s){if(s instanceof Zs)ks.warn(s.message);else{const n=Ws.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});ks.warn(n.message)}}}function u0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=1024,jb=30;class Nb{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Bb(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,s;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Zu();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>jb){const i=Db(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ks.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Zu(),{heartbeatsToSend:n,unsentEntries:r}=Lb(this._heartbeatsCache.heartbeats),o=e0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(s){return ks.warn(s),""}}}function Zu(){return new Date().toISOString().substring(0,10)}function Lb(t,e=Mb){const s=[];let n=t.slice();for(const r of t){const o=s.find(i=>i.agent===r.agent);if(o){if(o.dates.push(r.date),ed(s)>e){o.dates.pop();break}}else if(s.push({agent:r.agent,dates:[r.date]}),ed(s)>e){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class Bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ky()?Cy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Ob(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qu(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qu(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ed(t){return e0(JSON.stringify({version:2,heartbeats:t})).length}function Db(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let n=1;n<t.length;n++)t[n].date<s&&(s=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){qr(new er("platform-logger",e=>new Xy(e),"PRIVATE")),qr(new er("heartbeat",e=>new Nb(e),"PRIVATE")),Fn(tl,Yu,t),Fn(tl,Yu,"esm2017"),Fn("fire-js","")}Ub("");var rl=function(t,e){return rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])},rl(t,e)};function d0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rl(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var ii=function(){return ii=Object.assign||function(e){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},ii.apply(this,arguments)};function As(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s}function h0(t,e,s,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,s):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}function f0(t,e){return function(s,n){e(s,n,t)}}function p0(t,e,s,n,r,o){function i(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,p=s.length-1;p>=0;p--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(_){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(_||null))};var y=(0,s[p])(a==="accessor"?{get:d.get,set:d.set}:d[c],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=i(y.get))&&(d.get=h),(h=i(y.set))&&(d.set=h),(h=i(y.init))&&r.unshift(h)}else(h=i(y))&&(a==="field"?r.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function g0(t,e,s){for(var n=arguments.length>2,r=0;r<e.length;r++)s=n?e[r].call(t,s):e[r].call(t);return n?s:void 0}function v0(t){return typeof t=="symbol"?t:"".concat(t)}function m0(t,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function y0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function fe(t,e,s,n){function r(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):r(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function b0(t,e){var s={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,r,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(s=0)),s;)try{if(n=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(u[0]===6&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(d){u=[6,d],r=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Oi=Object.create?function(t,e,s,n){n===void 0&&(n=s);var r=Object.getOwnPropertyDescriptor(e,s);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,n,r)}:function(t,e,s,n){n===void 0&&(n=s),t[n]=e[s]};function w0(t,e){for(var s in t)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&Oi(e,t,s)}function ai(t){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&t[e],n=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ic(t,e){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var n=s.call(t),r,o=[],i;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return o}function _0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ic(arguments[e]));return t}function x0(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<s;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,r++)n[r]=o[i];return n}function k0(t,e,s){if(s||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function tr(t){return this instanceof tr?(this.v=t,this):new tr(t)}function C0(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),r[Symbol.asyncIterator]=function(){return this},r;function i(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){n[p]&&(r[p]=function(b){return new Promise(function(y,_){o.push([p,b,y,_])>1||c(p,b)})},g&&(r[p]=g(r[p])))}function c(p,g){try{u(n[p](g))}catch(b){f(o[0][3],b)}}function u(p){p.value instanceof tr?Promise.resolve(p.value.v).then(d,h):f(o[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function f(p,g){p(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function E0(t){var e,s;return e={},n("next"),n("throw",function(r){throw r}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(r,o){e[r]=t[r]?function(i){return(s=!s)?{value:tr(t[r](i)),done:!1}:o?o(i):i}:o}}function S0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],s;return e?e.call(t):(t=typeof ai=="function"?ai(t):t[Symbol.iterator](),s={},n("next"),n("throw"),n("return"),s[Symbol.asyncIterator]=function(){return this},s);function n(o){s[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),r(a,c,i.done,i.value)})}}function r(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function T0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Hb=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},ol=function(t){return ol=Object.getOwnPropertyNames||function(e){var s=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[s.length]=n);return s},ol(t)};function A0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var s=ol(t),n=0;n<s.length;n++)s[n]!=="default"&&Oi(e,t,s[n]);return Hb(e,t),e}function I0(t){return t&&t.__esModule?t:{default:t}}function $0(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)}function R0(t,e,s,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,s):r?r.value=s:e.set(t,s),s}function P0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function O0(t,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,r;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],s&&(r=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:s})}else s&&t.stack.push({async:!0});return e}var Fb=typeof SuppressedError=="function"?SuppressedError:function(t,e,s){var n=new Error(s);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function M0(t){function e(o){t.error=t.hasError?new Fb(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var s,n=0;function r(){for(;s=t.stack.pop();)try{if(!s.async&&n===1)return n=0,t.stack.push(s),Promise.resolve().then(r);if(s.dispose){var o=s.dispose.call(s.value);if(s.async)return n|=2,Promise.resolve(o).then(r,function(i){return e(i),r()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function j0(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,n,r,o,i){return n?e?".jsx":".js":r&&(!o||!i)?s:r+o+"."+i.toLowerCase()+"js"}):t}const qb={__extends:d0,__assign:ii,__rest:As,__decorate:h0,__param:f0,__esDecorate:p0,__runInitializers:g0,__propKey:v0,__setFunctionName:m0,__metadata:y0,__awaiter:fe,__generator:b0,__createBinding:Oi,__exportStar:w0,__values:ai,__read:ic,__spread:_0,__spreadArrays:x0,__spreadArray:k0,__await:tr,__asyncGenerator:C0,__asyncDelegator:E0,__asyncValues:S0,__makeTemplateObject:T0,__importStar:A0,__importDefault:I0,__classPrivateFieldGet:$0,__classPrivateFieldSet:R0,__classPrivateFieldIn:P0,__addDisposableResource:O0,__disposeResources:M0,__rewriteRelativeImportExtension:j0},Vb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:O0,get __assign(){return ii},__asyncDelegator:E0,__asyncGenerator:C0,__asyncValues:S0,__await:tr,__awaiter:fe,__classPrivateFieldGet:$0,__classPrivateFieldIn:P0,__classPrivateFieldSet:R0,__createBinding:Oi,__decorate:h0,__disposeResources:M0,__esDecorate:p0,__exportStar:w0,__extends:d0,__generator:b0,__importDefault:I0,__importStar:A0,__makeTemplateObject:T0,__metadata:y0,__param:f0,__propKey:v0,__read:ic,__rest:As,__rewriteRelativeImportExtension:j0,__runInitializers:g0,__setFunctionName:m0,__spread:_0,__spreadArray:k0,__spreadArrays:x0,__values:ai,default:qb},Symbol.toStringTag,{value:"Module"}));function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zb=N0,L0=new eo("auth","Firebase",N0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new r0("@firebase/auth");function Wb(t,...e){li.logLevel<=Be.WARN&&li.warn(`Auth (${so}): ${t}`,...e)}function Bo(t,...e){li.logLevel<=Be.ERROR&&li.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,...e){throw lc(t,...e)}function Kt(t,...e){return lc(t,...e)}function ac(t,e,s){const n=Object.assign(Object.assign({},zb()),{[e]:s});return new eo("auth","Firebase",n).create(e,{appName:t.name})}function wn(t){return ac(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kb(t,e,s){const n=s;if(!(e instanceof n))throw n.name!==e.constructor.name&&as(t,"argument-error"),ac(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lc(t,...e){if(typeof t!="string"){const s=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(s,...n)}return L0.create(t,...e)}function ke(t,e,...s){if(!t)throw lc(e,...s)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bo(e),new Error(e)}function Cs(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gb(){return td()==="http:"||td()==="https:"}function td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gb()||wy()||"connection"in navigator)?navigator.onLine:!0}function Yb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,s){this.shortDelay=e,this.longDelay=s,Cs(s>e,"Short delay should be less than long delay!"),this.isMobile=yy()||_y()}get(){return Jb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{static initialize(e,s,n){this.fetchImpl=e,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zb=new no(3e4,6e4);function uc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ar(t,e,s,n,r={}){return D0(t,r,async()=>{let o={},i={};n&&(e==="GET"?i=n:o={body:JSON.stringify(n)});const a=to(Object.assign({key:t.config.apiKey},i)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return by()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&rc(t.emulatorConfig.host)&&(u.credentials="include"),B0.fetch()(await U0(t,t.config.apiHost,s,a),u)})}async function D0(t,e,s){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Xb),e);try{const r=new tw(t),o=await Promise.race([s(),r.promise]);r.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw wo(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wo(t,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw wo(t,"email-already-in-use",i);if(c==="USER_DISABLED")throw wo(t,"user-disabled",i);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ac(t,d,u);as(t,d)}}catch(r){if(r instanceof Zs)throw r;as(t,"network-request-failed",{message:String(r)})}}async function ew(t,e,s,n,r={}){const o=await ar(t,e,s,n,r);return"mfaPendingCredential"in o&&as(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function U0(t,e,s,n){const r=`${e}${s}?${n}`,o=t,i=o.config.emulator?cc(t.config,r):`${t.config.apiScheme}://${r}`;return Qb.includes(s)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}class tw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(Kt(this.auth,"network-request-failed")),Zb.get())})}}function wo(t,e,s){const n={appName:t.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const r=Kt(t,e,n);return r.customData._tokenResponse=s,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(t,e){return ar(t,"POST","/v1/accounts:delete",e)}async function ci(t,e){return ar(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nw(t,e=!1){const s=Ts(t),n=await s.getIdToken(e),r=dc(n);ke(r&&r.exp&&r.auth_time&&r.iat,s.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:r,token:n,authTime:Ir(wa(r.auth_time)),issuedAtTime:Ir(wa(r.iat)),expirationTime:Ir(wa(r.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function wa(t){return Number(t)*1e3}function dc(t){const[e,s,n]=t.split(".");if(e===void 0||s===void 0||n===void 0)return Bo("JWT malformed, contained fewer than 3 sections"),null;try{const r=t0(s);return r?JSON.parse(r):(Bo("Failed to decode base64 JWT payload"),null)}catch(r){return Bo("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function sd(t){const e=dc(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zr(t,e,s=!1){if(s)return e;try{return await e}catch(n){throw n instanceof Zs&&rw(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function rw({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ui(t){var e;const s=t.auth,n=await t.getIdToken(),r=await zr(t,ci(s,{idToken:n}));ke(r==null?void 0:r.users.length,s,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?H0(o.providerUserInfo):[],a=aw(t.providerData,i),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new al(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function iw(t){const e=Ts(t);await ui(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aw(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function H0(t){return t.map(e=>{var{providerId:s}=e,n=As(e,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(t,e){const s=await D0(t,{},async()=>{const n=to({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,i=await U0(t,r,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",B0.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function cw(t,e){return ar(t,"POST","/v2/accounts:revokeToken",uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const s=sd(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:n,refreshToken:r,expiresIn:o}=await lw(e,s);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,s,n){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,s){const{refreshToken:n,accessToken:r,expirationTime:o}=s,i=new qn;return n&&(ke(typeof n=="string","internal-error",{appName:e}),i.refreshToken=n),r&&(ke(typeof r=="string","internal-error",{appName:e}),i.accessToken=r),o&&(ke(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qn,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zt{constructor(e){var{uid:s,auth:n,stsTokenManager:r}=e,o=As(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new al(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await zr(this,this.stsTokenManager.getToken(this.auth,e));return ke(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return nw(this,e)}reload(){return iw(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),s&&await ui(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(wn(this.auth));const e=await this.getIdToken();return await zr(this,sw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var n,r,o,i,a,c,u,d;const h=(n=s.displayName)!==null&&n!==void 0?n:void 0,f=(r=s.email)!==null&&r!==void 0?r:void 0,p=(o=s.phoneNumber)!==null&&o!==void 0?o:void 0,g=(i=s.photoURL)!==null&&i!==void 0?i:void 0,b=(a=s.tenantId)!==null&&a!==void 0?a:void 0,y=(c=s._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=s.createdAt)!==null&&u!==void 0?u:void 0,C=(d=s.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:E,isAnonymous:R,providerData:S,stsTokenManager:I}=s;ke(x&&I,e,"internal-error");const A=qn.fromJSON(this.name,I);ke(typeof x=="string",e,"internal-error"),Rs(h,e.name),Rs(f,e.name),ke(typeof E=="boolean",e,"internal-error"),ke(typeof R=="boolean",e,"internal-error"),Rs(p,e.name),Rs(g,e.name),Rs(b,e.name),Rs(y,e.name),Rs(_,e.name),Rs(C,e.name);const w=new zt({uid:x,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:R,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:A,createdAt:_,lastLoginAt:C});return S&&Array.isArray(S)&&(w.providerData=S.map(O=>Object.assign({},O))),y&&(w._redirectEventId=y),w}static async _fromIdTokenResponse(e,s,n=!1){const r=new qn;r.updateFromServerResponse(s);const o=new zt({uid:s.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ui(o),o}static async _fromGetAccountInfoResponse(e,s,n){const r=s.users[0];ke(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?H0(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),a=new qn;a.updateFromIdToken(n);const c=new zt({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new al(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map;function ws(t){Cs(t instanceof Function,"Expected a class definition");let e=nd.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nd.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}F0.type="NONE";const rd=F0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e,s){return`firebase:${t}:${e}:${s}`}class Vn{constructor(e,s,n){this.persistence=e,this.auth=s,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Do(this.userKey,r.apiKey,o),this.fullPersistenceKey=Do("persistence",r.apiKey,o),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await ci(this.auth,{idToken:e}).catch(()=>{});return s?zt._fromGetAccountInfoResponse(this.auth,s,e):null}return zt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,n="authUser"){if(!s.length)return new Vn(ws(rd),e,n);const r=(await Promise.all(s.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=r[0]||ws(rd);const i=Do(n,e.config.apiKey,e.name);let a=null;for(const u of s)try{const d=await u._get(i);if(d){let h;if(typeof d=="string"){const f=await ci(e,{idToken:d}).catch(()=>{});if(!f)break;h=await zt._fromGetAccountInfoResponse(e,f,d)}else h=zt._fromJSON(e,d);u!==o&&(a=h),o=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Vn(o,e,n):(o=c[0],a&&await o._set(i,a.toJSON()),await Promise.all(s.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Vn(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G0(e))return"Blackberry";if(J0(e))return"Webos";if(V0(e))return"Safari";if((e.includes("chrome/")||z0(e))&&!e.includes("edge/"))return"Chrome";if(K0(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(s);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function q0(t=bt()){return/firefox\//i.test(t)}function V0(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z0(t=bt()){return/crios\//i.test(t)}function W0(t=bt()){return/iemobile/i.test(t)}function K0(t=bt()){return/android/i.test(t)}function G0(t=bt()){return/blackberry/i.test(t)}function J0(t=bt()){return/webos/i.test(t)}function hc(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uw(t=bt()){var e;return hc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dw(){return xy()&&document.documentMode===10}function Y0(t=bt()){return hc(t)||K0(t)||J0(t)||G0(t)||/windows phone/i.test(t)||W0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e=[]){let s;switch(t){case"Browser":s=od(bt());break;case"Worker":s=`${od(bt())}-${t}`;break;default:s=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${so}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const n=o=>new Promise((i,a)=>{try{const c=e(o);i(c)}catch(c){a(c)}});n.onAbort=s,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const n of this.queue)await n(e),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const r of s)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(t,e={}){return ar(t,"GET","/v2/passwordPolicy",uc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=6;class gw{constructor(e){var s,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=i.minPasswordLength)!==null&&s!==void 0?s:pw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,n,r,o,i,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(s=c.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(i=c.containsNumericCharacter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,s){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=e.length>=n),r&&(s.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,s,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,s,n,r){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new id(this),this.idTokenSubscription=new id(this),this.beforeStateQueue=new hw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=ws(s)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await Vn.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await ci(this,{idToken:e}),n=await zt._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ns(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===a)&&(c!=null&&c.user)&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await ui(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ns(this.app))return Promise.reject(wn(this));const s=e?Ts(e):null;return s&&ke(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(wn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ns(this.app)?Promise.reject(wn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fw(this),s=new gw(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,s,n){return this.registerStateListener(this.authStateSubscription,e,s,n)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,n){return this.registerStateListener(this.idTokenSubscription,e,s,n)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await cw(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const n=await this.getOrInitRedirectPersistenceManager(s);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&ws(e)||this._popupRedirectResolver;ke(s,this,"argument-error"),this.redirectPersistenceManager=await Vn.create(this,[ws(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,n,r){if(this._deleted)return()=>{};const o=typeof s=="function"?s:s.next.bind(s);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{i||o(this.currentUser)}),typeof s=="function"){const c=e.addObserver(s,n,r);return()=>{i=!0,c()}}else{const c=e.addObserver(s);return()=>{i=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(s["X-Firebase-AppCheck"]=r),s}async _getAppCheckToken(){var e;if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&Wb(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Mi(t){return Ts(t)}class id{constructor(e){this.auth=e,this.observer=null,this.addObserver=Iy(s=>this.observer=s)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mw(t){fc=t}function yw(t){return fc.loadJS(t)}function bw(){return fc.gapiScript}function ww(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e){const s=a0(t,"auth");if(s.isInitialized()){const r=s.getImmediate(),o=s.getOptions();if(Zn(o,e??{}))return r;as(r,"already-initialized")}return s.initialize({options:e})}function xw(t,e){const s=(e==null?void 0:e.persistence)||[],n=(Array.isArray(s)?s:[s]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function kw(t,e,s){const n=Mi(t);ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,o=Q0(e),{host:i,port:a}=Cw(e),c=a===null?"":`:${a}`,u={url:`${o}//${i}${c}/`},d=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){ke(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ke(Zn(u,n.config.emulator)&&Zn(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,rc(i)?(py(`${o}//${i}${c}`),my("Auth",!0)):Ew()}function Q0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cw(t){const e=Q0(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const o=r[1];return{host:o,port:ad(n.substr(o.length+1))}}else{const[o,i]=n.split(":");return{host:o,port:ad(i)}}}function ad(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ew(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,s){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zn(t,e){return ew(t,"POST","/v1/accounts:signInWithIdp",uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="http://localhost";class En extends Z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new En(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):as("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=s,o=As(s,["providerId","signInMethod"]);if(!n||!r)return null;const i=new En(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const s=this.buildRequest();return zn(e,s)}_linkToIdToken(e,s){const n=this.buildRequest();return n.idToken=s,zn(e,n)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,zn(e,s)}buildRequest(){const e={requestUri:Sw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=to(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends pc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ro{constructor(){super("facebook.com")}static credential(e){return En._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ro{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return En._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:n}=e;if(!s&&!n)return null;try{return ys.credential(s,n)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends ro{constructor(){super("github.com")}static credential(e){return En._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends ro{constructor(){super("twitter.com")}static credential(e,s){return En._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=e;if(!s||!n)return null;try{return Hs.credential(s,n)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,n,r=!1){const o=await zt._fromIdTokenResponse(e,n,r),i=ld(n);return new sr({user:o,providerId:i,_tokenResponse:n,operationType:s})}static async _forOperation(e,s,n){await e._updateTokensIfNecessary(n,!0);const r=ld(n);return new sr({user:e,providerId:r,_tokenResponse:n,operationType:s})}}function ld(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Zs{constructor(e,s,n,r){var o;super(s.code,s.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,di.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,s,n,r){return new di(e,s,n,r)}}function ep(t,e,s,n){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?di._fromErrorAndOperation(t,o,e,n):o})}async function Tw(t,e,s=!1){const n=await zr(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return sr._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(t,e,s=!1){const{auth:n}=t;if(ns(n.app))return Promise.reject(wn(n));const r="reauthenticate";try{const o=await zr(t,ep(n,r,e,t),s);ke(o.idToken,n,"internal-error");const i=dc(o.idToken);ke(i,n,"internal-error");const{sub:a}=i;return ke(t.uid===a,n,"user-mismatch"),sr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&as(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(t,e,s=!1){if(ns(t.app))return Promise.reject(wn(t));const n="signIn",r=await ep(t,n,e),o=await sr._fromIdTokenResponse(t,n,r);return s||await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e){return Ts(t).setPersistence(e)}function Rw(t,e,s,n){return Ts(t).onIdTokenChanged(e,s,n)}function Pw(t,e,s){return Ts(t).beforeAuthStateChanged(e,s)}function oo(t,e,s,n){return Ts(t).onAuthStateChanged(e,s,n)}function Ow(t){return Ts(t).signOut()}const hi="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(hi,"1"),this.storage.removeItem(hi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=1e3,jw=10;class sp extends tp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),r=this.localCache[s];n!==r&&e(s,r,n)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((i,a,c)=>{this.notifyListeners(i,c)});return}const n=e.key;s?this.detachListener():this.stopPolling();const r=()=>{const i=this.storage.getItem(n);!s&&this.localCache[n]===i||this.notifyListeners(n,i)},o=this.storage.getItem(n);dw()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,jw):r()}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:n}),!0)})},Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}sp.type="LOCAL";const np=sp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends tp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}rp.type="SESSION";const op=rp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(r=>r.isListeningto(e));if(s)return s;const n=new ji(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:n,eventType:r,data:o}=s.data,i=this.handlersMap[r];if(!(i!=null&&i.size))return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async u=>u(s.origin,o)),c=await Nw(a);s.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:c})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ji.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t="",e=10){let s="";for(let n=0;n<e;n++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((a,c)=>{const u=gc("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:s},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function Bw(t){os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function Dw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uw(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hw(){return ip()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="firebaseLocalStorageDb",Fw=1,fi="firebaseLocalStorage",lp="fbase_key";class io{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Ni(t,e){return t.transaction([fi],e?"readwrite":"readonly").objectStore(fi)}function qw(){const t=indexedDB.deleteDatabase(ap);return new io(t).toPromise()}function ll(){const t=indexedDB.open(ap,Fw);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(fi,{keyPath:lp})}catch(r){s(r)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(fi)?e(n):(n.close(),await qw(),e(await ll()))})})}async function cd(t,e,s){const n=Ni(t,!0).put({[lp]:e,value:s});return new io(n).toPromise()}async function Vw(t,e){const s=Ni(t,!1).get(e),n=await new io(s).toPromise();return n===void 0?null:n.value}function ud(t,e){const s=Ni(t,!0).delete(e);return new io(s).toPromise()}const zw=800,Ww=3;class cp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ll(),this.db)}async _withRetries(e){let s=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(s++>Ww)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ip()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ji._getInstance(Hw()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await Dw(),!this.activeServiceWorker)return;this.sender=new Lw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ll();return await cd(e,hi,"1"),await ud(e,hi),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>cd(n,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(n=>Vw(n,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>ud(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Ni(r,!1).getAll();return new io(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),s.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),s.push(r));return s}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cp.type="LOCAL";const Kw=cp;new no(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t,e){return e?ws(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Z0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zn(e,this._buildIdpRequest())}_linkToIdToken(e,s){return zn(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return zn(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function Gw(t){return Iw(t.auth,new vc(t),t.bypassAuthState)}function Jw(t){const{auth:e,user:s}=t;return ke(s,e,"internal-error"),Aw(s,new vc(t),t.bypassAuthState)}async function Yw(t){const{auth:e,user:s}=t;return ke(s,e,"internal-error"),Tw(s,new vc(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,s,n,r,o=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:n,postBody:r,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:s,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gw;case"linkViaPopup":case"linkViaRedirect":return Yw;case"reauthViaPopup":case"reauthViaRedirect":return Jw;default:as(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new no(2e3,1e4);async function Qw(t,e,s){if(ns(t.app))return Promise.reject(Kt(t,"operation-not-supported-in-this-environment"));const n=Mi(t);Kb(t,e,pc);const r=up(n,s);return new gn(n,"signInViaPopup",e,r).executeNotNull()}class gn extends dp{constructor(e,s,n,r,o){super(e,s,r,o),this.provider=n,this.authWindow=null,this.pollId=null,gn.currentPopupAction&&gn.currentPopupAction.cancel(),gn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=gc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Kt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xw.get())};e()}}gn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="pendingRedirect",Uo=new Map;class e2 extends dp{constructor(e,s,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let e=Uo.get(this.auth._key());if(!e){try{const n=await t2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(s){e=()=>Promise.reject(s)}Uo.set(this.auth._key(),e)}return this.bypassAuthState||Uo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(t,e){const s=r2(e),n=n2(t);if(!await n._isAvailable())return!1;const r=await n._get(s)==="true";return await n._remove(s),r}function s2(t,e){Uo.set(t._key(),e)}function n2(t){return ws(t._redirectPersistence)}function r2(t){return Do(Zw,t.config.apiKey,t.name)}async function o2(t,e,s=!1){if(ns(t.app))return Promise.reject(wn(t));const n=Mi(t),r=up(n,e),i=await new e2(n,r,s).execute();return i&&!s&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=10*60*1e3;class a2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(s=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l2(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var n;if(e.error&&!hp(e)){const r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(Kt(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const n=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i2&&this.cachedEventUids.clear(),this.cachedEventUids.has(dd(e))}saveEventToCache(e){this.cachedEventUids.add(dd(e)),this.lastProcessedEventTime=Date.now()}}function dd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hp({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hp(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(t,e={}){return ar(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d2=/^https?/;async function h2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c2(t);for(const s of e)try{if(f2(s))return}catch{}as(t,"unauthorized-domain")}function f2(t){const e=il(),{protocol:s,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&n===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&i.hostname===n}if(!d2.test(s))return!1;if(u2.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new no(3e4,6e4);function hd(){const t=os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function g2(t){return new Promise((e,s)=>{var n,r,o;function i(){hd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hd(),s(Kt(t,"network-request-failed"))},timeout:p2.get()})}if(!((r=(n=os().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=os().gapi)===null||o===void 0)&&o.load)i();else{const a=ww("iframefcb");return os()[a]=()=>{gapi.load?i():s(Kt(t,"network-request-failed"))},yw(`${bw()}?onload=${a}`).catch(c=>s(c))}}).catch(e=>{throw Ho=null,e})}let Ho=null;function v2(t){return Ho=Ho||g2(t),Ho}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new no(5e3,15e3),y2="__/auth/iframe",b2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x2(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?cc(e,b2):`https://${t.config.authDomain}/${y2}`,n={apiKey:e.apiKey,appName:t.name,v:so},r=_2.get(t.config.apiHost);r&&(n.eid=r);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${s}?${to(n).slice(1)}`}async function k2(t){const e=await v2(t),s=os().gapi;return ke(s,t,"internal-error"),e.open({where:document.body,url:x2(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},n=>new Promise(async(r,o)=>{await n.restyle({setHideOnLeave:!1});const i=Kt(t,"network-request-failed"),a=os().setTimeout(()=>{o(i)},m2.get());function c(){os().clearTimeout(a),r(n)}n.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,S2=600,T2="_blank",A2="http://localhost";class fd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I2(t,e,s,n=E2,r=S2){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c=Object.assign(Object.assign({},C2),{width:n.toString(),height:r.toString(),top:o,left:i}),u=bt().toLowerCase();s&&(a=z0(u)?T2:s),q0(u)&&(e=e||A2,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(uw(u)&&a!=="_self")return $2(e||"",a),new fd(null);const h=window.open(e||"",a,d);ke(h,t,"popup-blocked");try{h.focus()}catch{}return new fd(h)}function $2(t,e){const s=document.createElement("a");s.href=t,s.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__/auth/handler",P2="emulator/auth/handler",O2=encodeURIComponent("fac");async function pd(t,e,s,n,r,o){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:n,v:so,eventId:r};if(e instanceof pc){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Ay(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof ro){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${O2}=${encodeURIComponent(c)}`:"";return`${M2(t)}?${to(a).slice(1)}${u}`}function M2({config:t}){return t.emulator?cc(t,P2):`https://${t.authDomain}/${R2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=op,this._completeRedirectFn=o2,this._overrideRedirectResult=s2}async _openPopup(e,s,n,r){var o;Cs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await pd(e,s,n,il(),r);return I2(e,i,gc())}async _openRedirect(e,s,n,r){await this._originValidation(e);const o=await pd(e,s,n,il(),r);return Bw(o),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:r,promise:o}=this.eventManagers[s];return r?Promise.resolve(r):(Cs(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(e){const s=await k2(e),n=new a2(e);return s.register("authEvent",r=>(ke(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=s,n}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(_a,{type:_a},r=>{var o;const i=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[_a];i!==void 0&&s(!!i),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=h2(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return Y0()||V0()||hc()}}const N2=j2;var gd="@firebase/auth",vd="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D2(t){qr(new er("auth",(e,{options:s})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=n.options;ke(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X0(t)},u=new vw(n,r,o,c);return xw(u,s),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,n)=>{e.getProvider("auth-internal").initialize()})),qr(new er("auth-internal",e=>{const s=Mi(e.getProvider("auth").getImmediate());return(n=>new L2(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(gd,vd,B2(t)),Fn(gd,vd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=5*60,H2=n0("authIdTokenMaxAge")||U2;let md=null;const F2=t=>async e=>{const s=e&&await e.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>H2)return;const r=s==null?void 0:s.token;md!==r&&(md=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function lr(t=$b()){const e=a0(t,"auth");if(e.isInitialized())return e.getImmediate();const s=_w(t,{popupRedirectResolver:N2,persistence:[Kw,np,op]}),n=n0("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const i=F2(o.toString());Pw(s,i,()=>i(s.currentUser)),Rw(s,a=>i(a))}}const r=hy("auth");return r&&kw(s,`http://${r}`),s}function q2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mw({loadJS(t){return new Promise((e,s)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{const o=Kt("internal-error");o.customData=r,s(o)},n.type="text/javascript",n.charset="UTF-8",q2().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D2("Browser");const V2="modulepreload",z2=function(t){return"/tun/"+t},yd={},mc=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=z2(c),c in yd)return;yd[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":V2,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let fp;const Li=t=>fp=t,pp=Symbol();function cl(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var $r;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})($r||($r={}));function W2(){const t=_h(!0),e=t.run(()=>N({}));let s=[],n=[];const r=zl({install(o){Li(r),r._a=o,o.provide(pp,r),o.config.globalProperties.$pinia=r,n.forEach(i=>s.push(i)),n=[]},use(o){return this._a?s.push(o):n.push(o),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const gp=()=>{};function bd(t,e,s,n=gp){t.push(e);const r=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),n())};return!s&&xh()&&Dg(r),r}function In(t,...e){t.slice().forEach(s=>{s(...e)})}const K2=t=>t(),wd=Symbol(),xa=Symbol();function ul(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],r=t[s];cl(r)&&cl(n)&&t.hasOwnProperty(s)&&!Ye(n)&&!Vs(n)?t[s]=ul(r,n):t[s]=n}return t}const G2=Symbol();function J2(t){return!cl(t)||!Object.prototype.hasOwnProperty.call(t,G2)}const{assign:Ms}=Object;function Y2(t){return!!(Ye(t)&&t.effect)}function X2(t,e,s,n){const{state:r,actions:o,getters:i}=e,a=s.state.value[t];let c;function u(){a||(s.state.value[t]=r?r():{});const d=lv(s.state.value[t]);return Ms(d,o,Object.keys(i||{}).reduce((h,f)=>(h[f]=zl(we(()=>{Li(s);const p=s._s.get(t);return i[f].call(p,p)})),h),{}))}return c=vp(t,u,e,s,n,!0),c}function vp(t,e,s={},n,r,o){let i;const a=Ms({actions:{}},s),c={deep:!0};let u,d,h=[],f=[],p;const g=n.state.value[t];!o&&!g&&(n.state.value[t]={}),N({});let b;function y(A){let w;u=d=!1,typeof A=="function"?(A(n.state.value[t]),w={type:$r.patchFunction,storeId:t,events:p}):(ul(n.state.value[t],A),w={type:$r.patchObject,payload:A,storeId:t,events:p});const O=b=Symbol();Tn().then(()=>{b===O&&(u=!0)}),d=!0,In(h,w,n.state.value[t])}const _=o?function(){const{state:w}=s,O=w?w():{};this.$patch(q=>{Ms(q,O)})}:gp;function C(){i.stop(),h=[],f=[],n._s.delete(t)}const x=(A,w="")=>{if(wd in A)return A[xa]=w,A;const O=function(){Li(n);const q=Array.from(arguments),L=[],U=[];function k(B){L.push(B)}function D(B){U.push(B)}In(f,{args:q,name:O[xa],store:R,after:k,onError:D});let M;try{M=A.apply(this&&this.$id===t?this:R,q)}catch(B){throw In(U,B),B}return M instanceof Promise?M.then(B=>(In(L,B),B)).catch(B=>(In(U,B),Promise.reject(B))):(In(L,M),M)};return O[wd]=!0,O[xa]=w,O},E={_p:n,$id:t,$onAction:bd.bind(null,f),$patch:y,$reset:_,$subscribe(A,w={}){const O=bd(h,A,w.detached,()=>q()),q=i.run(()=>Je(()=>n.state.value[t],L=>{(w.flush==="sync"?d:u)&&A({storeId:t,type:$r.direct,events:p},L)},Ms({},c,w)));return O},$dispose:C},R=yt(E);n._s.set(t,R);const I=(n._a&&n._a.runWithContext||K2)(()=>n._e.run(()=>(i=_h()).run(()=>e({action:x}))));for(const A in I){const w=I[A];if(Ye(w)&&!Y2(w)||Vs(w))o||(g&&J2(w)&&(Ye(w)?w.value=g[A]:ul(w,g[A])),n.state.value[t][A]=w);else if(typeof w=="function"){const O=x(w,A);I[A]=O,a.actions[A]=w}}return Ms(R,I),Ms(Ce(R),I),Object.defineProperty(R,"$state",{get:()=>n.state.value[t],set:A=>{y(w=>{Ms(w,A)})}}),n._p.forEach(A=>{Ms(R,i.run(()=>A({store:R,app:n._a,pinia:n,options:a})))}),g&&o&&s.hydrate&&s.hydrate(R.$state,g),u=!0,d=!0,R}/*! #__NO_SIDE_EFFECTS__ */function yc(t,e,s){let n;const r=typeof e=="function";n=r?s:e;function o(i,a){const c=Bv();return i=i||(c?jt(pp,null):null),i&&Li(i),i=fp,i._s.has(t)||(r?vp(t,e,n,i):X2(t,n,i)),i._s.get(t)}return o.$id=t,o}const Q2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class bc extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Z2 extends bc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _d extends bc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xd extends bc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dl||(dl={}));class e_{constructor(e,{headers:s={},customFetch:n,region:r=dl.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=Q2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fe(this,arguments,void 0,function*(s,n={}){var r;let o,i;try{const{headers:a,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${s}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let b;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(f["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(f["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let y=d;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),d?(y=i.signal,d.addEventListener("abort",()=>i.abort())):y=i.signal);const _=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:b,signal:y}).catch(R=>{throw new Z2(R)}),C=_.headers.get("x-relay-error");if(C&&C==="true")throw new _d(_);if(!_.ok)throw new xd(_);let x=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield _.json():x==="application/octet-stream"||x==="application/pdf"?E=yield _.blob():x==="text/event-stream"?E=_:x==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof xd||a instanceof _d?a.context:void 0}}finally{o&&clearTimeout(o)}})}}function t_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var ct={};const cr=s_(Vb);var _o={},xo={},ko={},Co={},Eo={},So={},kd;function mp(){if(kd)return So;kd=1,Object.defineProperty(So,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return So.default=t,So}var Cd;function yp(){if(Cd)return Eo;Cd=1,Object.defineProperty(Eo,"__esModule",{value:!0});const e=cr.__importDefault(mp());class s{constructor(r){var o,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let p=null,g=null,b=null,y=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const R=await c.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=R:g=JSON.parse(R))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&E&&E.length>1&&(b=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,b=null,y=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{p=JSON.parse(x),Array.isArray(p)&&c.status===404&&(g=[],p=null,y=200,_="OK")}catch{c.status===404&&x===""?(y=204,_="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,y=200,_="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:b,status:y,statusText:_}});return this.shouldThrowOnError||(a=a.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(r,o)}returns(){return this}overrideTypes(){return this}}return Eo.default=s,Eo}var Ed;function bp(){if(Ed)return Co;Ed=1,Object.defineProperty(Co,"__esModule",{value:!0});const e=cr.__importDefault(yp());class s extends e.default{select(r){let o=!1;const i=(r??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${r}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,o,{foreignTable:i,referencedTable:a=i}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(u,`${o-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var d;const h=[r?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Co.default=s,Co}var Sd;function wc(){if(Sd)return ko;Sd=1,Object.defineProperty(ko,"__esModule",{value:!0});const e=cr.__importDefault(bp()),s=new RegExp("[,()]");class n extends e.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(c=>typeof c=="string"&&s.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${u}fts${d}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return ko.default=n,ko}var Td;function wp(){if(Td)return xo;Td=1,Object.defineProperty(xo,"__esModule",{value:!0});const e=cr.__importDefault(wc());class s{constructor(r,{headers:o={},schema:i,fetch:a}){this.url=r,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(r,o){const{head:i=!1,count:a}=o??{},c=i?"HEAD":"GET";let u=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:o,defaultToNull:i=!0}={}){var a;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var o;const i="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return xo.default=s,xo}var Ad;function n_(){if(Ad)return _o;Ad=1,Object.defineProperty(_o,"__esModule",{value:!0});const t=cr,e=t.__importDefault(wp()),s=t.__importDefault(wc());class n{constructor(o,{headers:i={},schema:a,fetch:c}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=c}from(o){const i=new URL(`${this.url}/${o}`);return new e.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${o}`);let p;a||c?(h=a?"HEAD":"GET",Object.entries(i).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{f.searchParams.append(b,y)})):(h="POST",p=i);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new s.default({method:h,url:f,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return _o.default=n,_o}var Id;function r_(){if(Id)return ct;Id=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const t=cr,e=t.__importDefault(n_());ct.PostgrestClient=e.default;const s=t.__importDefault(wp());ct.PostgrestQueryBuilder=s.default;const n=t.__importDefault(wc());ct.PostgrestFilterBuilder=n.default;const r=t.__importDefault(bp());ct.PostgrestTransformBuilder=r.default;const o=t.__importDefault(yp());ct.PostgrestBuilder=o.default;const i=t.__importDefault(mp());return ct.PostgrestError=i.default,ct.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:o.default,PostgrestError:i.default},ct}var _p=r_();const xp=t_(_p),o_=Eg({__proto__:null,default:xp},[_p]),{PostgrestClient:i_,PostgrestQueryBuilder:VO,PostgrestFilterBuilder:zO,PostgrestTransformBuilder:WO,PostgrestBuilder:KO,PostgrestError:GO}=xp||o_;class a_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const l_="2.81.1",c_=`realtime-js/${l_}`,kp="1.0.0",u_="2.0.0",$d=kp,hl=1e4,d_=1e3,h_=100;var hn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hn||(hn={}));var tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tt||(tt={}));var Ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ot||(Ot={}));var fl;(function(t){t.websocket="websocket"})(fl||(fl={}));var fn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fn||(fn={}));class f_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,s){if(this._isArrayBuffer(e.payload))return s(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:s,ref:n,event:r,topic:o,payload:i}=e,a=this.META_LENGTH+s.length+n.length+o.length+r.length,c=new ArrayBuffer(this.HEADER_LENGTH+a);let u=new DataView(c),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,s.length),u.setUint8(d++,n.length),u.setUint8(d++,o.length),u.setUint8(d++,r.length),Array.from(s,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(n,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(o,f=>u.setUint8(d++,f.charCodeAt(0))),Array.from(r,f=>u.setUint8(d++,f.charCodeAt(0)));var h=new Uint8Array(c.byteLength+i.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(i),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,n;const{join_ref:r,ref:o,topic:i}=e,a=e.payload.event,c=(n=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+o.length+i.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,r.length),h.setUint8(f++,o.length),h.setUint8(f++,i.length),h.setUint8(f++,a.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(r,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(o,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>h.setUint8(f++,g.charCodeAt(0)));var p=new Uint8Array(d.byteLength+c.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(c),d.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var s,n;const{join_ref:r,ref:o,topic:i}=e,a=e.payload.event,c=(n=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+o.length+i.length+a.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,r.length),p.setUint8(g++,o.length),p.setUint8(g++,i.length),p.setUint8(g++,a.length),p.setUint8(g++,this.JSON_ENCODING),Array.from(r,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(i,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0)));var b=new Uint8Array(f.byteLength+d.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(d),f.byteLength),b.buffer}decode(e,s){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return s(n)}if(typeof e=="string"){const n=JSON.parse(e),[r,o,i,a,c]=n;return s({join_ref:r,ref:o,topic:i,event:a,payload:c})}return s({})}_binaryDecode(e){const s=new DataView(e),n=s.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,s,r);case this.KINDS.reply:return this._decodeReply(e,s,r);case this.KINDS.broadcast:return this._decodeBroadcast(e,s,r);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,r)}}_decodePush(e,s,n){const r=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(e.slice(a,a+r));a=a+r;const u=n.decode(e.slice(a,a+o));a=a+o;const d=n.decode(e.slice(a,a+i));a=a+i;const h=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:h}}_decodeReply(e,s,n){const r=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3),a=s.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(c,c+r));c=c+r;const d=n.decode(e.slice(c,c+o));c=c+o;const h=n.decode(e.slice(c,c+i));c=c+i;const f=n.decode(e.slice(c,c+a));c=c+a;const p=JSON.parse(n.decode(e.slice(c,e.byteLength))),g={status:f,response:p};return{join_ref:u,ref:d,topic:h,event:Ot.reply,payload:g}}_decodeBroadcast(e,s,n){const r=s.getUint8(1),o=s.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+r));i=i+r;const c=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:c,payload:u}}_decodeUserBroadcast(e,s,n){const r=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3),a=s.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+r));c=c+r;const d=n.decode(e.slice(c,c+o));c=c+o;const h=n.decode(e.slice(c,c+i));c=c+i;const f=e.slice(c,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST,event:d,payload:p};return i>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class Cp{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(He||(He={}));const Rd=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=p_(i,t,e,r),o),{}):{}},p_=(t,e,s,n)=>{const r=e.find(a=>a.name===t),o=r==null?void 0:r.type,i=s[t];return o&&!n.includes(o)?Ep(o,i):pl(i)},Ep=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return y_(e,s)}switch(t){case He.bool:return g_(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return v_(e);case He.json:case He.jsonb:return m_(e);case He.timestamp:return b_(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return pl(e);default:return pl(e)}},pl=t=>t,g_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},v_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},m_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},y_=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,s);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Ep(e,a))}return t},b_=t=>typeof t=="string"?t.replace(" ","T"):t,Sp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ka{constructor(e,s,n={},r=hl){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pd||(Pd={}));class Rr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rr.syncState(this.state,r,o,i),this.pendingDiffs.forEach(c=>{this.state=Rr.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Rr.syncDiff(this.state,r,o,i),a())}),this.onJoin((r,o,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:i})}),this.onLeave((r,o,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const o=this.cloneDeep(e),i=this.transformState(s),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),b=h.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(a[u]=g),b.length>0&&(c[u]=b)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},n,r)}static syncDiff(e,s,n,r){const{joins:o,leaves:i}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,d,c)}),this.map(i,(a,c)=>{let u=e[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,c),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Od;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Od||(Od={}));var Pr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pr||(Pr={}));var ps;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ps||(ps={}));class _c{constructor(e,s={config:{}},n){var r,o;if(this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ka(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new Cp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Rr(this),this.broadcastEndpointURL=Sp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var n,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&r!==void 0?r:[],d=!!this.bindings[Pr.PRESENCE]&&this.bindings[Pr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ps.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ps.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(ps.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(g=b==null?void 0:b.length)!==null&&g!==void 0?g:0,_=[];for(let C=0;C<y;C++){const x=b[C],{filter:{event:E,schema:R,table:S,filter:I}}=x,A=p&&p[C];if(A&&A.event===E&&A.schema===R&&A.table===S&&A.filter===I)_.push(Object.assign(Object.assign({},x),{id:A.id}));else{this.unsubscribe(),this.state=tt.errored,e==null||e(ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ps.SUBSCRIBED);return}}).receive("error",p=>{this.state=tt.errored,e==null||e(ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===tt.joined&&e===Pr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async httpSend(e,s,n={}){var r;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ka(this,Ot.leave,{},e),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const r=new AbortController,o=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(o),i}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ka(this,e,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>h_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Ot;if(n&&[a,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var g,b,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(b=p.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var g,b,y,_,C,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const E=p.id,R=(g=p.filter)===null||g===void 0?void 0:g.event;return E&&((b=s.ids)===null||b===void 0?void 0:b.includes(E))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(C=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return E==="*"||E===((x=s==null?void 0:s.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:b,table:y,commit_timestamp:_,type:C,errors:x}=g;f=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:_,eventType:C,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),o={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&_c.isEqual(r.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ot.close,{},e)}_onError(e){this._on(Ot.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Rd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Rd(e.columns,e.old_record)),s}}const Ca=()=>{},To={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w_=[1e3,2e3,5e3,1e4],__=1e4,x_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k_{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hl,this.transport=null,this.heartbeatIntervalMs=To.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ca,this.ref=0,this.reconnectTimer=null,this.vsn=$d,this.logger=Ca,this.conn=null,this.sendBuffer=[],this.serializer=new f_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...o)=>r(...o):(...o)=>fetch(...o),!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${fl.websocket}`,this.httpEndpoint=Sp(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=a_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hn.connecting:return fn.Connecting;case hn.open:return fn.Open;case hn.closing:return fn.Closing;default:return fn.Closed}}isConnected(){return this.connectionState()===fn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===n);if(r)return r;{const o=new _c(`realtime:${e}`,s,this);return this.channels.push(o),o}}push(e){const{topic:s,event:n,payload:r,ref:o}=e,i=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${s} ${n} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(d_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},To.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:o,ref:i}=s,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${r} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(r,o,i)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===hn.open||this.conn.readyState===hn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ot.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([x_],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const r={access_token:s,version:c_};s&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(Ot.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Cp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},To.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,r,o,i,a,c,u,d,h,f,p;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:hl,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:To.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ca,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:$d,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>w_[g-1]||__,this.vsn){case kp:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,b)=>b(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,b)=>b(JSON.parse(g));break;case u_:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class xc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class C_ extends xc{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gl extends xc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const kc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E_=()=>Response,vl=t=>{if(Array.isArray(t))return t.map(s=>vl(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=vl(n)}),e},S_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ea=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},T_=(t,e,s)=>fe(void 0,void 0,void 0,function*(){const n=yield E_();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{const o=t.status||500,i=(r==null?void 0:r.statusCode)||o+"";e(new C_(Ea(r),o,i))}).catch(r=>{e(new gl(Ea(r),r))}):e(new gl(Ea(t),t))}),A_=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?r:(S_(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n)):r.body=n,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),s))};function ao(t,e,s,n,r,o){return fe(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(s,A_(e,n,r,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>T_(c,a,n))})})}function Wr(t,e,s,n){return fe(this,void 0,void 0,function*(){return ao(t,"GET",e,s,n)})}function Vt(t,e,s,n,r){return fe(this,void 0,void 0,function*(){return ao(t,"POST",e,n,r,s)})}function ml(t,e,s,n,r){return fe(this,void 0,void 0,function*(){return ao(t,"PUT",e,n,r,s)})}function I_(t,e,s,n){return fe(this,void 0,void 0,function*(){return ao(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Cc(t,e,s,n,r){return fe(this,void 0,void 0,function*(){return ao(t,"DELETE",e,n,r,s)})}class $_{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}})}}var Tp;class R_{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[Tp]="BlobDownloadBuilder",this.promise=null}asStream(){return new $_(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}})}}Tp=Symbol.toStringTag;const P_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Md={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O_{constructor(e,s={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=n,this.fetch=kc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,n,r){return fe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Md),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield(e=="PUT"?ml:Vt)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}upload(e,s,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return fe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:Md.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield ml(this.fetch,a.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const o=yield Vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new xc("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}update(e,s,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return fe(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}copy(e,s,n){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Vt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return fe(this,void 0,void 0,function*(){try{const r=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}download(e,s){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),c=()=>Wr(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new R_(c,this.shouldThrowOnError)}info(e){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Wr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:vl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}exists(e){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield I_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n)&&n instanceof gl){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&r.push(o);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Cc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}list(e,s,n){return fe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},P_),s),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}listV2(e,s){return fe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Ap="2.81.1",Ip={"X-Client-Info":`storage-js/${Ap}`};class M_{constructor(e,s={},n,r){this.shouldThrowOnError=!1;const o=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),s),this.fetch=kc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return fe(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(e);return{data:yield Wr(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}getBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}createBucket(e){return fe(this,arguments,void 0,function*(s,n={public:!1}){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return fe(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}emptyBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Cc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(e){const s={};return e&&("limit"in e&&(s.limit=String(e.limit)),"offset"in e&&(s.offset=String(e.offset)),e.search&&(s.search=e.search),e.sortColumn&&(s.sortColumn=e.sortColumn),e.sortOrder&&(s.sortOrder=e.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class j_{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),s),this.fetch=kc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}listBuckets(e){return fe(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&s.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&s.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&s.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&s.set("sortOrder",e.sortOrder),e!=null&&e.search&&s.set("search",e.search);const n=s.toString(),r=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Wr(this.fetch,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Cc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}}const Ec={"X-Client-Info":`storage-js/${Ap}`,"Content-Type":"application/json"};class $p extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Tt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sa extends $p{constructor(e,s,n){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N_ extends $p{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var jd;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jd||(jd={}));const Sc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),L_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Nd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B_=(t,e,s)=>fe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(s!=null&&s.noResolveJson)){const r=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new Sa(Nd(i),r,a))}).catch(()=>{const i=r+"",a=o.statusText||`HTTP ${r} error`;e(new Sa(a,r,i))});else{const i=r+"",a=o.statusText||`HTTP ${r} error`;e(new Sa(a,r,i))}}else e(new N_(Nd(t),t))}),D_=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(L_(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n)):r.body=n,Object.assign(Object.assign({},r),s)):r};function U_(t,e,s,n,r,o){return fe(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(s,D_(e,n,r,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>B_(c,a,n))})})}function At(t,e,s,n,r){return fe(this,void 0,void 0,function*(){return U_(t,"POST",e,n,r,s)})}class H_{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ec),s),this.fetch=Sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield At(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}getIndex(e,s){return fe(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}listIndexes(e){return fe(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return fe(this,void 0,void 0,function*(){try{return{data:(yield At(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}}class F_{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ec),s),this.fetch=Sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield At(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}getVectors(e){return fe(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}listVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield At(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}queryVectors(e){return fe(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}deleteVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield At(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}}class q_{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ec),s),this.fetch=Sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield At(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}getBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}listBuckets(){return fe(this,arguments,void 0,function*(e={}){try{return{data:yield At(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield At(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tt(s))return{data:null,error:s};throw s}})}}class V_ extends q_{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new z_(this.url,this.headers,e,this.fetch)}}class z_ extends H_{constructor(e,s,n,r){super(e,s,r),this.vectorBucketName=n}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return fe(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return fe(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return fe(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return fe(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new W_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class W_ extends F_{constructor(e,s,n,r,o){super(e,s,o),this.vectorBucketName=n,this.indexName=r}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return fe(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return fe(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return fe(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return fe(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return fe(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class K_ extends M_{constructor(e,s={},n,r){super(e,s,n,r)}from(e){return new O_(this.url,this.headers,e,this.fetch)}get vectors(){return new V_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new j_(this.url+"/iceberg",this.headers,this.fetch)}}const G_="2.81.1";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const J_={"X-Client-Info":`supabase-js-${yr}/${G_}`},Y_={headers:J_},X_={schema:"public"},Q_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z_={},ex=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tx=()=>Headers,sx=(t,e,s)=>{const n=ex(s),r=tx();return async(o,i)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let u=new r(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))}};function nx(t){return t.endsWith("/")?t:t+"/"}function rx(t,e){var s,n;const{db:r,auth:o,realtime:i,global:a}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function ox(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rp="2.81.1",Ln=30*1e3,yl=3,Ta=yl*Ln,ix="http://localhost:9999",ax="supabase.auth.token",lx={"X-Client-Info":`gotrue-js/${Rp}`},bl="X-Supabase-Api-Version",Pp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ux=10*60*1e3;class Kr extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dx extends Kr{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function hx(t){return ve(t)&&t.name==="AuthApiError"}class pn extends Kr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class en extends Kr{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class Ht extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fx(t){return ve(t)&&t.name==="AuthSessionMissingError"}class $n extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ao extends en{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Io extends en{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function px(t){return ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ld extends en{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wl extends en{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Aa(t){return ve(t)&&t.name==="AuthRetryableFetchError"}class Bd extends en{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class _l extends en{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dd=` 	
\r=`.split(""),gx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dd.length;e+=1)t[Dd[e].charCodeAt(0)]=-2;for(let e=0;e<pi.length;e+=1)t[pi[e].charCodeAt(0)]=e;return t})();function Ud(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(pi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(pi[n]),e.queuedBits-=6}}function Op(t,e,s){const n=gx[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hd(t){const e=[],s=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=i=>{yx(i,n,s)};for(let i=0;i<t.length;i+=1)Op(t.charCodeAt(i),r,o);return e.join("")}function vx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mx(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}vx(n,e)}}function yx(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Wn(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Op(t.charCodeAt(r),s,n);return new Uint8Array(e)}function bx(t){const e=[];return mx(t,s=>e.push(s)),new Uint8Array(e)}function vn(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};return t.forEach(r=>Ud(r,s,n)),Ud(null,s,n),e.join("")}function wx(t){return Math.round(Date.now()/1e3)+t}function _x(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},Mp=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function xx(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const jp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bn=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},an=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ps=async(t,e)=>{await t.removeItem(e)};class Bi{constructor(){this.promise=new Bi.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Bi.promiseConstructor=Promise;function Ia(t){const e=t.split(".");if(e.length!==3)throw new _l("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!cx.test(e[n]))throw new _l("JWT not in base64url format");return{header:JSON.parse(Hd(e[0])),payload:JSON.parse(Hd(e[1])),signature:Wn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Cx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ex(t,e){return new Promise((n,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){r(i);return}}})()})}function Sx(t){return("0"+t.toString(16)).substr(-2)}function Tx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let o=0;o<56;o++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Sx).join("")}async function Ax(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function Ix(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Ax(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(t,e,s=!1){const n=Tx();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Bn(t,`${e}-code-verifier`,r);const o=await Ix(n);return[o,n===o?"plain":"s256"]}const $x=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rx(t){const e=t.headers.get(bl);if(!e||!e.match($x))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Px(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ox(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(t){if(!Mx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $a(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jx(t,e){return new Proxy(t,{get:(s,n,r)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,n,r)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,n,r)}})}function Fd(t){return JSON.parse(JSON.stringify(t))}const un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nx=[502,503,504];async function qd(t){var e;if(!kx(t))throw new wl(un(t),0);if(Nx.includes(t.status))throw new wl(un(t),t.status);let s;try{s=await t.json()}catch(o){throw new pn(un(o),o)}let n;const r=Rx(t);if(r&&r.getTime()>=Pp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Bd(un(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Bd(un(s),t.status,s.weak_password.reasons);throw new dx(un(s),t.status||500,n)}const Lx=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function _e(t,e,s,n){var r;const o=Object.assign({},n==null?void 0:n.headers);o[bl]||(o[bl]=Pp["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Bx(t,e,s+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Bx(t,e,s,n,r,o){const i=Lx(e,n,r,o);let a;try{a=await t(s,Object.assign({},i))}catch(c){throw console.error(c),new wl(un(c),0)}if(a.ok||await qd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await qd(c)}}function Ft(t){var e;let s=null;Hx(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=wx(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Vd(t){const e=Ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Dx(t){return{data:t,error:null}}function Ux(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:o}=t,i=As(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function zd(t){return t}function Hx(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ra=["global","local","others"];class Fx{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=jp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Ra[0]){if(Ra.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ra.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Fs})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=As(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Ux,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ve(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fs})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:zd});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Pn(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fs})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Pn(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Fs})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){Pn(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Fs})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Pn(e.userId);try{const{data:s,error:n}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Pn(e.userId),Pn(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,n,r,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:zd});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}}function Wd(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const On={debug:!!(globalThis&&Mp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Np extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qx extends Np{}async function Vx(t,e,s){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),On.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{On.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw On.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(On.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function zx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Lp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wx(t){return parseInt(t,16)}function Kx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Gx(t){var e;const{chainId:s,domain:n,expirationTime:r,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Lp(t.address),g=d?`${d}://${n}`:n,b=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${b}`;let _=`URI: ${h}
Version: ${f}
Chain ID: ${s}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(r&&(_+=`
Expiration Time: ${r.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),c&&(_+=`
Request ID: ${c}`),u){let C=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);C+=`
- ${x}`}_+=C}return`${y}
${_}`}class Qe extends Error{constructor({message:e,code:s,cause:n,name:r}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=r??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=s}}class gi extends Qe{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Jx({error:t,options:e}){var s,n,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Bp(i)){if(o.rp.id!==i)return new Qe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Yx({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Qe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Bp(n)){if(s.rpId!==n)return new Qe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Xx{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Qx=new Xx;function Zx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:n}=t,r=As(t,["challenge","user","excludeCredentials"]),o=Wn(e).buffer,i=Object.assign(Object.assign({},s),{id:Wn(s.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Wn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function e4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,n=As(t,["challenge","allowCredentials"]),r=Wn(e).buffer,o=Object.assign(Object.assign({},n),{challenge:r});if(s&&s.length>0){o.allowCredentials=new Array(s.length);for(let i=0;i<s.length;i++){const a=s[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Wn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function t4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:vn(new Uint8Array(t.response.attestationObject)),clientDataJSON:vn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function s4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,n=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vn(new Uint8Array(r.authenticatorData)),clientDataJSON:vn(new Uint8Array(r.clientDataJSON)),signature:vn(new Uint8Array(r.signature)),userHandle:r.userHandle?vn(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Kd(){var t,e;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function n4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gi("Browser returned unexpected credential type",e)}:{data:null,error:new gi("Empty credential response",e)}}catch(e){return{data:null,error:Jx({error:e,options:t})}}}async function r4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gi("Browser returned unexpected credential type",e)}:{data:null,error:new gi("Empty credential response",e)}}catch(e){return{data:null,error:Yx({error:e,options:t})}}}const o4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},i4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vi(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),s=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),n={};for(const r of t)if(r)for(const o in r){const i=r[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(s(i))n[o]=i;else if(e(i)){const a=n[o];e(a)?n[o]=vi(a,i):n[o]=vi(i)}else n[o]=i}return n}function a4(t,e){return vi(o4,t,e||{})}function l4(t,e){return vi(i4,t,e||{})}class c4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:n,signal:r},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!i)return{data:null,error:a};const c=r??Qx.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=a4(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await n4({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=l4(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await r4(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return ve(i)?{data:null,error:i}:{data:null,error:new pn("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!s)return{data:null,error:new Kr("rpId is required for WebAuthn authentication")};try{if(!Kd())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:n},signal:r},{request:o});if(!i)return{data:null,error:a};const{webauthn:c}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:c.type,rpId:s,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return ve(i)?{data:null,error:i}:{data:null,error:new pn("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!s)return{data:null,error:new Kr("rpId is required for WebAuthn registration")};try{if(!Kd())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:r},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:s,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return ve(i)?{data:null,error:i}:{data:null,error:new pn("Unexpected error in register",i)}}}}zx();const u4={url:ix,storageKey:ax,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Gd(t,e,s){return await s()}const Mn={};class Gr{get jwks(){var e,s;return(s=(e=Mn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Mn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{cachedAt:e})}constructor(e){var s,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},u4),e);if(this.storageKey=o.storageKey,this.instanceID=(s=Gr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Gr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ot()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Fx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=jp(o.fetch),this.lock=o.lock||Gd,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Vx:this.lock=Gd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Mp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wd(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Wd(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},n="none";if(ot()&&(s=xx(window.location.href),this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce")),ot()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:o}=await this._getSessionFromURL(s,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),px(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ve(s)?this._returnResult({error:s}):this._returnResult({error:new pn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ft}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(ve(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var s,n,r;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Rn(this.storage,this.storageKey)),o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Ft})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ft})}else throw new Ao("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(ve(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let s;if("email"in e){const{email:o,password:i,options:a}=e;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vd})}else if("phone"in e){const{phone:o,password:i,options:a}=e;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vd})}else throw new Ao("You must provide either an email or phone number and a password");const{data:n,error:r}=s;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const o=new $n;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,n,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,r,o,i,a,c,u,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:b,wallet:y,statement:_,options:C}=e;let x;if(ot())if(typeof y=="object")x=y;else{const w=window;if("ethereum"in w&&typeof w.ethereum=="object"&&"request"in w.ethereum&&typeof w.ethereum.request=="function")x=w.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const E=new URL((s=C==null?void 0:C.url)!==null&&s!==void 0?s:window.location.href),R=await x.request({method:"eth_requestAccounts"}).then(w=>w).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Lp(R[0]);let I=(n=C==null?void 0:C.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const w=await x.request({method:"eth_chainId"});I=Wx(w)}const A={domain:E.host,address:S,statement:_,uri:E.href,version:"1",chainId:I,nonce:(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(i=(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Gx(A),g=await x.request({method:"personal_sign",params:[Kx(p),S]})}try{const{data:b,error:y}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ft});if(y)throw y;if(!b||!b.session||!b.user){const _=new $n;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ve(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var s,n,r,o,i,a,c,u,d,h,f,p;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:y,wallet:_,statement:C,options:x}=e;let E;if(ot())if(typeof _=="object")E=_;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))E=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const R=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in E&&E.signIn){const S=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),C?{statement:C}:null));let I;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")I=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)I=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)g=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),b=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${R.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(r=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const S=await E.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:y,error:_}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:vn(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ft});if(_)throw _;if(!y||!y.session||!y.user){const C=new $n;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(ve(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const s=await an(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:o,error:i}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ft});if(await Ps(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new $n;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:i})}catch(o){if(ve(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:o,nonce:i}=e,a=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ft}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new $n;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(s){if(ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,n,r,o,i;try{if("email"in e){const{email:a,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Rn(this.storage,this.storageKey));const{error:h}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:d}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ao("You must provide either an email or phone number.")}catch(a){if(ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var s,n;try{let r,o;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:Ft});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var s,n,r,o,i;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Rn(this.storage,this.storageKey));const u=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:Dx});return!((o=u.data)===null||o===void 0)&&o.url&&ot()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(ve(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Ht;const{error:r}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(ve(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:o}=e,{error:i}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in e){const{phone:n,type:r,options:o}=e,{data:i,error:a}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Ao("You must provide either an email or phone number and a type")}catch(s){if(ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await an(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ta:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await an(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=$a()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};e.user=jx(e.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fs}):await this._useSession(async s=>{var n,r,o;const{data:i,error:a}=s;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Fs})})}catch(s){if(ve(s))return fx(s)&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:o}=n;if(o)throw o;if(!r.session)throw new Ht;const i=r.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Rn(this.storage,this.storageKey));const{data:u,error:d}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:Fs});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const s=Date.now()/1e3;let n=s,r=!0,o=null;const{payload:i}=Ia(e.access_token);if(i.exp&&(n=i.exp,r=n<=s),r){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(s){if(ve(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:i,error:a}=s;if(a)throw a;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ht;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!ot())throw new Io("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Io(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ld("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Io("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ld("No code detected.");const{data:C,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=e;if(!o||!a||!i||!u)throw new Io("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:b,error:y}=await this._getUser(o);if(y)throw y;const _={provider_token:n,provider_refresh_token:r,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await an(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:o}=s;if(o)return this._returnResult({error:o});const i=(n=r.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(hx(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=_x(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:o},error:i}=s;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Rn(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(ve(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(ve(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:n,error:r}=await this._useSession(async o=>{var i,a,c,u,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return ot()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ve(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var n;try{const{error:r,data:{session:o}}=s;if(r)throw r;const{options:i,provider:a,token:c,access_token:u,nonce:d}=e,h=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ft}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new $n}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:o,error:i}=s;if(i)throw i;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(ve(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Ex(async r=>(r>0&&await Cx(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ft})),(r,o)=>{const i=200*Math.pow(2,r);return o&&Aa(o)&&Date.now()+i-n<Ln})}catch(n){if(this._debug(s,"error",n),ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),ot()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await an(this.storage,this.storageKey);if(r&&this.userStorage){let i=await an(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:r.user},await Bn(this.userStorage,this.storageKey+"-user",i)),r.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:$a()}else if(r&&!r.user&&!r.user){const i=await an(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(r.user=i.user,await Ps(this.storage,this.storageKey+"-user"),await Bn(this.storage,this.storageKey,r)):r.user=$a()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ta;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ta}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Aa(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(r.access_token);!a&&(i!=null&&i.user)?(r.user=i.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Bi;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Ht;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(r,"error",o),ve(o)){const i={data:null,error:o};return Aa(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Bn(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const o=Fd(r);await Bn(this.storage,this.storageKey,o)}else{const r=Fd(s);await Bn(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ps(this.storage,this.storageKey),await Ps(this.storage,this.storageKey+"-code-verifier"),await Ps(this.storage,this.storageKey+"-user"),this.userStorage&&await Ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ln}ms, refresh threshold is ${yl} ticks`),r<=yl&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Np)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Rn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);r.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:o}=s;return o?this._returnResult({data:null,error:o}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ve(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:o,error:i}=s;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(s){if(ve(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:o}=s;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?t4(e.webauthn.credential_response):s4(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(s){if(ve(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:o}=s;if(o)return this._returnResult({data:null,error:o});const i=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Zx(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:e4(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ve(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ia(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((s=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:n},error:r}=s;return r?this._returnResult({data:null,error:r}):n?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(s){if(ve(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new Ht});const i=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ot()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,s){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new Ht});const i=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ot()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+ux>r)return n;const{data:o,error:i}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,n=o.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:r,payload:o,signature:i,raw:{header:a,payload:c}}=Ia(n);s!=null&&s.allowExpired||Px(o.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:r,signature:i},error:null}}const d=Ox(r.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,bx(`${a}.${c}`)))throw new _l("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}}Gr.nextInstanceID={};const d4=Gr;class h4 extends d4{constructor(e){super(e)}}class f4{constructor(e,s,n){var r,o,i;this.supabaseUrl=e,this.supabaseKey=s;const a=ox(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:X_,realtime:Z_,auth:Object.assign(Object.assign({},Q_),{storageKey:c}),global:Y_},d=rx(n??{},u);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=sx(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new i_(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new K_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new e_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:o,storageKey:i,flowType:a,lock:c,debug:u,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h4({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:o,flowType:a,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new k_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const p4=(t,e,s)=>new f4(t,e,s);function g4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}g4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v4="https://hganinmpourhfimksydd.supabase.co",m4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnYW5pbm1wb3VyaGZpbWtzeWRkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2Njk3NDAsImV4cCI6MjA3ODI0NTc0MH0.L0-LLStOhod_M4kKOQGGDJaq_BPAZkyS0af4aiZL8_U",Di=p4(v4,m4),lo=yc("category",{state:()=>({categories:[],loading:!1,error:null}),actions:{async getCategory(){this.loading=!0,this.error=null,console.log("CategoryStore: Bt u fetch genres t bng movies...");try{const{data:t,error:e}=await Di.from("movies").select("genres");if(e)throw e;let s=new Set;t&&t.forEach(n=>{n.genres&&Array.isArray(n.genres)&&n.genres.forEach(r=>{typeof r=="string"&&r.trim()!==""&&s.add(r.trim())})}),this.categories=Array.from(s).map(n=>({name:n,slug:n.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((n,r)=>n.name.localeCompare(r.name)),console.log("CategoryStore: Genres fetched thnh cng (t bng movies). S lng:",this.categories.length,"D liu:",this.categories)}catch(t){this.error=t.message,console.error("CategoryStore: Li khi fetch genres (t bng movies):",t.message)}finally{this.loading=!1,console.log("CategoryStore: Kt thc fetch genres. Loading:",this.loading)}}},getters:{getAllCategories:t=>t.categories,getLoading:t=>t.loading,getError:t=>t.error}});function Dp(t,e){return function(){return t.apply(e,arguments)}}const{toString:y4}=Object.prototype,{getPrototypeOf:Tc}=Object,{iterator:Ui,toStringTag:Up}=Symbol,Hi=(t=>e=>{const s=y4.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=t=>(t=t.toLowerCase(),e=>Hi(e)===t),Fi=t=>e=>typeof e===t,{isArray:ur}=Array,Jr=Fi("undefined");function b4(t){return t!==null&&!Jr(t)&&t.constructor!==null&&!Jr(t.constructor)&&xt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hp=Yt("ArrayBuffer");function w4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Hp(t.buffer),e}const _4=Fi("string"),xt=Fi("function"),Fp=Fi("number"),qi=t=>t!==null&&typeof t=="object",x4=t=>t===!0||t===!1,Fo=t=>{if(Hi(t)!=="object")return!1;const e=Tc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Up in t)&&!(Ui in t)},k4=Yt("Date"),C4=Yt("File"),E4=Yt("Blob"),S4=Yt("FileList"),T4=t=>qi(t)&&xt(t.pipe),A4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xt(t.append)&&((e=Hi(t))==="formdata"||e==="object"&&xt(t.toString)&&t.toString()==="[object FormData]"))},I4=Yt("URLSearchParams"),[$4,R4,P4,O4]=["ReadableStream","Request","Response","Headers"].map(Yt),M4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function co(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),ur(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const o=s?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(n=0;n<i;n++)a=o[n],e.call(null,t[a],a,t)}}function qp(t,e){e=e.toLowerCase();const s=Object.keys(t);let n=s.length,r;for(;n-- >0;)if(r=s[n],e===r.toLowerCase())return r;return null}const mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vp=t=>!Jr(t)&&t!==mn;function xl(){const{caseless:t}=Vp(this)&&this||{},e={},s=(n,r)=>{const o=t&&qp(e,r)||r;Fo(e[o])&&Fo(n)?e[o]=xl(e[o],n):Fo(n)?e[o]=xl({},n):ur(n)?e[o]=n.slice():e[o]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&co(arguments[n],s);return e}const j4=(t,e,s,{allOwnKeys:n}={})=>(co(e,(r,o)=>{s&&xt(r)?t[o]=Dp(r,s):t[o]=r},{allOwnKeys:n}),t),N4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),L4=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},B4=(t,e,s,n)=>{let r,o,i;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!n||n(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=s!==!1&&Tc(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},D4=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},U4=t=>{if(!t)return null;if(ur(t))return t;let e=t.length;if(!Fp(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},H4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Tc(Uint8Array)),F4=(t,e)=>{const n=(t&&t[Ui]).call(t);let r;for(;(r=n.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},q4=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},V4=Yt("HTMLFormElement"),z4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),Jd=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),W4=Yt("RegExp"),zp=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};co(s,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(n[o]=i||r)}),Object.defineProperties(t,n)},K4=t=>{zp(t,(e,s)=>{if(xt(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(xt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},G4=(t,e)=>{const s={},n=r=>{r.forEach(o=>{s[o]=!0})};return ur(t)?n(t):n(String(t).split(e)),s},J4=()=>{},Y4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function X4(t){return!!(t&&xt(t.append)&&t[Up]==="FormData"&&t[Ui])}const Q4=t=>{const e=new Array(10),s=(n,r)=>{if(qi(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;const o=ur(n)?[]:{};return co(n,(i,a)=>{const c=s(i,r+1);!Jr(c)&&(o[a]=c)}),e[r]=void 0,o}}return n};return s(t,0)},Z4=Yt("AsyncFunction"),ek=t=>t&&(qi(t)||xt(t))&&xt(t.then)&&xt(t.catch),Wp=((t,e)=>t?setImmediate:e?((s,n)=>(mn.addEventListener("message",({source:r,data:o})=>{r===mn&&o===s&&n.length&&n.shift()()},!1),r=>{n.push(r),mn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",xt(mn.postMessage)),tk=typeof queueMicrotask<"u"?queueMicrotask.bind(mn):typeof process<"u"&&process.nextTick||Wp,sk=t=>t!=null&&xt(t[Ui]),V={isArray:ur,isArrayBuffer:Hp,isBuffer:b4,isFormData:A4,isArrayBufferView:w4,isString:_4,isNumber:Fp,isBoolean:x4,isObject:qi,isPlainObject:Fo,isReadableStream:$4,isRequest:R4,isResponse:P4,isHeaders:O4,isUndefined:Jr,isDate:k4,isFile:C4,isBlob:E4,isRegExp:W4,isFunction:xt,isStream:T4,isURLSearchParams:I4,isTypedArray:H4,isFileList:S4,forEach:co,merge:xl,extend:j4,trim:M4,stripBOM:N4,inherits:L4,toFlatObject:B4,kindOf:Hi,kindOfTest:Yt,endsWith:D4,toArray:U4,forEachEntry:F4,matchAll:q4,isHTMLForm:V4,hasOwnProperty:Jd,hasOwnProp:Jd,reduceDescriptors:zp,freezeMethods:K4,toObjectSet:G4,toCamelCase:z4,noop:J4,toFiniteNumber:Y4,findKey:qp,global:mn,isContextDefined:Vp,isSpecCompliantForm:X4,toJSONObject:Q4,isAsyncFn:Z4,isThenable:ek,setImmediate:Wp,asap:tk,isIterable:sk};function Te(t,e,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}V.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Kp=Te.prototype,Gp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Gp[t]={value:t}});Object.defineProperties(Te,Gp);Object.defineProperty(Kp,"isAxiosError",{value:!0});Te.from=(t,e,s,n,r,o)=>{const i=Object.create(Kp);return V.toFlatObject(t,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Te.call(i,t.message,e,s,n,r),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const nk=null;function kl(t){return V.isPlainObject(t)||V.isArray(t)}function Jp(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Yd(t,e,s){return t?t.concat(e).map(function(r,o){return r=Jp(r),!s&&o?"["+r+"]":r}).join(s?".":""):e}function rk(t){return V.isArray(t)&&!t.some(kl)}const ok=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function Vi(t,e,s){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=V.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!V.isUndefined(y[b])});const n=s.metaTokens,r=s.visitor||d,o=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(r))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(V.isDate(g))return g.toISOString();if(!c&&V.isBlob(g))throw new Te("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(g)||V.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,b,y){let _=g;if(g&&!y&&typeof g=="object"){if(V.endsWith(b,"{}"))b=n?b:b.slice(0,-2),g=JSON.stringify(g);else if(V.isArray(g)&&rk(g)||(V.isFileList(g)||V.endsWith(b,"[]"))&&(_=V.toArray(g)))return b=Jp(b),_.forEach(function(x,E){!(V.isUndefined(x)||x===null)&&e.append(i===!0?Yd([b],E,o):i===null?b:b+"[]",u(x))}),!1}return kl(g)?!0:(e.append(Yd(y,b,o),u(g)),!1)}const h=[],f=Object.assign(ok,{defaultVisitor:d,convertValue:u,isVisitable:kl});function p(g,b){if(!V.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(g),V.forEach(g,function(_,C){(!(V.isUndefined(_)||_===null)&&r.call(e,_,V.isString(C)?C.trim():C,b,f))===!0&&p(_,b?b.concat(C):[C])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Xd(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ac(t,e){this._pairs=[],t&&Vi(t,this,e)}const Yp=Ac.prototype;Yp.append=function(e,s){this._pairs.push([e,s])};Yp.toString=function(e){const s=e?function(n){return e.call(this,n,Xd)}:Xd;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function ik(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xp(t,e,s){if(!e)return t;const n=s&&s.encode||ik;V.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let o;if(r?o=r(e,s):o=V.isURLSearchParams(e)?e.toString():new Ac(e,s).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Qd{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Qp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ak=typeof URLSearchParams<"u"?URLSearchParams:Ac,lk=typeof FormData<"u"?FormData:null,ck=typeof Blob<"u"?Blob:null,uk={isBrowser:!0,classes:{URLSearchParams:ak,FormData:lk,Blob:ck},protocols:["http","https","file","blob","url","data"]},Ic=typeof window<"u"&&typeof document<"u",Cl=typeof navigator=="object"&&navigator||void 0,dk=Ic&&(!Cl||["ReactNative","NativeScript","NS"].indexOf(Cl.product)<0),hk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fk=Ic&&window.location.href||"http://localhost",pk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ic,hasStandardBrowserEnv:dk,hasStandardBrowserWebWorkerEnv:hk,navigator:Cl,origin:fk},Symbol.toStringTag,{value:"Module"})),ht={...pk,...uk};function gk(t,e){return Vi(t,new ht.classes.URLSearchParams,Object.assign({visitor:function(s,n,r,o){return ht.isNode&&V.isBuffer(s)?(this.append(n,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function vk(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mk(t){const e={},s=Object.keys(t);let n;const r=s.length;let o;for(n=0;n<r;n++)o=s[n],e[o]=t[o];return e}function Zp(t){function e(s,n,r,o){let i=s[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=s.length;return i=!i&&V.isArray(r)?r.length:i,c?(V.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):((!r[i]||!V.isObject(r[i]))&&(r[i]=[]),e(s,n,r[i],o)&&V.isArray(r[i])&&(r[i]=mk(r[i])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const s={};return V.forEachEntry(t,(n,r)=>{e(vk(n),r,s,0)}),s}return null}function yk(t,e,s){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const uo={transitional:Qp,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,o=V.isObject(e);if(o&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return r?JSON.stringify(Zp(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return gk(e,this.formSerializer).toString();if((a=V.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Vi(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||r?(s.setContentType("application/json",!1),yk(e)):e}],transformResponse:[function(e){const s=this.transitional||uo.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(n&&!this.responseType||r)){const i=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Te.from(a,Te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{uo.headers[t]={}});const bk=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wk=t=>{const e={};let s,n,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),s=i.substring(0,r).trim().toLowerCase(),n=i.substring(r+1).trim(),!(!s||e[s]&&bk[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},Zd=Symbol("internals");function vr(t){return t&&String(t).trim().toLowerCase()}function qo(t){return t===!1||t==null?t:V.isArray(t)?t.map(qo):String(t)}function _k(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const xk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pa(t,e,s,n,r){if(V.isFunction(n))return n.call(this,e,s);if(r&&(e=s),!!V.isString(e)){if(V.isString(n))return e.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(e)}}function kk(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function Ck(t,e){const s=V.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(r,o,i){return this[n].call(this,e,r,o,i)},configurable:!0})})}let kt=class{constructor(e){e&&this.set(e)}set(e,s,n){const r=this;function o(a,c,u){const d=vr(c);if(!d)throw new Error("header name must be a non-empty string");const h=V.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||c]=qo(a))}const i=(a,c)=>V.forEach(a,(u,d)=>o(u,d,c));if(V.isPlainObject(e)||e instanceof this.constructor)i(e,s);else if(V.isString(e)&&(e=e.trim())&&!xk(e))i(wk(e),s);else if(V.isObject(e)&&V.isIterable(e)){let a={},c,u;for(const d of e){if(!V.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?V.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,s)}else e!=null&&o(s,e,n);return this}get(e,s){if(e=vr(e),e){const n=V.findKey(this,e);if(n){const r=this[n];if(!s)return r;if(s===!0)return _k(r);if(V.isFunction(s))return s.call(this,r,n);if(V.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=vr(e),e){const n=V.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||Pa(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let r=!1;function o(i){if(i=vr(i),i){const a=V.findKey(n,i);a&&(!s||Pa(n,n[a],a,s))&&(delete n[a],r=!0)}}return V.isArray(e)?e.forEach(o):o(e),r}clear(e){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const o=s[n];(!e||Pa(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const s=this,n={};return V.forEach(this,(r,o)=>{const i=V.findKey(n,o);if(i){s[i]=qo(r),delete s[o];return}const a=e?kk(o):String(o).trim();a!==o&&delete s[o],s[a]=qo(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return V.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=e&&V.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[Zd]=this[Zd]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=vr(i);n[a]||(Ck(r,i),n[a]=!0)}return V.isArray(e)?e.forEach(o):o(e),this}};kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(kt.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});V.freezeMethods(kt);function Oa(t,e){const s=this||uo,n=e||s,r=kt.from(n.headers);let o=n.data;return V.forEach(t,function(a){o=a.call(s,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function eg(t){return!!(t&&t.__CANCEL__)}function dr(t,e,s){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,s),this.name="CanceledError"}V.inherits(dr,Te,{__CANCEL__:!0});function tg(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new Te("Request failed with status code "+s.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Ek(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Sk(t,e){t=t||10;const s=new Array(t),n=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[o];i||(i=u),s[r]=c,n[r]=u;let h=o,f=0;for(;h!==r;)f+=s[h++],h=h%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),u-i<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function Tk(t,e){let s=0,n=1e3/e,r,o;const i=(u,d=Date.now())=>{s=d,r=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-s;h>=n?i(u,d):(r=u,o||(o=setTimeout(()=>{o=null,i(r)},n-h)))},()=>r&&i(r)]}const mi=(t,e,s=3)=>{let n=0;const r=Sk(50,250);return Tk(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-n,u=r(c),d=i<=a;n=i;const h={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},s)},eh=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},th=t=>(...e)=>V.asap(()=>t(...e)),Ak=ht.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,ht.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,Ik=ht.hasStandardBrowserEnv?{write(t,e,s,n,r,o){const i=[t+"="+encodeURIComponent(e)];V.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),V.isString(n)&&i.push("path="+n),V.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $k(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Rk(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function sg(t,e,s){let n=!$k(e);return t&&(n||s==!1)?Rk(t,e):e}const sh=t=>t instanceof kt?{...t}:t;function Sn(t,e){e=e||{};const s={};function n(u,d,h,f){return V.isPlainObject(u)&&V.isPlainObject(d)?V.merge.call({caseless:f},u,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function r(u,d,h,f){if(V.isUndefined(d)){if(!V.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function o(u,d){if(!V.isUndefined(d))return n(void 0,d)}function i(u,d){if(V.isUndefined(d)){if(!V.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,h)=>r(sh(u),sh(d),h,!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=c[d]||r,f=h(t[d],e[d],d);V.isUndefined(f)&&h!==a||(s[d]=f)}),s}const ng=t=>{const e=Sn({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:a}=e;e.headers=i=kt.from(i),e.url=Xp(sg(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(V.isFormData(s)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ht.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(e)),n||n!==!1&&Ak(e.url))){const u=r&&o&&Ik.read(o);u&&i.set(r,u)}return e},Pk=typeof XMLHttpRequest<"u",Ok=Pk&&function(t){return new Promise(function(s,n){const r=ng(t);let o=r.data;const i=kt.from(r.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=r,d,h,f,p,g;function b(){p&&p(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function _(){if(!y)return;const x=kt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:t,request:y};tg(function(I){s(I),b()},function(I){n(I),b()},R),y=null}"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(_)},y.onabort=function(){y&&(n(new Te("Request aborted",Te.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new Te("Network Error",Te.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||Qp;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),n(new Te(E,R.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&V.forEach(i.toJSON(),function(E,R){y.setRequestHeader(R,E)}),V.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),u&&([f,g]=mi(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([h,p]=mi(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(d=x=>{y&&(n(!x||x.type?new dr(null,t,y):x),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const C=Ek(r.url);if(C&&ht.protocols.indexOf(C)===-1){n(new Te("Unsupported protocol "+C+":",Te.ERR_BAD_REQUEST,t));return}y.send(o||null)})},Mk=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,r;const o=function(u){if(!r){r=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Te?d:new dr(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,o(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>V.asap(a),c}},jk=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,r;for(;n<s;)r=n+e,yield t.slice(n,r),n=r},Nk=async function*(t,e){for await(const s of Lk(t))yield*jk(s,e)},Lk=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},nh=(t,e,s,n)=>{const r=Nk(t,e);let o=0,i,a=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){a(),c.close();return}let h=d.byteLength;if(s){let f=o+=h;s(f)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),r.return()}},{highWaterMark:2})},zi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rg=zi&&typeof ReadableStream=="function",Bk=zi&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),og=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Dk=rg&&og(()=>{let t=!1;const e=new Request(ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),rh=64*1024,El=rg&&og(()=>V.isReadableStream(new Response("").body)),yi={stream:El&&(t=>t.body)};zi&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yi[e]&&(yi[e]=V.isFunction(t[e])?s=>s[e]():(s,n)=>{throw new Te(`Response type '${e}' is not supported`,Te.ERR_NOT_SUPPORT,n)})})})(new Response);const Uk=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(ht.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await Bk(t)).byteLength},Hk=async(t,e)=>{const s=V.toFiniteNumber(t.getContentLength());return s??Uk(e)},Fk=zi&&(async t=>{let{url:e,method:s,data:n,signal:r,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=ng(t);u=u?(u+"").toLowerCase():"text";let p=Mk([r,o&&o.toAbortSignal()],i),g;const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(c&&Dk&&s!=="get"&&s!=="head"&&(y=await Hk(d,n))!==0){let R=new Request(e,{method:"POST",body:n,duplex:"half"}),S;if(V.isFormData(n)&&(S=R.headers.get("content-type"))&&d.setContentType(S),R.body){const[I,A]=eh(y,mi(th(c)));n=nh(R.body,rh,I,A)}}V.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:_?h:void 0});let C=await fetch(g);const x=El&&(u==="stream"||u==="response");if(El&&(a||x&&b)){const R={};["status","statusText","headers"].forEach(w=>{R[w]=C[w]});const S=V.toFiniteNumber(C.headers.get("content-length")),[I,A]=a&&eh(S,mi(th(a),!0))||[];C=new Response(nh(C.body,rh,I,()=>{A&&A(),b&&b()}),R)}u=u||"text";let E=await yi[V.findKey(yi,u)||"text"](C,t);return!x&&b&&b(),await new Promise((R,S)=>{tg(R,S,{data:E,headers:kt.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:g})})}catch(_){throw b&&b(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,t,g),{cause:_.cause||_}):Te.from(_,_&&_.code,t,g)}}),Sl={http:nk,xhr:Ok,fetch:Fk};V.forEach(Sl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const oh=t=>`- ${t}`,qk=t=>V.isFunction(t)||t===null||t===!1,ig={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let s,n;const r={};for(let o=0;o<e;o++){s=t[o];let i;if(n=s,!qk(s)&&(n=Sl[(i=String(s)).toLowerCase()],n===void 0))throw new Te(`Unknown adapter '${i}'`);if(n)break;r[i||"#"+o]=n}if(!n){const o=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(oh).join(`
`):" "+oh(o[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Sl};function Ma(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dr(null,t)}function ih(t){return Ma(t),t.headers=kt.from(t.headers),t.data=Oa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ig.getAdapter(t.adapter||uo.adapter)(t).then(function(n){return Ma(t),n.data=Oa.call(t,t.transformResponse,n),n.headers=kt.from(n.headers),n},function(n){return eg(n)||(Ma(t),n&&n.response&&(n.response.data=Oa.call(t,t.transformResponse,n.response),n.response.headers=kt.from(n.response.headers))),Promise.reject(n)})}const ag="1.9.0",Wi={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wi[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const ah={};Wi.transitional=function(e,s,n){function r(o,i){return"[Axios v"+ag+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,a)=>{if(e===!1)throw new Te(r(i," has been removed"+(s?" in "+s:"")),Te.ERR_DEPRECATED);return s&&!ah[i]&&(ah[i]=!0,console.warn(r(i," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(o,i,a):!0}};Wi.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Vk(t,e,s){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const o=n[r],i=e[o];if(i){const a=t[o],c=a===void 0||i(a,o,t);if(c!==!0)throw new Te("option "+o+" must be "+c,Te.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}const Vo={assertOptions:Vk,validators:Wi},Zt=Vo.validators;let _n=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Qd,response:new Qd}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Sn(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:o}=s;n!==void 0&&Vo.assertOptions(n,{silentJSONParsing:Zt.transitional(Zt.boolean),forcedJSONParsing:Zt.transitional(Zt.boolean),clarifyTimeoutError:Zt.transitional(Zt.boolean)},!1),r!=null&&(V.isFunction(r)?s.paramsSerializer={serialize:r}:Vo.assertOptions(r,{encode:Zt.function,serialize:Zt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Vo.assertOptions(s,{baseUrl:Zt.spelling("baseURL"),withXsrfToken:Zt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&V.merge(o.common,o[s.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),s.headers=kt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(c=c&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,h=0,f;if(!c){const g=[ih.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),f=g.length,d=Promise.resolve(s);h<f;)d=d.then(g[h++],g[h++]);return d}f=a.length;let p=s;for(h=0;h<f;){const g=a[h++],b=a[h++];try{p=g(p)}catch(y){b.call(this,y);break}}try{d=ih.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Sn(this.defaults,e);const s=sg(e.baseURL,e.url,e.allowAbsoluteUrls);return Xp(s,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){_n.prototype[e]=function(s,n){return this.request(Sn(n||{},{method:e,url:s,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(e){function s(n){return function(o,i,a){return this.request(Sn(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}_n.prototype[e]=s(),_n.prototype[e+"Form"]=s(!0)});let zk=class lg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{n.subscribe(a),o=a}).then(r);return i.cancel=function(){n.unsubscribe(o)},i},e(function(o,i,a){n.reason||(n.reason=new dr(o,i,a),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new lg(function(r){e=r}),cancel:e}}};function Wk(t){return function(s){return t.apply(null,s)}}function Kk(t){return V.isObject(t)&&t.isAxiosError===!0}const Tl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tl).forEach(([t,e])=>{Tl[e]=t});function cg(t){const e=new _n(t),s=Dp(_n.prototype.request,e);return V.extend(s,_n.prototype,e,{allOwnKeys:!0}),V.extend(s,e,null,{allOwnKeys:!0}),s.create=function(r){return cg(Sn(t,r))},s}const ce=cg(uo);ce.Axios=_n;ce.CanceledError=dr;ce.CancelToken=zk;ce.isCancel=eg;ce.VERSION=ag;ce.toFormData=Vi;ce.AxiosError=Te;ce.Cancel=ce.CanceledError;ce.all=function(e){return Promise.all(e)};ce.spread=Wk;ce.isAxiosError=Kk;ce.mergeConfig=Sn;ce.AxiosHeaders=kt;ce.formToJSON=t=>Zp(V.isHTMLForm(t)?new FormData(t):t);ce.getAdapter=ig.getAdapter;ce.HttpStatusCode=Tl;ce.default=ce;const{Axios:Gk,AxiosError:Jk,CanceledError:Yk,isCancel:Xk,CancelToken:Qk,VERSION:Zk,all:e6,Cancel:t6,isAxiosError:s6,spread:n6,toFormData:r6,AxiosHeaders:o6,HttpStatusCode:i6,formToJSON:a6,getAdapter:l6,mergeConfig:c6}=ce,u6=Object.freeze(Object.defineProperty({__proto__:null,Axios:Gk,AxiosError:Jk,AxiosHeaders:o6,Cancel:t6,CancelToken:Qk,CanceledError:Yk,HttpStatusCode:i6,VERSION:Zk,all:e6,default:ce,formToJSON:a6,getAdapter:l6,isAxiosError:s6,isCancel:Xk,mergeConfig:c6,spread:n6,toFormData:r6},Symbol.toStringTag,{value:"Module"})),lh="http://localhost/HTHREE_film/backend/api";class d6{async register(e,s,n,r){try{return(await ce.post(`${lh}/auth/register.php`,{username:e,email:s,password:n,full_name:r})).data}catch(o){throw console.error("Register error:",o),o}}async login(e,s){try{const n=await ce.post(`${lh}/auth/login.php`,{username:e,password:s});return n.data.status&&(localStorage.setItem("user",JSON.stringify(n.data.user)),localStorage.setItem("token",n.data.token)),n.data}catch(n){throw console.error("Login error:",n),n}}logout(){localStorage.removeItem("user"),localStorage.removeItem("token")}getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null}isLoggedIn(){return!!localStorage.getItem("token")}getToken(){return localStorage.getItem("token")}}const Or=new d6,ho={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},nr={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},wt={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},h6={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},f6={dangerouslyHTMLString:!1,multiple:!0,position:ho.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},p6={rtl:!1,newestOnTop:!1,toastClassName:""},ug={...f6,...p6};wt.DEFAULT;var Le=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(Le||{}),Al=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Al||{});const g6={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},v6={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},m6={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},y6={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},ch="Toastify--animate Toastify__none-enter";function dg(t,e=!1){var s;let n=g6;if(!t||typeof t=="string")switch(t){case"flip":n=y6;break;case"zoom":n=m6;break;case"slide":n=v6;break}else n=t;if(e)n.enter=ch;else if(n.enter===ch){const r=(s=n.exit.split("__")[1])==null?void 0:s.split("-")[0];n.enter=`Toastify--animate Toastify__${r}-enter`}return n}function b6(t){return t.containerId||String(t.position)}const Ki="will-unmount";function w6(t=ho.TOP_RIGHT){return!!document.querySelector(`.${Le.CSS_NAMESPACE}__toast-container--${t}`)}function _6(t=ho.TOP_RIGHT){return`${Le.CSS_NAMESPACE}__toast-container--${t}`}function x6(t,e,s=!1){const n=[`${Le.CSS_NAMESPACE}__toast-container`,`${Le.CSS_NAMESPACE}__toast-container--${t}`,s?`${Le.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Kn(e)?e({position:t,rtl:s,defaultClassName:n}):`${n} ${e||""}`}function k6(t){var e;const{position:s,containerClassName:n,rtl:r=!1,style:o={}}=t,i=Le.CSS_NAMESPACE,a=_6(s),c=document.querySelector(`.${i}`),u=document.querySelector(`.${a}`),d=!!u&&!((e=u.className)!=null&&e.includes(Ki)),h=c||document.createElement("div"),f=document.createElement("div");f.className=x6(s,n,r),f.dataset.testid=`${Le.CSS_NAMESPACE}__toast-container--${s}`,f.id=b6(t);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const g=o[p];f.style[p]=g}return c||(h.className=Le.CSS_NAMESPACE,document.body.appendChild(h)),d||h.appendChild(f),f}function Il(t){var e,s,n;const r=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((s=t.target)==null?void 0:s.id),o=document.getElementById(r);o&&o.removeEventListener("animationend",Il,!1);try{Yr[r].unmount(),(n=document.getElementById(r))==null||n.remove(),delete Yr[r],delete it[r]}catch{}}const Yr=yt({});function C6(t,e){const s=document.getElementById(String(e));s&&(Yr[s.id]=t)}function $l(t,e=!0){const s=String(t);if(!Yr[s])return;const n=document.getElementById(s);n&&n.classList.add(Ki),e?(S6(t),n&&n.addEventListener("animationend",Il,!1)):Il(s),ls.items=ls.items.filter(r=>r.containerId!==t)}function E6(t){for(const e in Yr)$l(e,t);ls.items=[]}function hg(t,e){const s=document.getElementById(t.toastId);if(s){let n=t;n={...n,...dg(n.transition)};const r=n.appendPosition?`${n.exit}--${n.position}`:n.exit;s.className+=` ${r}`,e&&e(s)}}function S6(t){for(const e in it)if(e===t)for(const s of it[e]||[])hg(s)}function T6(t){const e=rr().find(s=>s.toastId===t);return e==null?void 0:e.containerId}function $c(t){return document.getElementById(t)}function A6(t){const e=$c(t.containerId);return e&&e.classList.contains(Ki)}function uh(t){var e;const s=Gn(t.content)?Ce(t.content.props):null;return s??Ce((e=t.data)!=null?e:{})}function I6(t){return t?ls.items.filter(e=>e.containerId===t).length>0:ls.items.length>0}function $6(){if(ls.items.length>0){const t=ls.items.shift();zo(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const it=yt({}),ls=yt({items:[]});function rr(){const t=Ce(it);return Object.values(t).reduce((e,s)=>[...e,...s],[])}function R6(t){return rr().find(e=>e.toastId===t)}function zo(t,e={}){if(A6(e)){const s=$c(e.containerId);s&&s.addEventListener("animationend",Rl.bind(null,t,e),!1)}else Rl(t,e)}function Rl(t,e={}){const s=$c(e.containerId);s&&s.removeEventListener("animationend",Rl.bind(null,t,e),!1);const n=it[e.containerId]||[],r=n.length>0;if(!r&&!w6(e.position)){const o=k6(e),i=Df(X6,e);e.useHandler&&e.useHandler(i),i.mount(o),C6(i,o.id)}r&&!e.updateId&&(e.position=n[0].position),Tn(()=>{e.updateId?St.update(e):St.add(t,e)})}const St={add(t,e){const{containerId:s=""}=e;s&&(it[s]=it[s]||[],it[s].find(n=>n.toastId===e.toastId)||setTimeout(()=>{var n,r;e.newestOnTop?(n=it[s])==null||n.unshift(e):(r=it[s])==null||r.push(e),e.onOpen&&e.onOpen(uh(e))},e.delay||0))},remove(t){if(t){const e=T6(t);if(e){const s=it[e];let n=s.find(r=>r.toastId===t);it[e]=s.filter(r=>r.toastId!==t),!it[e].length&&!I6(e)&&$l(e,!1),$6(),Tn(()=>{n!=null&&n.onClose&&(n.onClose(uh(n)),n=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){it[e]=it[e]||[];const s=it[e].find(o=>o.toastId===t.toastId),n=(s==null?void 0:s.position)!==t.position||(s==null?void 0:s.transition)!==t.transition,r={...t,disabledEnterTransition:!n,updateId:void 0};St.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{Me(r.content,r)},t.delay||0)}},clear(t,e=!0){t?$l(t,e):E6(e)},dismissCallback(t){var e;const s=(e=t.currentTarget)==null?void 0:e.id,n=document.getElementById(s);n&&(n.removeEventListener("animationend",St.dismissCallback,!1),setTimeout(()=>{St.remove(s)}))},dismiss(t){if(t){const e=rr();for(const s of e)if(s.toastId===t){hg(s,n=>{n.addEventListener("animationend",St.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=rr();for(const s of e)if(s.toastId===t){const n=document.getElementById(t);n&&(n.remove(),n.removeEventListener("animationend",St.dismissCallback,!1),St.remove(t));break}}}},P6=yt({useHandler:void 0}),fg=yt({}),bi=yt({});function pg(){return Math.random().toString(36).substring(2,9)}function O6(t){return typeof t=="number"&&!isNaN(t)}function Pl(t){return typeof t=="string"}function Kn(t){return typeof t=="function"}function Gi(...t){return Ss(...t)}function Wo(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function M6(t={}){fg[`${Le.CSS_NAMESPACE}-default-options`]=t}function j6(){return fg[`${Le.CSS_NAMESPACE}-default-options`]||ug}function N6(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var Ko=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Ko||{});const gg={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:ho.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:nr.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:wt.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},L6={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:wt.DEFAULT},theme:{type:String,required:!1,default:nr.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},B6=ir({name:"ProgressBar",props:L6,setup(t,{attrs:e}){const s=N(),n=we(()=>t.hide?"true":"false"),r=we(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),o=we(()=>[`${Le.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${Le.CSS_NAMESPACE}__progress-bar--controlled`:`${Le.CSS_NAMESPACE}__progress-bar--animated`,`${Le.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${Le.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${Le.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),i=we(()=>`${o.value} ${(e==null?void 0:e.class)||""}`),a=()=>{s.value&&(s.value.onanimationend=null,s.value.ontransitionend=null)},c=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},u=we(()=>t.controlledProgress?null:c),d=we(()=>t.controlledProgress?c:null);return Oo(()=>{s.value&&(a(),s.value.onanimationend=u.value,s.value.ontransitionend=d.value)}),()=>re("div",{ref:s,role:"progressbar","aria-hidden":n.value,"aria-label":"notification timer",class:i.value,style:r.value},null)}}),D6=ir({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:nr.AUTO},type:{type:String,required:!1,default:nr.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>re("button",{class:`${Le.CSS_NAMESPACE}__close-button ${Le.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[re("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[re("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Ji=({theme:t,type:e,path:s,...n})=>re("svg",Ss({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},n),[re("path",{d:s},null)]);function U6(t){return re(Ji,Ss(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function H6(t){return re(Ji,Ss(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function F6(t){return re(Ji,Ss(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function q6(t){return re(Ji,Ss(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function V6(){return re("div",{class:`${Le.CSS_NAMESPACE}__spinner`},null)}const Go={info:H6,warning:U6,success:F6,error:q6,spinner:V6},z6=t=>t in Go;function W6({theme:t,type:e,isLoading:s,icon:n}){let r;const o=!!s||e==="loading",i={theme:t,type:e};if(o&&(n===void 0||typeof n=="boolean"))return Go.spinner();if(n!==!1){if(Wo(n))r=Ce(n);else if(Kn(n)){const a=n;i.type=o?"loading":e,r=a(i),r=!r&&o?Go.spinner():r}else Gn(n)?r=xs(n,i):Pl(n)||O6(n)?r=n:z6(e)&&(r=Go[e](i));return r}}const K6=()=>{};function G6(t,e,s=Le.COLLAPSE_DURATION){const{scrollHeight:n,style:r}=t,o=s;requestAnimationFrame(()=>{r.minHeight="initial",r.height=n+"px",r.transition=`all ${o}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,o)})})}function J6(t){const e=N(!1),s=N(!1),n=N(!1),r=N(Ko.Enter),o=yt({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||Le.COLLAPSE_DURATION}),i=o.done||K6,a=we(()=>o.appendPosition?`${o.enter}--${o.position}`:o.enter),c=we(()=>o.appendPosition?`${o.exit}--${o.position}`:o.exit),u=we(()=>t.pauseOnHover?{onMouseenter:y,onMouseleave:b}:{});function d(){const C=a.value.split(" ");f().addEventListener(Al.ENTRANCE_ANIMATION_END,b,{once:!0});const x=R=>{const S=f();R.target===S&&(S.dispatchEvent(new Event(Al.ENTRANCE_ANIMATION_END)),S.removeEventListener("animationend",x),S.removeEventListener("animationcancel",x),r.value===Ko.Enter&&R.type!=="animationcancel"&&S.classList.remove(...C))},E=()=>{const R=f();R.classList.add(...C),R.addEventListener("animationend",x),R.addEventListener("animationcancel",x)};t.pauseOnFocusLoss&&p(),E()}function h(){if(!f())return;const C=()=>{const E=f();E.removeEventListener("animationend",C),o.collapse?G6(E,i,o.collapseDuration):i()},x=()=>{const E=f();r.value=Ko.Exit,E&&(E.className+=` ${c.value}`,E.addEventListener("animationend",C))};s.value||(n.value?C():setTimeout(x))}function f(){return t.toastRef.value}function p(){document.hasFocus()||y(),window.addEventListener("focus",b),window.addEventListener("blur",y)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}function b(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function y(){e.value=!1}function _(C){C&&(C.stopPropagation(),C.preventDefault()),s.value=!1}return Oo(h),Oo(()=>{const C=rr();s.value=C.findIndex(x=>x.toastId===o.toastId)>-1}),Oo(()=>{t.isLoading!==void 0&&(t.loading.value?y():b())}),et(d),Dt(()=>{t.pauseOnFocusLoss&&g()}),{isIn:s,isRunning:e,hideToast:_,eventHandlers:u}}const Y6=ir({name:"ToastItem",inheritAttrs:!1,props:gg,setup(t){const e=N(),s=we(()=>!!t.isLoading),n=we(()=>t.progress!==void 0&&t.progress!==null),r=we(()=>W6(t)),o=we(()=>[`${Le.CSS_NAMESPACE}__toast`,`${Le.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${Le.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${Le.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:i,isIn:a,hideToast:c,eventHandlers:u}=J6({toastRef:e,loading:s,done:()=>{St.remove(t.toastId)},...dg(t.transition,t.disabledEnterTransition),...t});return()=>re("div",Ss({id:t.toastId,class:o.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&c(),t.onClick&&t.onClick(d)}},u.value),[re("div",{role:t.role,"data-testid":"toast-body",class:`${Le.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[r.value!=null&&re("div",{"data-testid":`toast-icon-${t.type}`,class:[`${Le.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${Le.CSS_NAMESPACE}--animate-icon ${Le.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Wo(r.value)?Xe(Ce(r.value),{theme:t.theme,type:t.type}):Kn(r.value)?r.value({theme:t.theme,type:t.type}):r.value]),re("div",{"data-testid":"toast-content"},[Wo(t.content)?Xe(Ce(t.content),{toastProps:Ce(t),closeToast:c,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Kn(t.content)?t.content({toastProps:Ce(t),closeToast:c,data:t.data}):t.dangerouslyHTMLString?Xe("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&re(D6,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),c()}},null),Wo(t.closeButton)?Xe(Ce(t.closeButton),{closeToast:c,type:t.type,theme:t.theme}):Kn(t.closeButton)?t.closeButton({closeToast:c,type:t.type,theme:t.theme}):null,re(B6,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:i.value,autoClose:t.autoClose,controlledProgress:n.value,progress:t.progress,closeToast:t.isLoading?void 0:c},null)])}});let Mr=0;function vg(){typeof window>"u"||(Mr&&window.cancelAnimationFrame(Mr),Mr=window.requestAnimationFrame(vg),bi.lastUrl!==window.location.href&&(bi.lastUrl=window.location.href,St.clear()))}const X6=ir({name:"ToastifyContainer",inheritAttrs:!1,props:gg,setup(t){const e=we(()=>t.containerId),s=we(()=>it[e.value]||[]),n=we(()=>s.value.filter(r=>r.position===t.position));return et(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(vg)}),Dt(()=>{typeof window<"u"&&Mr&&(window.cancelAnimationFrame(Mr),bi.lastUrl="")}),()=>re(ne,null,[n.value.map(r=>{const{toastId:o=""}=r;return re(Y6,Ss({key:o},r),null)})])}});let ja=!1;const mg={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function yg(){const t=[];return rr().forEach(e=>{const s=document.getElementById(e.containerId);s&&!s.classList.contains(Ki)&&t.push(e)}),t}function Q6(t){const e=yg().length,s=t??0;return s>0&&e+ls.items.length>=s}function Z6(t){Q6(t.limit)&&!t.updateId&&ls.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function tn(t,e,s={}){if(ja)return;s=Gi(j6(),{type:e},Ce(s)),(!s.toastId||typeof s.toastId!="string"&&typeof s.toastId!="number")&&(s.toastId=pg()),s={...s,...s.type==="loading"?mg:{},content:t,containerId:s.containerId||String(s.position)};const n=Number(s==null?void 0:s.progress);return!isNaN(n)&&n<0&&(s.progress=0),n>1&&(s.progress=1),s.theme==="auto"&&(s.theme=N6()),Z6(s),bi.lastUrl=window.location.href,s.multiple?ls.items.length?s.updateId&&zo(t,s):zo(t,s):(ja=!0,Me.clearAll(void 0,!1),setTimeout(()=>{zo(t,s)},0),setTimeout(()=>{ja=!1},390)),s.toastId}const Me=(t,e)=>tn(t,wt.DEFAULT,e);Me.info=(t,e)=>tn(t,wt.DEFAULT,{...e,type:wt.INFO});Me.error=(t,e)=>tn(t,wt.DEFAULT,{...e,type:wt.ERROR});Me.warning=(t,e)=>tn(t,wt.DEFAULT,{...e,type:wt.WARNING});Me.warn=Me.warning;Me.success=(t,e)=>tn(t,wt.DEFAULT,{...e,type:wt.SUCCESS});Me.loading=(t,e)=>tn(t,wt.DEFAULT,Gi(e,mg));Me.dark=(t,e)=>tn(t,wt.DEFAULT,Gi(e,{theme:nr.DARK}));Me.remove=t=>{t?St.dismiss(t):St.clear()};Me.clearAll=(t,e)=>{Tn(()=>{St.clear(t,e)})};Me.isActive=t=>{let e=!1;return e=yg().findIndex(s=>s.toastId===t)>-1,e};Me.update=(t,e={})=>{setTimeout(()=>{const s=R6(t);if(s){const n=Ce(s),{content:r}=n,o={...n,...e,toastId:e.toastId||t,updateId:pg()},i=o.render||r;delete o.render,tn(i,o.type,o)}},0)};Me.done=t=>{Me.update(t,{isLoading:!1,progress:1})};Me.promise=e5;function e5(t,{pending:e,error:s,success:n},r){var o,i,a;let c;const u={...r||{},autoClose:!1};e&&(c=Pl(e)?Me.loading(e,u):Me.loading(e.render,{...u,...e}));const d={autoClose:(o=r==null?void 0:r.autoClose)!=null?o:!0,closeOnClick:(i=r==null?void 0:r.closeOnClick)!=null?i:!0,closeButton:(a=r==null?void 0:r.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},h=(p,g,b)=>{if(g==null){Me.remove(c);return}const y={type:p,...d,...r,data:b},_=Pl(g)?{render:g}:g;return c?Me.update(c,{...y,..._,isLoading:!1}):Me(_.render,{...y,..._,isLoading:!1}),b},f=Kn(t)?t():t;return f.then(p=>{h("success",n,p)}).catch(p=>{h("error",s,p)}),f}Me.POSITION=ho;Me.THEME=nr;Me.TYPE=wt;Me.TRANSITIONS=h6;const t5={install(t,e={}){P6.useHandler=e.useHandler||(()=>{}),s5(e)}};typeof window<"u"&&(window.Vue3Toastify=t5);function s5(t={}){const e=Gi(ug,t);M6(e)}const Ke=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},n5={class:"relative w-full max-w-5xl bg-gray-900 rounded-2xl shadow-2xl overflow-hidden transform transition-all"},r5={class:"grid md:grid-cols-2 min-h-[600px]"},o5={class:"p-6 md:p-8 overflow-y-auto max-h-[600px] scrollbar-hide"},i5={class:"text-2xl font-bold text-white mb-1"},a5={class:"text-sm text-gray-400 mb-4"},l5={key:0,class:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm"},c5={key:1,class:"mb-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-400 text-sm"},u5=["disabled"],d5={key:0},h5={key:1},f5=["type","placeholder"],p5={class:"relative"},g5=["type"],v5={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},m5={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},y5=["disabled"],b5={key:0},w5={key:1},_5={class:"mt-4 text-center"},x5={class:"font-semibold"},k5={__name:"AuthModal",props:{modelValue:Boolean},emits:["update:modelValue","success"],setup(t,{emit:e}){const s=e,n=lr(),r=new ys;r.setCustomParameters({prompt:"select_account"});const o=N(!0),i=N(""),a=N(""),c=N(""),u=N(""),d=N(!1),h=N(""),f=N(""),p=N(!1),g=()=>{s("update:modelValue",!1),setTimeout(()=>{h.value="",f.value="",i.value="",a.value="",c.value="",u.value=""},300)},b=()=>{o.value=!o.value,h.value="",f.value=""},y=async()=>{p.value=!0,h.value="",f.value="";try{if(o.value){const C=await Or.login(a.value,c.value);C.status?(f.value=C.message,Me.success("ng nhp thnh cng!"),setTimeout(()=>{s("success"),g(),window.location.reload()},1e3)):(h.value=C.message,Me.error(C.message))}else{const C=await Or.register(i.value,a.value,c.value,u.value);C.status?(f.value=C.message+" - ang chuyn sang ng nhp...",Me.success("ng k thnh cng!"),setTimeout(()=>{o.value=!0,i.value=C.user.username,c.value=""},1500)):(h.value=C.message,Me.error(C.message))}}catch{h.value="C li xy ra. Vui lng th li.",Me.error("C li xy ra")}finally{p.value=!1}},_=async()=>{p.value=!0,h.value="";try{const x=(await Qw(n,r)).user;localStorage.setItem("user",JSON.stringify({id:x.uid,username:x.displayName,email:x.email,full_name:x.displayName,avatar:x.photoURL})),localStorage.setItem("token",x.accessToken),Me.success("ng nhp Google thnh cng!"),setTimeout(()=>{s("success"),g(),window.location.reload()},1e3)}catch(C){console.error("Google auth error:",C),h.value="ng nhp Google tht bi",Me.error(h.value)}finally{p.value=!1}};return(C,x)=>(v(),Ae(_s,{name:"modal"},{default:Oe(()=>[t.modelValue?(v(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:Gs(g,["self"])},[l("div",n5,[l("button",{onClick:g,class:"absolute top-4 right-4 z-10 text-gray-400 hover:text-white transition-colors"},x[5]||(x[5]=[l("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),l("div",r5,[x[12]||(x[12]=l("div",{class:"hidden md:block relative overflow-hidden"},[l("img",{src:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80",alt:"Cinema",class:"absolute inset-0 w-full h-full object-cover"}),l("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent to-gray-900/50"}),l("div",{class:"absolute inset-0 flex flex-col justify-end p-8 text-white"},[l("div",{class:"flex items-center gap-2 mb-4"},[l("svg",{class:"w-12 h-12 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),l("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")]),l("h2",{class:"text-3xl font-bold mb-2"},"Cho mng tr li!"),l("p",{class:"text-gray-300"},"Khm ph hng ngn b phim hay nht")])],-1)),l("div",o5,[x[9]||(x[9]=l("div",{class:"md:hidden flex justify-center mb-6"},[l("div",{class:"flex items-center gap-2"},[l("svg",{class:"w-10 h-10 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),l("span",{class:"text-3xl font-bold text-yellow-400"},"HTHREE")])],-1)),l("h2",i5,P(o.value?"ng Nhp":"ng K"),1),l("p",a5,P(o.value?"Cho mng bn tr li!":"To ti khon mi"),1),h.value?(v(),m("div",l5,P(h.value),1)):F("",!0),f.value?(v(),m("div",c5,P(f.value),1)):F("",!0),l("button",{onClick:_,type:"button",disabled:p.value,class:"w-full flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-gray-800 font-medium py-2.5 rounded-lg transition-all mb-4 text-sm"},[x[6]||(x[6]=l("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",class:"w-4 h-4"},null,-1)),be(" "+P(o.value?"ng nhp":"ng k")+" vi Google ",1)],8,u5),x[10]||(x[10]=l("div",{class:"relative mb-4"},[l("div",{class:"absolute inset-0 flex items-center"},[l("div",{class:"w-full border-t border-gray-700"})]),l("div",{class:"relative flex justify-center text-xs"},[l("span",{class:"px-3 bg-gray-900 text-gray-400"},"Hoc")])],-1)),l("form",{onSubmit:Gs(y,["prevent"]),class:"space-y-3"},[o.value?F("",!0):(v(),m("div",d5,[Ze(l("input",{type:"text",placeholder:"Tn ng nhp","onUpdate:modelValue":x[0]||(x[0]=E=>i.value=E),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",required:""},null,512),[[Lt,i.value]])])),o.value?F("",!0):(v(),m("div",h5,[Ze(l("input",{type:"text",placeholder:"H v tn","onUpdate:modelValue":x[1]||(x[1]=E=>u.value=E),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"},null,512),[[Lt,u.value]])])),l("div",null,[Ze(l("input",{type:o.value?"text":"email",placeholder:o.value?"Tn ng nhp hoc Email":"Email","onUpdate:modelValue":x[2]||(x[2]=E=>a.value=E),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",required:""},null,8,f5),[[ri,a.value]])]),l("div",p5,[Ze(l("input",{type:d.value?"text":"password",placeholder:"Mt khu","onUpdate:modelValue":x[3]||(x[3]=E=>c.value=E),class:"w-full px-3 py-2.5 text-sm rounded-lg bg-gray-800 text-white placeholder-gray-500 border border-gray-700 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",required:""},null,8,g5),[[ri,c.value]]),l("button",{type:"button",onClick:x[4]||(x[4]=E=>d.value=!d.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white"},[d.value?(v(),m("svg",m5,x[8]||(x[8]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(v(),m("svg",v5,x[7]||(x[7]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),l("button",{type:"submit",disabled:p.value,class:"w-full py-2.5 text-sm bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-black font-bold rounded-lg transition-all disabled:opacity-50"},[p.value?(v(),m("span",w5,"ang x l...")):(v(),m("span",b5,P(o.value?"ng Nhp":"ng K"),1))],8,y5)],32),l("div",_5,[l("button",{onClick:b,class:"text-sm text-gray-400 hover:text-yellow-400"},[be(P(o.value?"Cha c ti khon?":" c ti khon?")+" ",1),l("span",x5,P(o.value?"ng k ngay":"ng nhp"),1)])]),x[11]||(x[11]=l("div",{class:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700"},[l("p",{class:"text-xs text-gray-400 mb-1.5"},"Ti khon demo:"),l("div",{class:"space-y-0.5 text-xs text-gray-500"},[l("p",null," admin / 123456"),l("p",null," user1 / 123456")])],-1))])])])])):F("",!0)]),_:1}))}},C5=Ke(k5,[["__scopeId","data-v-bddcb509"]]);let hs=null;function E5(t){hs=t}function Yi(){return{success:(t,e=3e3)=>{hs&&hs.success(t,e)},error:(t,e=3e3)=>{hs&&hs.error(t,e)},warning:(t,e=3e3)=>{hs&&hs.warning(t,e)},info:(t,e=3e3)=>{hs&&hs.info(t,e)}}}const S5={class:"flex items-center justify-between px-4 md:px-8 py-3 max-w-[1920px] mx-auto"},T5={class:"flex items-center gap-6 flex-1 max-w-4xl mx-6"},A5={class:"relative flex-1 max-w-md"},I5={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-gray-800 rounded-lg shadow-2xl border border-gray-700 overflow-hidden z-50"},$5=["onMousedown"],R5=["src","alt"],P5={class:"flex-1 min-w-0"},O5={class:"text-white font-medium truncate"},M5={class:"text-gray-400 text-xs truncate mb-1"},j5={class:"flex gap-2 flex-wrap"},N5={key:0,class:"text-xs bg-gray-700 px-2 py-0.5 rounded"},L5={key:1,class:"text-xs bg-yellow-600 text-black px-2 py-0.5 rounded font-semibold"},B5={key:2,class:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded"},D5={class:"p-2 bg-gray-900 text-center border-t border-gray-700"},U5={class:"hidden lg:flex items-center gap-4 text-sm font-medium"},H5={class:"relative group"},F5={class:"absolute top-full left-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all max-h-96 overflow-y-auto border border-gray-700"},q5={class:"relative group"},V5={class:"relative group"},z5={class:"flex items-center gap-3 flex-shrink-0"},W5={class:"relative group"},K5={class:"flex items-center gap-2 bg-gray-800 px-3 py-2 rounded-lg hover:bg-gray-700 hover:scale-105 transition-all duration-300"},G5=["src","alt"],J5={key:1,class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y5={class:"text-sm font-medium text-white hidden md:block"},X5={class:"absolute top-full right-0 mt-3 w-64 bg-gray-900 rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-500 ease-out transform group-hover:translate-y-0 -translate-y-4 group-hover:scale-100 scale-95 border border-yellow-400/30 overflow-hidden backdrop-blur-xl"},Q5={key:0,class:"bg-gradient-to-br from-gray-800 to-gray-900 px-4 py-3 border-b border-yellow-400/20"},Z5={class:"flex items-center gap-2.5 mb-2.5"},e3=["src","alt"],t3={class:"flex-1 min-w-0"},s3={class:"flex items-center gap-1.5"},n3={class:"text-white font-bold truncate text-sm"},r3={class:"text-gray-400 text-[10px] truncate"},o3={key:1,class:"px-4 py-2.5 bg-gray-800/50 border-b border-gray-700/50"},i3={class:"py-1.5"},a3={key:0,href:"#",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},l3={key:1,href:"#",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},c3={key:2,href:"#",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},u3={key:4,class:"border-t border-gray-700/50 my-1.5"},d3={key:0,class:"lg:hidden bg-gray-900/98 backdrop-blur-lg border-t border-gray-800 shadow-2xl"},h3={class:"px-4 py-6 space-y-2"},f3={key:0,class:"px-4 py-3"},p3={key:1,class:"px-4 py-3 space-y-2"},g3={class:"flex items-center gap-3 mb-3"},v3=["src","alt"],m3={class:"text-white font-bold"},y3={class:"text-gray-400 text-sm"},bg={__name:"NetflixNavbar",setup(t){const e=Ct(),s=lo(),n=lr(),r=Yi(),o=N(!1),i=N(""),a=N(null),c=N(!1),u=N([]),d=N(!1),h=N(!1),f=N(!1);s.getCategory();const p=()=>{const A=n.currentUser;if(A){a.value=A,console.log(" Navbar - Firebase user:",A.email);return}const w=Or.getCurrentUser();w&&(a.value=w,console.log(" Navbar - PHP user:",w.email)),oo(n,O=>{if(O)a.value=O,console.log(" Navbar - Firebase auth changed:",O.email);else{const q=Or.getCurrentUser();q?a.value=q:a.value=null}})},g=we(()=>{var A;return((A=s.getAllCategories)==null?void 0:A.slice(0,10))||[]}),b=()=>{o.value=window.scrollY>50},y=A=>A?A.startsWith("http")?A:`https://phimimg.com/${A}`:"https://placehold.co/50x75/1a1a1a/fff?text=No+Image";let _=null;const C=async()=>{var w;const A=i.value.trim();if(A.length<2){u.value=[],d.value=!1;return}h.value=!0;try{const{searchMovies:O}=await mc(async()=>{const{searchMovies:L}=await Promise.resolve().then(()=>xg);return{searchMovies:L}},void 0),q=await O(A,{limit:5});(q.status==="success"||q.status===!0)&&((w=q.data)!=null&&w.items)?(u.value=q.data.items.slice(0,5),d.value=!0):(u.value=[],d.value=!1)}catch(O){console.error("Error fetching suggestions:",O),u.value=[]}finally{h.value=!1}},x=()=>{clearTimeout(_),_=setTimeout(()=>{C()},300)},E=A=>{d.value=!1,e.push(`/film/${A.slug}`)},R=()=>{if(console.log(" handleSearch called, searchQuery:",i.value),d.value=!1,i.value.trim()){const A=i.value.trim();console.log(" Navigating to /search?q="+A),e.push(`/search?q=${encodeURIComponent(A)}`)}else console.warn(" Search query is empty")},S=()=>{setTimeout(()=>{d.value=!1},200)},I=async()=>{try{await Ow(n),Or.logout(),a.value=null,r.success("  ng xut thnh cng!"),setTimeout(()=>{window.location.reload()},1e3)}catch(A){console.error("Logout error:",A),r.error(" Li khi ng xut. Vui lng th li!")}};return et(async()=>{var A;window.addEventListener("scroll",b),(A=s.getAllCategories)!=null&&A.length||await s.getCategory(),p()}),Dt(()=>{window.removeEventListener("scroll",b)}),(A,w)=>{var q,L,U,k,D,M,B,H,Y,Ee,ue,le,qe,Ve,de,ie,z,se,Z,oe,Re,T,$,j,W,G,K,J,ee,te,Q,ge;const O=cs("router-link");return v(),m(ne,null,[l("nav",{class:ae(["fixed top-0 left-0 right-0 z-50 transition-all duration-300",o.value?"bg-gray-900/95 backdrop-blur-sm shadow-lg":"bg-black/30 backdrop-blur-sm"])},[l("div",S5,[re(O,{to:"/home",class:"flex items-center gap-2 flex-shrink-0"},{default:Oe(()=>w[11]||(w[11]=[l("svg",{class:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})],-1),l("span",{class:"text-yellow-400 text-xl font-bold"},"HTHREE",-1)])),_:1}),l("div",T5,[l("div",A5,[Ze(l("input",{"onUpdate:modelValue":w[0]||(w[0]=X=>i.value=X),type:"text",placeholder:"Tm kim phim, din vin",class:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 pl-10 text-sm text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition",onInput:x,onKeyup:qt(R,["enter"]),onBlur:S,onFocus:w[1]||(w[1]=X=>i.value.length>=2&&C())},null,544),[[Lt,i.value]]),w[12]||(w[12]=l("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),d.value&&u.value.length>0?(v(),m("div",I5,[(v(!0),m(ne,null,pe(u.value,X=>(v(),m("div",{key:X.slug,onMousedown:he=>E(X),class:"flex items-center gap-3 p-3 hover:bg-gray-700 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0"},[l("img",{src:y(X.poster_url),alt:X.name,class:"w-12 h-16 object-cover rounded flex-shrink-0",onError:w[2]||(w[2]=he=>he.target.src="https://placehold.co/50x75/1a1a1a/fff?text=Error")},null,40,R5),l("div",P5,[l("p",O5,P(X.name),1),l("p",M5,P(X.origin_name),1),l("div",j5,[X.year?(v(),m("span",N5,P(X.year),1)):F("",!0),X.quality?(v(),m("span",L5,P(X.quality),1)):F("",!0),X.lang?(v(),m("span",B5,P(X.lang),1)):F("",!0)])])],40,$5))),128)),l("div",D5,[l("button",{onMousedown:R,class:"text-yellow-400 text-sm hover:text-yellow-300 font-medium transition-colors"},' Xem tt c kt qu cho "'+P(i.value)+'"  ',33)])])):F("",!0)]),l("ul",U5,[l("li",null,[re(O,{to:"/list/phim-le/page/1",class:ae([o.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors px-2 py-1"])},{default:Oe(()=>w[13]||(w[13]=[be(" Phim L ")])),_:1},8,["class"])]),l("li",null,[re(O,{to:"/list/phim-bo/page/1",class:ae([o.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors px-2 py-1"])},{default:Oe(()=>w[14]||(w[14]=[be(" Phim B ")])),_:1},8,["class"])]),l("li",H5,[l("button",{class:ae([o.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors flex items-center gap-1 px-2 py-1"])},w[15]||(w[15]=[be(" Th loi "),l("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2),l("div",F5,[(v(!0),m(ne,null,pe(g.value,X=>(v(),Ae(O,{key:X.slug,to:`/category/${X.slug}/page/1`,class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},{default:Oe(()=>[be(P(X.name),1)]),_:2},1032,["to"]))),128))])]),l("li",q5,[l("button",{class:ae([o.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors flex items-center gap-1 px-2 py-1"])},w[16]||(w[16]=[be(" Quc gia "),l("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2),w[17]||(w[17]=$e('<div class="absolute top-full left-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all max-h-96 overflow-y-auto border border-gray-700"><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Vit Nam</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Hn Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Trung Quc</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">M</a><a href="#" class="block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm">Thi Lan</a></div>',1))]),l("li",null,[l("a",{href:"#",class:ae([o.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors px-2 py-1"])}," Xem Chung ",2)]),l("li",V5,[l("button",{class:ae([o.value?"text-white hover:text-yellow-400":"text-white/90 hover:text-white","transition-colors flex items-center gap-1 px-2 py-1"])},w[18]||(w[18]=[be(" Thm "),l("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2),w[19]||(w[19]=l("div",{class:"absolute top-full left-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all border border-gray-700"},[l("a",{href:"#",class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},"Phim yu thch"),l("a",{href:"#",class:"block px-4 py-2 text-white hover:bg-gray-700 hover:text-yellow-400 transition-colors text-sm"},"Lch s xem")],-1))])])]),l("div",z5,[w[31]||(w[31]=l("button",{class:"hidden md:flex items-center gap-2 bg-yellow-400 text-black px-4 py-2 rounded-lg font-semibold text-sm hover:bg-yellow-500 transition-colors"},[l("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})]),be(" Ti ng dng HTHREE ")],-1)),l("div",W5,[l("button",K5,[a.value?(v(),m("img",{key:0,src:((q=a.value)==null?void 0:q.avatar)||((L=a.value)==null?void 0:L.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((U=a.value)==null?void 0:U.full_name)||((k=a.value)==null?void 0:k.displayName)||((D=a.value)==null?void 0:D.username)||"User")}&background=f59e0b&color=000`,class:"w-7 h-7 rounded-full border-2 border-yellow-400 shadow-lg",alt:((M=a.value)==null?void 0:M.full_name)||((B=a.value)==null?void 0:B.displayName)||((H=a.value)==null?void 0:H.username)||"User"},null,8,G5)):(v(),m("svg",J5,w[20]||(w[20]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)]))),l("span",Y5,P(a.value&&(a.value.displayName||a.value.username)||"Thnh vin"),1)]),l("div",X5,[a.value?(v(),m("div",Q5,[l("div",Z5,[l("img",{src:((Y=a.value)==null?void 0:Y.avatar)||((Ee=a.value)==null?void 0:Ee.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((ue=a.value)==null?void 0:ue.full_name)||((le=a.value)==null?void 0:le.displayName)||((qe=a.value)==null?void 0:qe.username)||"User")}&background=f59e0b&color=000`,class:"w-11 h-11 rounded-full border-2 border-yellow-400 shadow-lg",alt:((Ve=a.value)==null?void 0:Ve.full_name)||((de=a.value)==null?void 0:de.displayName)||((ie=a.value)==null?void 0:ie.username)||"User"},null,8,e3),l("div",t3,[l("div",s3,[l("p",n3,P(((z=a.value)==null?void 0:z.full_name)||((se=a.value)==null?void 0:se.displayName)||((Z=a.value)==null?void 0:Z.username)),1),w[21]||(w[21]=l("svg",{class:"w-3.5 h-3.5 text-yellow-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1))]),l("p",r3,P((oe=a.value)==null?void 0:oe.email),1)])]),w[22]||(w[22]=l("button",{class:"w-full bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-3 py-2 rounded-lg font-bold text-xs hover:from-yellow-500 hover:to-yellow-600 hover:scale-105 hover:shadow-xl hover:shadow-yellow-400/50 transition-all duration-300 shadow-lg flex items-center justify-center gap-1.5 group/upgrade"},[l("svg",{class:"w-3.5 h-3.5 group-hover/upgrade:rotate-12 transition-transform duration-300",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),l("span",{class:"group-hover/upgrade:tracking-wider transition-all duration-300"},"Nng cp ngay")],-1))])):F("",!0),a.value?(v(),m("div",o3,w[23]||(w[23]=[$e('<div class="flex items-center justify-between text-xs"><div class="flex items-center gap-1.5"><svg class="w-3.5 h-3.5 text-gray-400" fill="currentColor" viewBox="0 0 20 20"><path d="M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"></path><path fill-rule="evenodd" d="M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><span class="text-gray-300">S d</span></div><div class="flex items-center gap-1.5"><span class="text-white font-bold">0</span><span class="text-yellow-400 font-bold text-xs"></span><button class="bg-gray-700 hover:bg-gray-600 hover:scale-110 text-white px-2 py-0.5 rounded text-[10px] font-medium transition-all duration-300"> + Np </button></div></div>',1)]))):F("",!0),l("div",i3,[a.value?(v(),m("a",a3,w[24]||(w[24]=[l("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})],-1),l("span",{class:"font-medium text-sm"},"Yu thch",-1)]))):F("",!0),a.value?(v(),m("a",l3,w[25]||(w[25]=[l("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})],-1),l("span",{class:"font-medium text-sm"},"Danh sch",-1)]))):F("",!0),a.value?(v(),m("a",c3,w[26]||(w[26]=[l("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1),l("span",{class:"font-medium text-sm"},"Xem tip",-1)]))):F("",!0),a.value?(v(),Ae(O,{key:3,to:"/account",class:"flex items-center gap-2.5 px-4 py-2.5 text-white hover:bg-gray-800 hover:pl-5 transition-all duration-300 group/item"},{default:Oe(()=>w[27]||(w[27]=[l("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),l("span",{class:"font-medium text-sm"},"Ti khon",-1)])),_:1})):F("",!0),a.value?(v(),m("div",u3)):F("",!0),a.value?(v(),m("button",{key:5,onClick:I,class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-red-500/20 hover:text-red-400 hover:pl-5 transition-all duration-300 group/item"},w[28]||(w[28]=[l("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-red-400 transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),l("span",{class:"font-medium text-sm"},"Thot",-1)]))):(v(),m("button",{key:6,onClick:w[3]||(w[3]=X=>f.value=!0),class:"flex items-center gap-2.5 w-full px-4 py-2.5 text-white hover:bg-gray-800 hover:text-yellow-400 hover:pl-5 transition-all duration-300 group/item"},w[29]||(w[29]=[l("svg",{class:"w-4 h-4 text-gray-400 group-hover/item:text-yellow-400 transition-all duration-300 group-hover/item:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),l("span",{class:"font-medium text-sm"},"ng nhp",-1)])))])])]),l("button",{onClick:w[4]||(w[4]=X=>c.value=!c.value),class:"lg:hidden p-2 rounded-lg hover:bg-gray-800 transition-colors"},w[30]||(w[30]=[l("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])]),c.value?(v(),m("div",d3,[l("div",h3,[re(O,{to:"/home",onClick:w[5]||(w[5]=X=>c.value=!1),class:"block px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},{default:Oe(()=>w[32]||(w[32]=[l("div",{class:"flex items-center gap-3"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})]),be(" Trang ch ")],-1)])),_:1}),re(O,{to:"/list/phim-le/page/1",onClick:w[6]||(w[6]=X=>c.value=!1),class:"block px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},{default:Oe(()=>w[33]||(w[33]=[l("div",{class:"flex items-center gap-3"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})]),be(" Phim L ")],-1)])),_:1}),re(O,{to:"/list/phim-bo/page/1",onClick:w[7]||(w[7]=X=>c.value=!1),class:"block px-4 py-3 text-white hover:bg-gray-800 hover:text-yellow-400 rounded-lg transition-all font-medium"},{default:Oe(()=>w[34]||(w[34]=[l("div",{class:"flex items-center gap-3"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})]),be(" Phim B ")],-1)])),_:1}),w[37]||(w[37]=l("div",{class:"border-t border-gray-800 my-4"},null,-1)),a.value?(v(),m("div",p3,[l("div",g3,[l("img",{src:((Re=a.value)==null?void 0:Re.avatar)||((T=a.value)==null?void 0:T.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent((($=a.value)==null?void 0:$.full_name)||((j=a.value)==null?void 0:j.displayName)||((W=a.value)==null?void 0:W.username)||"User")}&background=f59e0b&color=000`,class:"w-12 h-12 rounded-full border-2 border-yellow-400",alt:((G=a.value)==null?void 0:G.full_name)||((K=a.value)==null?void 0:K.displayName)||((J=a.value)==null?void 0:J.username)||"User"},null,8,v3),l("div",null,[l("p",m3,P(((ee=a.value)==null?void 0:ee.full_name)||((te=a.value)==null?void 0:te.displayName)||((Q=a.value)==null?void 0:Q.username)),1),l("p",y3,P((ge=a.value)==null?void 0:ge.email),1)])]),l("button",{onClick:w[9]||(w[9]=X=>{I(),c.value=!1}),class:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg font-medium hover:bg-gray-700 transition-all flex items-center justify-center gap-2"},w[36]||(w[36]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),be(" ng xut ")]))])):(v(),m("div",f3,[l("button",{onClick:w[8]||(w[8]=X=>{f.value=!0,c.value=!1}),class:"w-full bg-yellow-400 text-black px-4 py-3 rounded-lg font-bold hover:bg-yellow-500 transition-all flex items-center justify-center gap-2"},w[35]||(w[35]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),be(" ng nhp ")]))]))])])):F("",!0)],2),re(C5,{modelValue:f.value,"onUpdate:modelValue":w[10]||(w[10]=X=>f.value=X),onSuccess:p},null,8,["modelValue"])],64)}}},b3={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-900"},w3={__name:"SplashScreen",setup(t){const e=N(!0);return et(()=>{setTimeout(()=>{e.value=!1},2500)}),(s,n)=>(v(),Ae(_s,{name:"fade"},{default:Oe(()=>[e.value?(v(),m("div",b3,n[0]||(n[0]=[l("div",{class:"text-center"},[l("div",{class:"mb-6 animate-bounce-slow"},[l("svg",{class:"w-24 h-24 mx-auto text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})])]),l("h1",{class:"text-5xl font-black text-white mb-2 tracking-wider",style:{"text-shadow":"0 0 20px rgba(250, 204, 21, 0.5)"}}," HTHREE-FILM "),l("p",{class:"text-gray-400 text-lg mb-8 font-medium"}," Xem Phim Min Ph Cc Nhanh, Cht Lng Cao V Cp Nht Lin Tc "),l("div",{class:"flex justify-center gap-2"},[l("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0s"}}),l("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.2s"}}),l("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{"animation-delay":"0.4s"}})])],-1)]))):F("",!0)]),_:1}))}},_3=Ke(w3,[["__scopeId","data-v-f49f9b98"]]),x3={class:"fixed top-4 right-4 z-[99999] flex flex-col gap-3 pointer-events-none"},k3={class:"flex items-start gap-3 p-4 pt-5"},C3={key:0,class:"w-6 h-6 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},E3={key:1,class:"w-6 h-6 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},S3={key:2,class:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},T3={key:3,class:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},A3={class:"flex-1 min-w-0"},I3={class:"text-sm text-gray-300 leading-relaxed"},$3=["onClick"],R3={__name:"CustomToast",setup(t,{expose:e}){const s=N([]);let n=0;const r=(i,a,c,u=3e3)=>{const d=++n,h={id:d,type:i,title:a,message:c,progress:100};s.value.push(h);const f=Date.now(),p=setInterval(()=>{const g=Date.now()-f,b=Math.max(0,100-g/u*100),y=s.value.findIndex(_=>_.id===d);y!==-1&&(s.value[y].progress=b),b===0&&clearInterval(p)},50);return setTimeout(()=>{o(d)},u),d},o=i=>{const a=s.value.findIndex(c=>c.id===i);a!==-1&&s.value.splice(a,1)};return e({success:(i,a)=>r("success","Thnh cng",i,a),error:(i,a)=>r("error","Li",i,a),warning:(i,a)=>r("warning","Cnh bo",i,a),info:(i,a)=>r("info","Thng tin",i,a)}),(i,a)=>(v(),Ae(Kl,{to:"body"},[l("div",x3,[re(Lf,{name:"toast"},{default:Oe(()=>[(v(!0),m(ne,null,pe(s.value,c=>(v(),m("div",{key:c.id,class:ae(["toast-item pointer-events-auto min-w-[320px] max-w-[400px] bg-gray-900/95 backdrop-blur-xl border rounded-xl shadow-2xl overflow-hidden",[c.type==="success"?"border-green-500/50 shadow-green-500/20":c.type==="error"?"border-red-500/50 shadow-red-500/20":c.type==="warning"?"border-yellow-500/50 shadow-yellow-500/20":"border-blue-500/50 shadow-blue-500/20"]])},[l("div",{class:ae(["absolute top-0 left-0 h-1 transition-all duration-100 ease-linear",[c.type==="success"?"bg-green-500":c.type==="error"?"bg-red-500":c.type==="warning"?"bg-yellow-500":"bg-blue-500"]]),style:$t({width:`${c.progress}%`})},null,6),l("div",k3,[l("div",{class:ae(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",[c.type==="success"?"bg-green-500/20":c.type==="error"?"bg-red-500/20":c.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"]])},[c.type==="success"?(v(),m("svg",C3,a[0]||(a[0]=[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):c.type==="error"?(v(),m("svg",E3,a[1]||(a[1]=[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)]))):c.type==="warning"?(v(),m("svg",S3,a[2]||(a[2]=[l("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(v(),m("svg",T3,a[3]||(a[3]=[l("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])))],2),l("div",A3,[l("p",{class:ae(["text-sm font-semibold mb-1",[c.type==="success"?"text-green-400":c.type==="error"?"text-red-400":c.type==="warning"?"text-yellow-400":"text-blue-400"]])},P(c.title),3),l("p",I3,P(c.message),1)]),l("button",{onClick:u=>o(c.id),class:"flex-shrink-0 w-6 h-6 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors"},a[4]||(a[4]=[l("svg",{class:"w-4 h-4 text-gray-400 hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,$3)])],2))),128))]),_:1})])]))}},P3=Ke(R3,[["__scopeId","data-v-3619c8a5"]]),O3={class:"bg-gradient-to-b from-gray-900 to-black text-white border-t border-gray-800"},M3={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},j3={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8"},N3={class:"space-y-2"},L3={__name:"FooterComponent",setup(t){const e=N(!1),s=()=>{e.value=window.scrollY>300},n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return et(()=>{window.addEventListener("scroll",s)}),Dt(()=>{window.removeEventListener("scroll",s)}),(r,o)=>{const i=cs("router-link");return v(),m("footer",O3,[l("div",M3,[l("div",j3,[o[5]||(o[5]=$e('<div class="col-span-1 md:col-span-1"><div class="flex items-center gap-2 mb-4"><svg class="w-10 h-10 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path></svg><span class="text-2xl font-bold text-yellow-400">HTHREE</span></div><p class="text-gray-400 text-sm leading-relaxed"> Phim hay c ri - Trang xem phim online cht lng cao min ph, Vietsub, thuyt minh, b ting full HD. </p><div class="flex gap-3 mt-4"><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a><a href="#" class="w-9 h-9 bg-gray-800 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"><svg class="w-4 h-4 text-gray-400 group-hover:text-black transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a></div></div><div><h3 class="text-white font-semibold text-lg mb-4">Hi p</h3><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Chnh sch bo mt</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">iu khon s dng</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Gii thiu</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Lin h</a></li></ul></div>',2)),l("div",null,[o[4]||(o[4]=l("h3",{class:"text-white font-semibold text-lg mb-4"},"Danh Mc",-1)),l("ul",N3,[l("li",null,[re(i,{to:"/list/phim-le/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:Oe(()=>o[0]||(o[0]=[be("Phim L")])),_:1})]),l("li",null,[re(i,{to:"/list/phim-bo/page/1",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},{default:Oe(()=>o[1]||(o[1]=[be("Phim B")])),_:1})]),o[2]||(o[2]=l("li",null,[l("a",{href:"#",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},"Chiu Rp")],-1)),o[3]||(o[3]=l("li",null,[l("a",{href:"#",class:"text-gray-400 hover:text-yellow-400 transition-colors text-sm"},"Mi Pht Hnh")],-1))])]),o[6]||(o[6]=$e('<div><h3 class="text-white font-semibold text-lg mb-4">Th Loi</h3><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Hnh ng</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Hi Hc</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Kinh D</a></li><li><a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors text-sm">Tnh Cm</a></li></ul></div>',1))]),o[7]||(o[7]=l("div",{class:"border-t border-gray-800 pt-6"},[l("p",{class:"text-gray-500 text-sm text-center"}," 2024 HTHREE")],-1))]),e.value?(v(),m("button",{key:0,onClick:n,class:"fixed bottom-6 right-6 w-12 h-12 bg-yellow-400 hover:bg-yellow-500 text-black rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 z-50"},o[8]||(o[8]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]))):F("",!0)])}}},B3={key:0,class:"flex flex-col items-center justify-center flex-grow bg-gradient-to-br from-indigo-100 to-gray-50"},D3={key:1,class:"flex-grow"},U3={__name:"App",setup(t){const e=Qs(),s=N(void 0),n=lr(),r=N(null),o=Yi(),i=we(()=>e.path==="/home");return et(()=>{r.value&&E5(r.value);let a=null,c=!1;const u=oo(n,d=>{c=!0,s.value=d,a&&(clearTimeout(a),a=null)});return a=setTimeout(()=>{!c&&s.value===void 0&&(s.value=null,o.error("Khng th kim tra trng thi ng nhp. Vui lng th li!"))},1e4),()=>{u(),a&&clearTimeout(a)}}),(a,c)=>{const u=cs("router-view");return v(),m(ne,null,[re(_3),l("div",{class:ae(["flex flex-col min-h-screen",i.value?"bg-black":"bg-gray-50"])},[re(bg,{class:ae(i.value?"bg-black/90":"shadow-md")},null,8,["class"]),s.value===void 0?(v(),m("div",B3,c[0]||(c[0]=[$e('<div class="text-center"><svg class="animate-spin h-12 w-12 text-indigo-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="text-xl font-semibold text-gray-700">ang kim tra ng nhp...</p></div>',1)]))):(v(),m("main",D3,[re(u,null,{default:Oe(({Component:d,route:h})=>[re(_s,{name:h.meta.transition||"fade",mode:"out-in"},{default:Oe(()=>[(v(),Ae(af(d),{key:h.path}))]),_:2},1032,["name"])]),_:1})])),re(L3)],2),re(P3,{ref_key:"toastRef",ref:r},null,512)],64)}}},H3={class:"min-h-screen bg-black relative overflow-hidden flex items-center justify-center p-4 sm:p-6 lg:p-8"},F3={__name:"WelcomePage",setup(t){const e=Ct(),s=()=>{e.push("/home")};return(n,r)=>(v(),m("div",H3,[r[3]||(r[3]=$e('<div class="absolute inset-0 opacity-20" data-v-42716640><div class="absolute top-0 left-0 w-96 h-96 bg-yellow-400 rounded-full filter blur-3xl animate-blob" data-v-42716640></div><div class="absolute top-0 right-0 w-96 h-96 bg-yellow-600 rounded-full filter blur-3xl animate-blob animation-delay-2000" data-v-42716640></div><div class="absolute bottom-0 left-1/2 w-96 h-96 bg-yellow-500 rounded-full filter blur-3xl animate-blob animation-delay-4000" data-v-42716640></div></div><div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-42716640></div><div class="absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-transparent via-yellow-400 to-transparent" data-v-42716640></div>',3)),l("main",{class:"relative z-10 bg-gray-900/80 backdrop-blur-xl p-6 sm:p-8 rounded-2xl shadow-2xl border border-yellow-400/20 max-w-2xl w-full text-center transform opacity-0 scale-95 animate-fade-in-up"},[l("div",{class:"space-y-5"},[r[1]||(r[1]=$e('<div class="flex justify-center mb-3" data-v-42716640><div class="relative" data-v-42716640><svg class="w-12 h-12 text-yellow-400 animate-pulse-slow" fill="currentColor" viewBox="0 0 20 20" data-v-42716640><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z" data-v-42716640></path></svg><div class="absolute -inset-2 bg-yellow-400/20 rounded-full blur-xl" data-v-42716640></div></div></div><div class="space-y-2" data-v-42716640><p class="text-[10px] sm:text-xs font-medium text-gray-400 uppercase tracking-[0.2em]" data-v-42716640>y Ban Nhn Dn</p><p class="text-xs sm:text-sm font-medium text-gray-300 uppercase tracking-[0.15em]" data-v-42716640>S Gio Dc v o To</p><h1 class="text-sm sm:text-base font-bold text-white uppercase tracking-wide" data-v-42716640> Trng Cao ng Kinh T TP.HCM </h1><p class="text-xs sm:text-sm text-yellow-400 font-semibold italic" data-v-42716640>D n Web Thng Mi in T</p></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-5 mt-6 border-t border-b border-yellow-400/20 py-6" data-v-42716640><div class="text-left space-y-2" data-v-42716640><div class="flex items-center gap-2 mb-2" data-v-42716640><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-42716640><path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" data-v-42716640></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-42716640>Ging Vin Hng Dn</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-42716640>Phm ng Phng</p></div><div class="text-left space-y-2" data-v-42716640><div class="flex items-center gap-2 mb-2" data-v-42716640><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-42716640><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" data-v-42716640></path></svg><p class="text-xs sm:text-sm font-bold text-yellow-400 uppercase" data-v-42716640>Sinh Vin Thc Hin</p></div><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-42716640>Phm Trung Tun</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-42716640>L Anh Vn</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-42716640>Trn Lc Kh T</p><p class="text-xs sm:text-sm text-gray-200 hover:text-yellow-400 transition-colors cursor-pointer pl-6" data-v-42716640>Nguyn L Anh Th</p></div></div><div class="pt-4" data-v-42716640><h2 class="text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 drop-shadow-2xl tracking-tight" data-v-42716640> HTHREE </h2><p class="text-base sm:text-lg text-yellow-400/80 font-light tracking-[0.4em] mt-1" data-v-42716640>FILM</p></div>',4)),l("button",{onClick:s,class:"mt-8 px-8 py-3 bg-yellow-400 text-black font-bold text-base rounded-full shadow-xl shadow-yellow-400/50 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-yellow-400/70 active:scale-95 focus:outline-none focus:ring-4 focus:ring-yellow-400/50 relative overflow-hidden group","aria-label":"Vo Trang Web Chnh"},r[0]||(r[0]=[l("span",{class:"relative z-10 flex items-center justify-center gap-2"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})]),be(" Khm Ph Ngay ")],-1),l("span",{class:"absolute inset-0 bg-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)])),r[2]||(r[2]=l("p",{class:"text-[10px] text-gray-500 mt-6"}," 2025 HTHREE Film",-1))])])]))}},q3=Ke(F3,[["__scopeId","data-v-42716640"]]),V3={class:"comment-form bg-gray-800 rounded-xl p-6 border border-gray-700"},z3={key:0,class:"flex items-center gap-3 mb-4"},W3=["src","alt"],K3={class:"text-white font-medium text-sm"},G3={class:"text-gray-400 text-xs"},J3=["disabled","placeholder"],Y3={class:"flex items-center justify-between mt-2"},X3={class:"text-xs text-gray-500"},Q3=["disabled"],Z3={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},eC={key:1,class:"mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700"},tC={key:2,class:"mt-4 p-4 bg-green-900/50 border border-green-500 rounded-lg flex items-center gap-3 animate-fade-in"},Na="http://localhost/HTHREE_film/backend/api",sC={__name:"CommentForm",props:{movieSlug:{type:String,default:null}},emits:["comment-added","login"],setup(t,{emit:e}){const s=Yi(),n=t,r=e,o=lr(),i=N(null),a=()=>{var C;const y=o.currentUser;if(y){i.value=y,console.log(" CommentForm - Firebase user:",y.email);return}const _=localStorage.getItem("user");if(_)try{i.value=JSON.parse(_),console.log(" CommentForm - PHP user:",(C=i.value)==null?void 0:C.email)}catch(x){console.error("Error parsing PHP user:",x)}};et(()=>{a(),oo(o,y=>{y?(i.value=y,console.log(" CommentForm - Firebase auth changed:",y.email)):a()}),window.addEventListener("storage",a)});const c=N(""),u=N(!1),d=N(!1),h=N(!1),f=()=>{var _,C,x,E;if(h.value||!i.value){const R=((_=i.value)==null?void 0:_.displayName)||((x=(C=i.value)==null?void 0:C.email)==null?void 0:x.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(R)}&background=f59e0b&color=000&size=128`}if(i.value.photoURL)return i.value.photoURL;const y=i.value.displayName||((E=i.value.email)==null?void 0:E.split("@")[0])||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(y)}&background=f59e0b&color=000&size=128`},p=y=>{var C,x,E;h.value=!0;const _=((C=i.value)==null?void 0:C.displayName)||((E=(x=i.value)==null?void 0:x.email)==null?void 0:E.split("@")[0])||"User";y.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(_)}&background=f59e0b&color=000&size=128`},g=y=>{y.shiftKey||(y.preventDefault(),b())},b=async()=>{if(!(!i.value||!c.value.trim())){u.value=!0;try{const y=!!i.value.uid,_=!!i.value.id;console.log(" Submitting comment...",{type:y?"Firebase":"PHP",email:i.value.email,displayName:i.value.displayName||i.value.full_name,uid:i.value.uid,id:i.value.id});let C;if(y){let E=`https://ui-avatars.com/api/?name=${encodeURIComponent(i.value.displayName||i.value.email.split("@")[0])}&background=f59e0b&color=000&size=128`;if(i.value.photoURL)try{const S=await ce.post(`${Na}/upload_avatar.php`,{firebase_uid:i.value.uid,photo_url:i.value.photoURL});S.data.success&&(E=S.data.avatar_url,console.log(" Avatar uploaded:",E))}catch{console.log(" Avatar upload failed, using fallback")}const R=await ce.post(`${Na}/users.php`,{firebase_uid:i.value.uid,email:i.value.email,username:i.value.email.split("@")[0],full_name:i.value.displayName||i.value.email.split("@")[0],avatar:E});if(console.log(" Firebase user response:",R.data),!R.data.success)throw new Error("Failed to register/get user");C=R.data.user.id}else if(_)C=i.value.id,console.log(" PHP user ID:",C);else throw new Error("Invalid user type");const x=await ce.post(`${Na}/comments.php`,{user_id:C,movie_slug:n.movieSlug,content:c.value.trim()});if(x.data.success)d.value=!0,setTimeout(()=>{d.value=!1},3e3),c.value="",r("comment-added"),s.success("Bnh lun  c gi!");else throw new Error(x.data.message||"Failed to submit comment")}catch(y){console.error("Error submitting comment:",y),s.error("Khng th gi bnh lun. Vui lng th li!")}finally{u.value=!1}}};return(y,_)=>{var C;return v(),m("div",V3,[_[5]||(_[5]=l("h3",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[l("span",null,""),be(" Bnh lun ca bn ")],-1)),i.value?(v(),m("div",z3,[l("img",{src:f(),alt:i.value.displayName||i.value.email,class:"w-10 h-10 rounded-full border-2 border-yellow-400 object-cover",onError:p},null,40,W3),l("div",null,[l("p",K3,P(i.value.displayName||((C=i.value.email)==null?void 0:C.split("@")[0])),1),l("p",G3,P(i.value.email),1)])])):F("",!0),Ze(l("textarea",{"onUpdate:modelValue":_[0]||(_[0]=x=>c.value=x),disabled:!i.value,placeholder:i.value?"Chia s suy ngh ca bn... (Enter  gi, Shift+Enter  xung dng)":"Vui lng ng nhp  bnh lun",class:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 transition resize-none",rows:"4",maxlength:"500",onKeydown:qt(g,["enter"])},null,40,J3),[[Lt,c.value]]),l("div",Y3,[l("span",X3,P(c.value.length)+"/500 k t",1),l("button",{onClick:b,disabled:!i.value||!c.value.trim()||u.value,class:"px-6 py-2 bg-yellow-400 text-black font-bold rounded-lg hover:bg-yellow-500 disabled:!bg-gray-600 disabled:!text-gray-400 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 disabled:hover:scale-100 flex items-center gap-2"},[u.value?(v(),m("svg",Z3,_[2]||(_[2]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):F("",!0),l("span",null,P(u.value?"ang gi...":"Gi bnh lun"),1)],8,Q3)]),i.value?F("",!0):(v(),m("div",eC,[_[3]||(_[3]=l("p",{class:"text-gray-400 text-sm mb-3"},"Bn cn ng nhp  bnh lun",-1)),l("button",{onClick:_[1]||(_[1]=x=>y.$emit("login")),class:"w-full px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black font-bold rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 hover:scale-105"}," ng nhp ngay ")])),d.value?(v(),m("div",tC,_[4]||(_[4]=[l("svg",{class:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),l("span",{class:"text-green-400 text-sm font-medium"},"Bnh lun ca bn  c gi thnh cng! ",-1)]))):F("",!0)])}}},wg=Ke(sC,[["__scopeId","data-v-4eeb0613"]]),nC={class:"relative w-full max-w-3xl bg-[#181818] rounded-lg shadow-2xl overflow-hidden"},rC={key:0,class:"flex items-center justify-center h-96"},oC={key:1,class:"relative w-full aspect-video bg-black"},iC=["src"],aC=["src"],lC=["src"],cC={key:3,class:"w-full h-full flex items-center justify-center bg-gray-800"},uC={class:"absolute bottom-0 left-0 right-0 p-6"},dC={class:"text-2xl font-bold text-white mb-3"},hC={class:"flex gap-2"},fC={key:0,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pC={key:1,class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},gC={class:"p-6 bg-[#181818]"},vC={class:"grid grid-cols-3 gap-6 mb-5"},mC={class:"col-span-2"},yC={class:"flex items-center gap-3 text-sm mb-3"},bC={class:"text-green-400 font-semibold"},wC={class:"text-white"},_C={class:"px-2 py-0.5 border border-gray-500 text-gray-300 text-xs"},xC={class:"space-y-2 text-xs"},kC={key:0},CC={class:"text-white"},EC={key:1},SC={class:"text-white"},TC={key:2},AC={class:"text-white"},IC={key:3},$C={class:"text-white"},RC={key:0,class:"mb-6 border-t border-gray-700 pt-5"},PC={class:"flex items-center justify-between mb-4"},OC={class:"text-gray-400 text-sm"},MC={class:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide"},jC={class:"text-3xl font-bold text-gray-500 w-10 flex-shrink-0"},NC=["src","alt"],LC={class:"flex-1 min-w-0"},BC={class:"text-white font-bold mb-2 text-base"},DC={class:"text-gray-400 text-sm leading-relaxed line-clamp-2"},UC={class:"text-gray-400 text-sm flex-shrink-0"},HC={key:1,class:"mb-6 border-t border-gray-700 pt-5"},FC={class:"grid grid-cols-3 gap-4"},qC=["onClick"],VC={class:"relative aspect-video bg-gray-800"},zC=["src","alt"],WC={key:0,class:"absolute top-3 right-3"},KC={class:"px-2 py-1 bg-black/80 text-white text-xs font-bold rounded"},GC={class:"p-4"},JC={class:"flex items-start justify-between mb-3"},YC={class:"flex items-center gap-2 flex-wrap flex-1"},XC={key:0,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},QC={key:1,class:"px-2 py-0.5 bg-yellow-600 text-white text-[10px] font-bold rounded"},ZC={key:2,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},eE={key:3,class:"px-2 py-0.5 bg-blue-600 text-white text-[10px] font-bold rounded"},tE={key:4,class:"px-2 py-0.5 bg-gray-700 text-white text-[10px] font-semibold rounded"},sE={key:5,class:"px-2 py-0.5 bg-purple-600 text-white text-[10px] font-bold rounded"},nE={key:6,class:"px-2 py-0.5 bg-green-600 text-white text-[10px] font-bold rounded"},rE={class:"text-gray-300 text-sm leading-relaxed line-clamp-3 mb-2"},oE={class:"flex items-center justify-between text-xs"},iE={key:0,class:"text-gray-500 italic line-clamp-1"},aE={class:"border-t border-gray-700 pt-5"},lE={key:0,class:"mt-6 space-y-4"},cE=["src","alt"],uE={class:"flex-1"},dE={class:"flex items-center gap-2 mb-1"},hE={class:"text-white font-semibold text-sm"},fE={class:"text-gray-500 text-xs"},pE={class:"text-gray-300 text-sm leading-relaxed"},gE={key:1,class:"mt-6 text-center py-8 bg-[#2a2a2a] rounded-lg"},vE={class:"border-t border-gray-700 pt-5 mt-6"},mE={class:"text-xl font-bold text-white mb-4"},yE={class:"space-y-2 text-sm text-gray-400"},bE={key:0},wE={class:"text-white"},_E={key:1},xE={class:"text-white"},kE={key:2},CE={class:"text-white"},EE={key:3},SE={class:"text-white"},TE="http://localhost/HTHREE_film/backend/api",AE={__name:"MovieDetailModal",props:{isOpen:Boolean,movieSlug:String},emits:["close","open-movie"],setup(t,{emit:e}){const s=t,n=e,r=N(null),o=N([]),i=N([]),a=N([]),c=N(!1),u=N(!1),d=N(!1),h=N(!0),f=we(()=>c.value?i.value:i.value.slice(0,6)),p=()=>{n("close")},g=()=>{c.value=!c.value},b=N(null),y=L=>{var U;return L&&((U=L.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/))==null?void 0:U[1])||""},_=L=>{if(!L)return"";const U=y(L);return U?`https://www.youtube.com/embed/${U}?autoplay=1&mute=1&controls=0&showinfo=0&modestbranding=1&rel=0&iv_load_policy=3&disablekb=1&fs=0&enablejsapi=1&origin=${window.location.origin}`:L},C=()=>{var U;h.value=!h.value;const L=b.value;if(!(!L||!((U=r.value)!=null&&U.trailer_url)))try{const k=h.value?"mute":"unMute";L.contentWindow.postMessage(JSON.stringify({event:"command",func:k,args:[]}),"*"),console.log(` ${h.value?"Muted":"Unmuted"} video`)}catch(k){console.error(" Error toggling mute:",k)}},x=L=>L?L.map(U=>U.name).join(", "):"",E=L=>L?L.map(U=>U.name).join(", "):"",R=L=>L?L.startsWith("http")?L:`https://img.phimapi.com/${L}`:"",S=L=>{console.error("Image load error:",L.target.src),L.target.src="https://placehold.co/800x450/1a1a1a/fff?text=No+Image"},I=async()=>{var L,U,k,D,M,B;if(!s.movieSlug){console.error("No movie slug provided");return}console.log(" Fetching movie details for:",s.movieSlug),d.value=!0;try{const Y=await(await fetch(`https://phimapi.com/phim/${s.movieSlug}`)).json();console.log(" API Response:",Y),console.log(" Response status:",Y.status),console.log(" Response movie:",Y.movie),Y.status==="success"&&Y.movie?(r.value=Y.movie,o.value=((U=(L=Y.episodes)==null?void 0:L[0])==null?void 0:U.server_data)||[],console.log(" Movie data loaded:",r.value.name),console.log(" Episodes:",o.value.length)):Y.status===!0&&Y.movie?(r.value=Y.movie,o.value=((D=(k=Y.episodes)==null?void 0:k[0])==null?void 0:D.server_data)||[],console.log(" Movie data loaded (alt):",r.value.name)):Y.movie?(r.value=Y.movie,o.value=((B=(M=Y.episodes)==null?void 0:M[0])==null?void 0:B.server_data)||[],console.log(" Movie data loaded (no status):",r.value.name)):(console.error(" Invalid API response:",Y),console.error(" Available keys:",Object.keys(Y))),await Promise.all([A(),w()])}catch(H){console.error(" Error fetching movie details:",H)}finally{d.value=!1}},A=async()=>{var L,U,k;try{console.log(" Fetching similar movies...");const M=await(await fetch("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1")).json();console.log(" Similar movies response:",M);let B=[];if((M.status==="success"||M.status===!0)&&M.items?B=M.items.sort(()=>.5-Math.random()).slice(0,12):(L=M.data)!=null&&L.items&&(B=M.data.items.sort(()=>.5-Math.random()).slice(0,12)),B.length===0){console.error(" No items found in response"),i.value=[];return}console.log(" Similar movies loaded:",B.length);const H=await Promise.all(B.map(async Y=>{try{const ue=await(await fetch(`https://phimapi.com/phim/${Y.slug}`)).json();return ue.movie?{...Y,content:ue.movie.content||Y.content,description:ue.movie.description||Y.description,thumb_url:ue.movie.thumb_url||Y.thumb_url,poster_url:ue.movie.poster_url||Y.poster_url}:Y}catch{return console.log(" Could not fetch details for:",Y.slug),Y}}));i.value=H,console.log(" Similar movies with details loaded:",i.value.length),console.log(" First movie thumb_url:",(U=H[0])==null?void 0:U.thumb_url),console.log(" First movie poster_url:",(k=H[0])==null?void 0:k.poster_url)}catch(D){console.error(" Error fetching similar movies:",D),i.value=[]}},w=async()=>{if(s.movieSlug)try{const L=await ce.get(`${TE}/comments.php`,{params:{type:"movie",movie_slug:s.movieSlug,limit:50}});L.data.success&&(a.value=L.data.comments||[],console.log(" Comments loaded:",a.value.length))}catch(L){console.error(" Error fetching comments:",L),a.value=[]}},O=L=>{const U=new Date(L),D=Math.floor((new Date-U)/1e3);return D<60?"Va xong":D<3600?`${Math.floor(D/60)} pht trc`:D<86400?`${Math.floor(D/3600)} gi trc`:D<604800?`${Math.floor(D/86400)} ngy trc`:U.toLocaleDateString("vi-VN")},q=L=>{L!=null&&L.slug&&(console.log(" Opening similar movie:",L.name),n("close"),setTimeout(()=>{n("open-movie",L.slug)},100))};return Je(()=>s.isOpen,L=>{L?(console.log(" Modal opened with slug:",s.movieSlug),s.movieSlug?I():console.error(" No movie slug provided!"),document.body.style.overflow="hidden"):(document.body.style.overflow="",r.value=null,o.value=[],i.value=[],a.value=[],c.value=!1,u.value=!1,h.value=!0)},{immediate:!0}),(L,U)=>(v(),Ae(Kl,{to:"body"},[re(_s,{name:"modal"},{default:Oe(()=>{var k,D,M,B,H,Y,Ee,ue,le,qe,Ve,de,ie,z,se,Z,oe,Re,T,$,j,W,G,K;return[t.isOpen?(v(),m("div",{key:0,class:"fixed inset-0 z-[100] flex items-start justify-center overflow-y-auto bg-black/95 pt-8 pb-8 px-4",onClick:Gs(p,["self"])},[l("div",nC,[l("button",{onClick:p,class:"absolute top-4 right-4 z-50 w-10 h-10 bg-[#181818] hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},U[2]||(U[2]=[l("svg",{class:"w-6 h-6 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),d.value?(v(),m("div",rC,U[3]||(U[3]=[l("div",{class:"text-center"},[l("svg",{class:"animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),l("p",{class:"text-white"},"ang ti thng tin phim...")],-1)]))):(v(),m("div",oC,[(k=r.value)!=null&&k.trailer_url?(v(),m("iframe",{ref_key:"youtubePlayer",ref:b,key:y(r.value.trailer_url),src:_(r.value.trailer_url),class:"w-full h-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,iC)):(D=r.value)!=null&&D.thumb_url?(v(),m("img",{key:1,src:R((M=r.value)==null?void 0:M.thumb_url),class:"w-full h-full object-cover",alt:"Movie banner",onError:S},null,40,aC)):(B=r.value)!=null&&B.poster_url?(v(),m("img",{key:2,src:R((H=r.value)==null?void 0:H.poster_url),class:"w-full h-full object-cover",alt:"Movie poster",onError:S},null,40,lC)):(v(),m("div",cC,U[4]||(U[4]=[l("p",{class:"text-gray-400"},"Khng c nh",-1)]))),U[10]||(U[10]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-[#181818] via-transparent to-transparent"},null,-1)),l("div",uC,[l("h2",dC,P(((Y=r.value)==null?void 0:Y.name)||"ang ti..."),1),l("div",hC,[U[7]||(U[7]=l("button",{class:"px-6 py-2 bg-white text-black font-bold rounded flex items-center gap-2 hover:bg-yellow-400 transition-colors"},[l("svg",{class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24"},[l("path",{d:"M8 5v14l11-7z","stroke-linejoin":"round","stroke-linecap":"round"})]),be(" Pht ")],-1)),U[8]||(U[8]=l("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[l("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)),U[9]||(U[9]=l("button",{class:"w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[l("svg",{class:"w-5 h-5 text-white group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})])],-1)),l("button",{onClick:C,class:"ml-auto w-10 h-10 bg-[#2a2a2a] hover:bg-yellow-400 hover:border-yellow-400 rounded-full flex items-center justify-center transition-colors border-2 border-gray-500 group"},[h.value?(v(),m("svg",fC,U[5]||(U[5]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z","clip-rule":"evenodd"},null,-1),l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"},null,-1)]))):(v(),m("svg",pC,U[6]||(U[6]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"},null,-1)])))])])])])),l("div",gC,[l("div",vC,[l("div",mC,[l("div",yC,[l("span",bC,P((Ee=r.value)==null?void 0:Ee.year),1),l("span",wC,P(((ue=r.value)==null?void 0:ue.episode_current)||"Full"),1),l("span",_C,P(((le=r.value)==null?void 0:le.quality)||"HD"),1)]),l("div",null,[l("p",{class:ae(["text-white text-sm leading-relaxed",{"line-clamp-3":!u.value}])},P(((qe=r.value)==null?void 0:qe.content)||((Ve=r.value)==null?void 0:Ve.description)),3),((z=((de=r.value)==null?void 0:de.content)||((ie=r.value)==null?void 0:ie.description))==null?void 0:z.length)>200?(v(),m("button",{key:0,onClick:U[0]||(U[0]=J=>u.value=!u.value),class:"text-gray-400 hover:text-white text-xs mt-2 flex items-center gap-1 transition-colors"},[l("span",null,P(u.value?"Thu gn":"Xem thm"),1),(v(),m("svg",{class:ae(["w-4 h-4 transition-transform duration-300",{"rotate-180":u.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U[11]||(U[11]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):F("",!0)])]),l("div",xC,[(se=r.value)!=null&&se.actor&&r.value.actor.length?(v(),m("div",kC,[U[12]||(U[12]=l("span",{class:"text-gray-400"},"Din vin: ",-1)),l("span",CC,P(r.value.actor.slice(0,3).join(", ")),1)])):F("",!0),(Z=r.value)!=null&&Z.category?(v(),m("div",EC,[U[13]||(U[13]=l("span",{class:"text-gray-400"},"Th loi: ",-1)),l("span",SC,P(x(r.value.category)),1)])):F("",!0),(oe=r.value)!=null&&oe.country?(v(),m("div",TC,[U[14]||(U[14]=l("span",{class:"text-gray-400"},"Quc gia: ",-1)),l("span",AC,P(E(r.value.country)),1)])):F("",!0),(Re=r.value)!=null&&Re.director&&r.value.director.length?(v(),m("div",IC,[U[15]||(U[15]=l("span",{class:"text-gray-400"},"o din: ",-1)),l("span",$C,P(r.value.director.join(", ")),1)])):F("",!0)])]),o.value&&o.value.length>0?(v(),m("div",RC,[l("div",PC,[U[16]||(U[16]=l("h3",{class:"text-xl font-bold text-white"},"Tp",-1)),l("span",OC,P((T=r.value)==null?void 0:T.name),1)]),l("div",MC,[(v(!0),m(ne,null,pe(o.value,(J,ee)=>{var te,Q,ge,X,he;return v(),m("div",{key:ee,class:"flex items-start gap-4 p-4 bg-[#2a2a2a] hover:bg-[#3a3a3a] rounded cursor-pointer transition-colors group"},[l("span",jC,P(ee+1),1),l("img",{src:R(((te=r.value)==null?void 0:te.thumb_url)||((Q=r.value)==null?void 0:Q.poster_url)),class:"w-36 h-20 object-cover rounded flex-shrink-0",alt:`Episode ${ee+1}`,onError:S},null,40,NC),l("div",LC,[l("h4",BC,P(J.name||`Tp ${ee+1}`),1),l("p",DC,P(((X=(ge=r.value)==null?void 0:ge.content)==null?void 0:X.substring(0,150))||"Ni dung ang cp nht..."),1)]),l("span",UC,P(((he=r.value)==null?void 0:he.time)||"76ph"),1)])}),128))])])):F("",!0),i.value.length>0?(v(),m("div",HC,[U[20]||(U[20]=l("h3",{class:"text-xl font-bold text-white mb-4"},"Ni dung tng t",-1)),l("div",FC,[(v(!0),m(ne,null,pe(f.value,(J,ee)=>(v(),m("div",{key:J._id||J.slug||ee,onClick:te=>q(J),class:"bg-[#2a2a2a] rounded-lg overflow-hidden hover:bg-[#3a3a3a] transition-all duration-300 cursor-pointer group"},[l("div",VC,[l("img",{src:R(J.thumb_url),alt:J.name,class:"w-full h-full object-cover object-center",style:{"object-position":"center 20%"},onError:S},null,40,zC),J.episode_current?(v(),m("div",WC,[l("span",KC,P(J.episode_current),1)])):F("",!0),U[17]||(U[17]=l("div",{class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},[l("div",{class:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center"},[l("svg",{class:"w-6 h-6 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))]),l("div",GC,[l("div",JC,[l("div",YC,[J.quality?(v(),m("span",XC,P(J.quality),1)):(v(),m("span",QC,"HD")),J.lang?(v(),m("span",ZC,P(J.lang),1)):(v(),m("span",eE,"Vietsub")),J.year?(v(),m("span",tE,P(J.year),1)):F("",!0),J.type==="series"?(v(),m("span",sE,"Phim b")):J.type==="single"?(v(),m("span",nE,"Phim l")):F("",!0)]),l("button",{onClick:U[1]||(U[1]=Gs(()=>{},["stop"])),class:"w-7 h-7 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ml-2 group"},U[18]||(U[18]=[l("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))]),l("p",rE,P(J.content||J.description||"Mt b phim hp dn ang ch bn khm ph. Hy xem ngay  bit thm chi tit v ct truyn v dn din vin."),1),l("div",oE,[J.origin_name?(v(),m("span",iE,P(J.origin_name),1)):F("",!0)])])],8,qC))),128))]),i.value.length>6?(v(),m("button",{key:0,onClick:g,class:"mt-6 mx-auto w-12 h-12 border-2 border-gray-500 hover:border-yellow-400 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 group"},[(v(),m("svg",{class:ae(["w-6 h-6 text-gray-400 group-hover:text-black transition-all duration-300",{"rotate-180":c.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U[19]||(U[19]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])):F("",!0)])):F("",!0),l("div",aE,[U[22]||(U[22]=l("h3",{class:"text-lg font-bold text-white mb-4"},"Bnh lun",-1)),re(wg,{"movie-slug":s.movieSlug,onCommentAdded:w},null,8,["movie-slug"]),a.value.length>0?(v(),m("div",lE,[(v(!0),m(ne,null,pe(a.value,J=>(v(),m("div",{key:J.id,class:"flex gap-3 p-4 bg-[#2a2a2a] rounded-lg"},[l("img",{src:J.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(J.full_name||"User")}&background=f59e0b&color=000`,alt:J.full_name,class:"w-10 h-10 rounded-full flex-shrink-0"},null,8,cE),l("div",uE,[l("div",dE,[l("span",hE,P(J.full_name),1),l("span",fE,P(O(J.created_at)),1)]),l("p",pE,P(J.content),1)])]))),128))])):(v(),m("div",gE,U[21]||(U[21]=[l("p",{class:"text-gray-400 text-sm"},"Cha c bnh lun no. Hy l ngi u tin!",-1)])))]),l("div",vE,[l("h3",mE,"Gii thiu v "+P(($=r.value)==null?void 0:$.name),1),l("div",yE,[(j=r.value)!=null&&j.actor&&r.value.actor.length?(v(),m("div",bE,[U[23]||(U[23]=l("span",{class:"text-gray-500"},"Din vin: ",-1)),l("span",wE,P(r.value.actor.join(", ")),1)])):F("",!0),(W=r.value)!=null&&W.category?(v(),m("div",_E,[U[24]||(U[24]=l("span",{class:"text-gray-500"},"Th loi: ",-1)),l("span",xE,P(x(r.value.category)),1)])):F("",!0),(G=r.value)!=null&&G.country?(v(),m("div",kE,[U[25]||(U[25]=l("span",{class:"text-gray-500"},"Series ny: ",-1)),l("span",CE,P(E(r.value.country)),1)])):F("",!0),U[27]||(U[27]=l("div",null,[l("span",{class:"text-gray-500"},"Xp hng  tui: "),l("span",{class:"px-2 py-0.5 border border-gray-500 text-white text-xs rounded"},"T18"),l("span",{class:"text-gray-400"}," khoa thn, t hi, bo hnh tnh dc, bo lc")],-1)),(K=r.value)!=null&&K.director&&r.value.director.length?(v(),m("div",EE,[U[26]||(U[26]=l("span",{class:"text-gray-500"},"o din: ",-1)),l("span",SE,P(r.value.director.join(", ")),1)])):F("",!0)])])])])])):F("",!0)]}),_:1})]))}},Rc=Ke(AE,[["__scopeId","data-v-b0348235"]]),IE={class:"flex items-center gap-3 mb-6"},$E={class:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent"},RE={class:"relative group/row"},PE=["onMouseenter","onClick"],OE={class:"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 group-hover/card:scale-105 group-hover/card:shadow-2xl group-hover/card:shadow-yellow-400/20"},ME=["src","alt"],jE={class:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-2 group-hover/card:translate-y-0 transition-transform duration-300"},NE={class:"text-sm md:text-base font-bold mb-2 line-clamp-2 text-white"},LE={class:"flex items-center gap-2 text-xs mb-2 opacity-0 group-hover/card:opacity-100 transition-opacity duration-300"},BE={key:0,class:"px-2 py-1 bg-gray-700/80 backdrop-blur-sm rounded text-white font-medium"},DE={key:1,class:"px-2 py-1 bg-yellow-500 rounded text-black font-bold"},UE={class:"flex gap-1 flex-wrap opacity-0 group-hover/card:opacity-100 transition-opacity duration-300 delay-100"},HE={class:"bg-gray-900 rounded-lg overflow-hidden shadow-2xl shadow-yellow-400/20 border border-yellow-400/30 transform transition-all duration-300 hover:scale-105 hover:shadow-yellow-400/40"},FE={class:"relative h-[160px] bg-black group/image"},qE=["src","alt"],VE={key:0,class:"absolute top-2 right-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black px-2 py-1 rounded text-[10px] font-bold shadow-lg"},zE={class:"p-3"},WE={class:"text-base font-bold text-white mb-0.5 line-clamp-1"},KE={class:"text-xs text-yellow-400 mb-2 line-clamp-1"},GE={class:"flex gap-1.5 mb-2"},JE={class:"flex gap-1.5 mb-2 flex-wrap"},YE={key:0,class:"bg-yellow-500 text-black px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},XE={key:1,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},QE={key:2,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},ZE={key:3,class:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold uppercase"},eS={key:4,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},tS={key:5,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},sS={key:6,class:"bg-gray-700 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},nS={key:7,class:"bg-purple-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold capitalize"},rS={key:8,class:"bg-green-600 text-white px-1.5 py-0.5 rounded text-[10px] font-bold"},oS={key:0,class:"text-[10px] text-gray-400 mb-1.5"},iS={key:0},aS={class:"text-[11px] text-gray-300 line-clamp-2 leading-relaxed"},lS={__name:"MovieRow",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]}},setup(t){const e=Ct(),s=N(null),n=N(null),r=N(!1),o=N(!1),i=N(null),a=N({}),c=N(!1),u=N(!1),d=N("");let h=null,f=null;const p=w=>{console.log(" Opening movie detail for:",w),w!=null&&w.slug?(console.log(" Movie slug:",w.slug),d.value=w.slug,u.value=!0,I()):console.error(" No slug found for movie:",w)},g=w=>{console.log(" Opening new movie from modal:",w),d.value=w,u.value=!0},b=w=>{if(w.poster_url){const O=w.poster_url.startsWith("http")?w.poster_url:`https://img.phimapi.com/${w.poster_url}`;return console.log(" Using poster_url:",O),O}if(w.thumb_url){const O=w.thumb_url.startsWith("http")?w.thumb_url:`https://img.phimapi.com/${w.thumb_url}`;return console.log(" Using thumb_url:",O),O}return w.backdrop_path?(console.log(" Using backdrop_path:",w.backdrop_path),w.backdrop_path):(console.log(" No image found, using placeholder"),"https://placehold.co/250x350/1a1a1a/fff?text=No+Image")},y=w=>{if(w.thumb_url){const O=w.thumb_url.startsWith("http")?w.thumb_url:`https://img.phimapi.com/${w.thumb_url}`;return console.log(" Preview using thumb_url:",O),O}return w.poster_url?w.poster_url.startsWith("http")?w.poster_url:`https://img.phimapi.com/${w.poster_url}`:w.backdrop_path?w.backdrop_path:"https://placehold.co/320x160/1a1a1a/fff?text=No+Image"},_=w=>w.category&&Array.isArray(w.category)?w.category.map(O=>typeof O=="object"?O.name:O):w.genres&&Array.isArray(w.genres)?w.genres.map(O=>typeof O=="object"?O.name:O):[],C=w=>{w.slug&&e.push(`/film/${w.slug}`)},x=()=>{s.value&&s.value.scrollBy({left:-800,behavior:"smooth"})},E=()=>{s.value&&s.value.scrollBy({left:800,behavior:"smooth"})},R=async(w,O)=>{console.log(" Mouse enter:",w.name),clearTimeout(h);const L=O.currentTarget.getBoundingClientRect();h=setTimeout(async()=>{var D,M;console.log(" Showing preview for:",w.name);let U=L.top-60,k=L.left-30;if(k<20&&(k=20),k+320>window.innerWidth&&(k=window.innerWidth-340),U<20&&(U=20),U+400>window.innerHeight&&(U=window.innerHeight-420),a.value={top:`${U}px`,left:`${k}px`},i.value=w,o.value=!0,w.slug&&(!w.quality||!w.lang||!w.content))try{const B=(await mc(async()=>{const{default:ue}=await Promise.resolve().then(()=>u6);return{default:ue}},void 0)).default,H=new AbortController,Y=setTimeout(()=>H.abort(),3e3),Ee=await B.get(`https://phimapi.com/phim/${w.slug}`,{signal:H.signal});if(clearTimeout(Y),(D=Ee.data)!=null&&D.movie){const ue=Ee.data.movie,le={...w,quality:ue.quality||w.quality,lang:ue.lang||w.lang,content:ue.content||w.content,time:ue.time||w.time,episode_current:ue.episode_current||w.episode_current,type:ue.type||w.type,country:ue.country||w.country,category:ue.category||w.category,chieurap:ue.chieurap!==void 0?ue.chieurap:w.chieurap,sub_docquyen:ue.sub_docquyen!==void 0?ue.sub_docquyen:w.sub_docquyen};((M=i.value)==null?void 0:M.slug)===w.slug&&(i.value=le),Object.assign(w,le),console.log(" Fetched movie details:",le.name)}}catch(B){console.log(" Could not fetch movie details:",B.message)}},300)},S=()=>{clearTimeout(h),setTimeout(()=>{c.value||I()},100)},I=()=>{c.value=!1,o.value=!1,i.value=null},A=w=>{console.error(" Image failed to load:",w.target.src),w.target.src="https://placehold.co/320x160/1a1a1a/fff?text=Image+Not+Found"};return et(()=>{f=new IntersectionObserver(w=>{w.forEach(O=>{O.isIntersecting&&(r.value=!0,f.unobserve(O.target))})},{threshold:.1,rootMargin:"50px"}),n.value&&f.observe(n.value)}),Dt(()=>{f&&n.value&&f.unobserve(n.value)}),(w,O)=>(v(),m(ne,null,[l("div",{ref_key:"movieRowRef",ref:n,class:ae(["movie-row mb-16 px-4 md:px-12 opacity-0 translate-y-10 transition-all duration-700",{"opacity-100 translate-y-0":r.value}])},[l("div",IE,[O[4]||(O[4]=l("div",{class:"w-1 h-8 bg-yellow-400 rounded-full"},null,-1)),l("h2",$E,P(t.title),1)]),l("div",RE,[l("button",{onClick:x,class:"absolute left-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},O[5]||(O[5]=[l("svg",{class:"w-7 h-7 text-black group-hover/arrow:-translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1)])),l("button",{onClick:E,class:"absolute right-2 top-1/2 -translate-y-1/2 z-10 w-14 h-14 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/row:opacity-100 shadow-2xl shadow-yellow-400/50 hover:scale-110 hover:shadow-yellow-400/70 group/arrow"},O[6]||(O[6]=[l("svg",{class:"w-7 h-7 text-black group-hover/arrow:translate-x-0.5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"3"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1)])),l("div",{ref_key:"scrollContainer",ref:s,class:"flex gap-4 overflow-x-auto scrollbar-hide pb-4 select-none scroll-smooth"},[(v(!0),m(ne,null,pe(t.movies,(q,L)=>{var U;return v(),m("div",{key:q._id||q.slug,class:ae(["movie-card flex-none w-[160px] md:w-[220px] lg:w-[260px] cursor-pointer group/card opacity-0 translate-x-8 transition-all duration-500",{"opacity-100 translate-x-0":r.value}]),onMouseenter:k=>R(q,k),onMouseleave:S,onClick:k=>C(q),style:$t({transitionDelay:r.value?`${L*50}ms`:"0ms"})},[l("div",OE,[l("img",{src:b(q),alt:q.title||q.name,class:"w-full h-[240px] md:h-[330px] lg:h-[390px] object-cover transition-transform duration-500 group-hover/card:scale-110",onError:A},null,40,ME),O[7]||(O[7]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-60 group-hover/card:opacity-90 transition-opacity duration-300"},null,-1)),l("div",jE,[l("h3",NE,P(q.title||q.name),1),l("div",LE,[q.year?(v(),m("span",BE,P(q.year),1)):F("",!0),q.quality?(v(),m("span",DE,P(q.quality),1)):F("",!0)]),l("div",UE,[(v(!0),m(ne,null,pe((U=q.category||q.genres)==null?void 0:U.slice(0,2),k=>(v(),m("span",{key:k.slug||k,class:"text-xs text-gray-300 bg-gray-800/60 backdrop-blur-sm px-2 py-0.5 rounded"},P(k.name||k),1))),128))])]),O[8]||(O[8]=l("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover/card:opacity-100 transition-all duration-300 scale-50 group-hover/card:scale-100"},[l("div",{class:"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center shadow-xl"},[l("svg",{class:"w-8 h-8 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1))])],46,PE)}),128))],512)])],2),re(Rc,{"is-open":u.value,"movie-slug":d.value,onClose:O[0]||(O[0]=q=>u.value=!1),onOpenMovie:g},null,8,["is-open","movie-slug"]),(v(),Ae(Kl,{to:"body"},[o.value&&i.value?(v(),m("div",{key:0,style:$t({...a.value,zIndex:99999}),class:"fixed w-[320px] animate-scale-in-smooth pointer-events-auto",onMouseenter:O[3]||(O[3]=q=>c.value=!0),onMouseleave:I},[l("div",HE,[l("div",FE,[l("img",{src:y(i.value),alt:i.value.name,class:"w-full h-full object-cover",onError:A},null,40,qE),O[9]||(O[9]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"},null,-1)),O[10]||(O[10]=l("div",{class:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover/image:opacity-100 transition-all duration-300"},[l("div",{class:"w-14 h-14 bg-yellow-400 rounded-full flex items-center justify-center shadow-2xl transform transition-all duration-300 group-hover/image:scale-110 animate-pulse-slow"},[l("svg",{class:"w-7 h-7 text-black ml-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})])])],-1)),i.value.quality?(v(),m("div",VE,P(i.value.quality),1)):F("",!0)]),l("div",zE,[l("h3",WE,P(i.value.name),1),l("p",KE,P(i.value.origin_name),1),l("div",GE,[l("button",{onClick:O[1]||(O[1]=q=>C(i.value)),class:"flex-1 flex items-center justify-center gap-1.5 bg-yellow-400 text-black px-3 py-1.5 rounded-lg font-bold text-xs hover:bg-yellow-500 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-yellow-400/50"},O[11]||(O[11]=[l("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),be(" Xem ngay ")])),O[13]||(O[13]=l("button",{class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn"},[l("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-red-400 transition-colors",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),l("button",{onClick:O[2]||(O[2]=Gs(q=>p(i.value),["stop"])),class:"w-8 h-8 bg-gray-800 hover:bg-gray-700 hover:scale-110 rounded-lg flex items-center justify-center transition-all duration-300 group/btn",title:"Cc tp & Thng tin"},O[12]||(O[12]=[l("svg",{class:"w-3.5 h-3.5 text-white group-hover/btn:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]))]),l("div",JE,[i.value.quality?(v(),m("span",YE,P(i.value.quality),1)):F("",!0),i.value.lang?(v(),m("span",XE,P(i.value.lang),1)):i.value.sub_docquyen?(v(),m("span",QE," Vietsub ")):i.value.chieurap===!1?(v(),m("span",ZE," Vietsub ")):F("",!0),i.value.year?(v(),m("span",eS,P(i.value.year),1)):F("",!0),i.value.time?(v(),m("span",tS,P(i.value.time),1)):i.value.episode_current?(v(),m("span",sS,P(i.value.episode_current),1)):F("",!0),i.value.type?(v(),m("span",nS,P(i.value.type==="series"?"Phim b":i.value.type==="single"?"Phim l":i.value.type==="hoathinh"?"Hot hnh":i.value.type),1)):F("",!0),i.value.country&&i.value.country.length>0?(v(),m("span",rS,P(Array.isArray(i.value.country)?i.value.country[0].name||i.value.country[0]:i.value.country),1)):F("",!0)]),_(i.value).length?(v(),m("div",oS,[(v(!0),m(ne,null,pe(_(i.value).slice(0,3),(q,L)=>(v(),m("span",{key:L},[be(P(q),1),L<Math.min(2,_(i.value).length-1)?(v(),m("span",iS,"  ")):F("",!0)]))),128))])):F("",!0),l("p",aS,P(i.value.content||"ang cp nht m t..."),1)])])],36)):F("",!0)]))],64))}},at=Ke(lS,[["__scopeId","data-v-6b242ee5"]]),cS={class:"community-section bg-black py-12 px-4 md:px-12"},uS={class:"max-w-[1920px] mx-auto"},dS={class:"mb-10"},hS={class:"mb-8"},fS={class:"relative group/scroll"},pS={class:"relative z-10"},gS={class:"flex gap-3 mb-3 justify-between"},vS={class:"relative flex-shrink-0"},mS=["src","alt"],yS={key:0,class:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 bg-yellow-400 text-black text-[10px] font-bold px-1.5 py-0.5 rounded-full shadow-lg"},bS={class:"flex-shrink-0"},wS=["src","alt"],_S={class:"mb-2"},xS={class:"flex items-center gap-1.5"},kS={class:"text-white font-bold text-sm drop-shadow-lg"},CS={key:0,class:"text-yellow-400 text-xs"},ES={class:"text-gray-200 text-xs leading-relaxed mb-3 line-clamp-2 drop-shadow-md"},SS={class:"flex items-center gap-4 text-gray-300"},TS={class:"flex items-center gap-1.5 hover:text-green-400 transition-colors"},AS={class:"text-xs font-medium"},IS={class:"flex items-center gap-1.5 hover:text-red-400 transition-colors"},$S={class:"text-xs font-medium"},RS={class:"flex items-center gap-1.5 hover:text-blue-400 transition-colors"},PS={class:"text-xs font-medium"},OS={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},MS={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},jS={class:"space-y-2 mb-3"},NS={key:0,class:"text-center py-4 text-gray-500 text-xs"},LS={class:"text-yellow-400 font-bold text-xs w-5"},BS=["src"],DS={class:"flex-1 min-w-0"},US={class:"text-white text-xs font-medium truncate"},HS={class:"text-gray-400 text-[10px]"},FS={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},qS={class:"space-y-2 mb-3"},VS={key:0,class:"text-center py-4 text-gray-500 text-xs"},zS={class:"text-yellow-400 font-bold text-xs w-5"},WS=["src"],KS={class:"flex-1 min-w-0"},GS={class:"text-white text-xs font-medium truncate"},JS={class:"text-gray-400 text-[10px]"},YS={class:"bg-gray-900/30 rounded-lg p-4 border border-gray-800"},XS={class:"space-y-3 max-h-[400px] overflow-hidden"},QS={class:"flex items-start gap-2 mb-1.5"},ZS=["src"],eT={class:"flex-1 min-w-0"},tT={class:"flex items-center gap-1.5"},sT={class:"text-white text-xs font-medium"},nT={key:0,class:"text-green-400 text-[10px] animate-pulse"},rT={class:"text-gray-400 text-[10px]"},oT={class:"text-gray-300 text-[11px] line-clamp-2 leading-relaxed"},iT={class:"flex items-center justify-between p-4 border-b border-gray-800"},aT={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},lT={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},cT={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},uT=["src","alt"],dT={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},hT={class:"text-white text-sm font-medium line-clamp-2"},fT={class:"text-gray-400 text-xs"},pT={class:"flex items-center justify-between p-4 border-b border-gray-800"},gT={class:"p-4 overflow-y-auto max-h-[calc(80vh-80px)] scrollbar-hide"},vT={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},mT={class:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2"},yT=["src","alt"],bT={class:"absolute top-2 left-2 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},wT={class:"text-white text-sm font-medium line-clamp-2"},_T={class:"text-gray-400 text-xs"},xT="http://localhost/HTHREE_film/backend/api",kT={__name:"CommunitySection",setup(t){const e=N(null),s=N([]),n=N([]),r=N([]),o=N([]),i=N([]),a=N(!1),c=N(!1),u=N([{id:1,name:"Hoang Gang",avatar:"https://ui-avatars.com/api/?name=Hoang&background=f59e0b&color=000",time:"va xong",text:"lun l b phim tuyt vi nht m ti tng xem"},{id:2,name:"Margaret Qualley",avatar:"https://ui-avatars.com/api/?name=Margaret&background=ef4444&color=fff",time:"2 pht trc",text:"Tuyt vi! Din xut qu nh"},{id:3,name:"Tsukii",avatar:"https://ui-avatars.com/api/?name=Tsukii&background=3b82f6&color=fff",time:"5 pht trc",text:"Cm n  chia s!"}]),d=[{name:"Minh Anh",text:"Phim hay qu! Ti  xem 3 ln ri "},{name:"Tun Kit",text:"CGI nh cao, xng ng 5 sao "},{name:"Linh Chi",text:"Cm ng qu, ti  khc khi xem "},{name:"Hong Long",text:"Din vin din xut rt t nhin "},{name:"Phng Anh",text:"Ct truyn hp dn t u n cui!"},{name:"c Anh",text:"Nhc phim hay lm, nghe mi khng chn "},{name:"Mai Ly",text:"Phim ny ng xem, recommend mi ngi!"},{name:"Quang Huy",text:"o din ti nng tht! Mi cnh u  ngha"},{name:"Tho Nguyn",text:"Tuyt vi! Khng th b l b phim ny"},{name:"Vn Ton",text:"Phim hay nhng hi di, nn chia lm 2 phn xem"},{name:"Bo Trm",text:"Cnh quay p mt, mu sc rc r "},{name:"Hi Nam",text:"Ni dung su sc, ng suy ngm "},{name:"Khnh Linh",text:"Phim ny lm ti nh v tui th..."},{name:"Duy Khnh",text:"Xem xong mun xem li ngay! "},{name:"Thu H",text:"Din vin ph cng din rt hay!"},{name:"Minh Tun",text:"Phim Vit ngy cng cht lng "},{name:"Ngc Anh",text:"Cm n  chia s phim hay! "},{name:"Trung Hiu",text:"Phim ny ng gi tng pht xem!"},{name:"Lan Hng",text:"Ti  gii thiu cho bn b xem ri "},{name:"Quc Bo",text:"Phim hay, nhng cn ph  tt hn"},{name:"Anh Tun",text:"Xem lc 2h sng vn khng bun ng! "},{name:"Hng Giang",text:"Phim ny viral trn TikTok ri "},{name:"Bo Ngc",text:"Mnh  khc ht c hp khn giy "},{name:"Thanh Tng",text:"Phim xut sc! Oscar phi trao gii cho phim ny"},{name:"Kim Ngn",text:"Nhc nn qu nh, ai bit tn bi khng?"},{name:"Vit Anh",text:"Phim ny phi xem  rp mi !"},{name:"Thy Linh",text:"Cnh cui lm ti sc nng "},{name:"ng Khoa",text:"Phim hay nht nm nay lun!"},{name:"Phng Tho",text:"Ti  mua v xem 2 ln ri "},{name:"Hu Ngha",text:"Din vin chnh qu p trai! "},{name:"Thanh H",text:"Phim ny ng  ch i!"},{name:"Minh Qun",text:"Xem xong mun i du lch ngay! "},{name:"T Anh",text:"Phim ny lm ti suy ngh nhiu v cuc sng"},{name:"Hoi Nam",text:"Cnh hnh ng mn nhn qu! "},{name:"Bch Ngc",text:"Ti  recommend cho c cng ty xem ri"},{name:"Quang Minh",text:"Phim ny xng ng trending #1! "},{name:"Hnh Nhn",text:"Xem i xem li vn thy hay!"},{name:"Tun V",text:"Phim ny phi vo top 10 nm!"},{name:"Ngc Trinh",text:"Cm xc ln xung nh tu ln! "},{name:"c Thnh",text:"Phim ny lm ti ci v khc!"},{name:"Mai Phng",text:"o din thin ti! Respect! "},{name:"Hng Nhung",text:"Phim ny s l huyn thoi!"},{name:"Trng i",text:"Xem xong ti  tr thnh fan cng!"},{name:"Yn Nhi",text:"Phim ny phi c phn 2 thi! "},{name:"Cng Phng",text:"Ti  xem trailer 10 ln ri!"},{name:"Tho My",text:"Phim ny ng  i c nm!"},{name:"Xun Trng",text:"Cnh chin u qu honh trng! "},{name:"Diu Hng",text:"Ti s mua a Bluray v su tm!"},{name:"Minh Hng",text:"Phim ny lm ti tin vo tnh yu! "},{name:"Tun Hng",text:"m thanh Dolby Atmos qu nh! "}],h=["f59e0b","ef4444","3b82f6","10b981","ec4899","8b5cf6","14b8a6","f97316"];let f=4,p=null;const g=()=>{var R;return(R=e.value)==null?void 0:R.scrollBy({left:-280,behavior:"smooth"})},b=()=>{var R;return(R=e.value)==null?void 0:R.scrollBy({left:280,behavior:"smooth"})};Je([a,c],([R,S])=>{R||S?document.body.style.overflow="hidden":document.body.style.overflow=""});const y=async()=>{var R,S,I;try{const[A,w,O]=await Promise.all([ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}}),ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:2}}),ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:3}})]),q=[...((R=A.data)==null?void 0:R.items)||[],...((S=w.data)==null?void 0:S.items)||[],...((I=O.data)==null?void 0:I.items)||[]];if(console.log(" API Response - Total movies:",q.length),q.length>0){const L=q,U=[{name:"N VL",avatar:"https://ui-avatars.com/api/?name=NVL&background=f59e0b&color=000",text:"Tp mt bc mnh nam chnh tht s, tr li cu hi m c ng ng...",likes:1,dislikes:0,replies:4},{name:"Khuong Nguyen",avatar:"https://ui-avatars.com/api/?name=Khuong&background=3b82f6&color=fff",text:"Ci b ny tht s l hay qu, mnh  xem 3 ln ri m vn thy hay!",likes:5,dislikes:0,replies:2},{name:"Doss Nguyen",avatar:"https://ui-avatars.com/api/?name=Doss&background=ef4444&color=fff",text:"Phim hay lm, din xut tuyt vi, cnh quay p mt!",likes:8,dislikes:1,replies:6},{name:"toni_nguyen",avatar:"https://ui-avatars.com/api/?name=Toni&background=10b981&color=fff",text:"Anime nh cao! Miku chan kawaii qu i mt!",likes:12,dislikes:0,replies:8},{name:"Mai Anh",avatar:"https://ui-avatars.com/api/?name=Mai&background=ec4899&color=fff",text:"Cm ng qu! Ti  khc khi xem phn cui...",likes:15,dislikes:0,replies:10},{name:"Hoang Tuan",avatar:"https://ui-avatars.com/api/?name=Hoang&background=8b5cf6&color=fff",text:"CGI nh cao, xng ng 5 sao! Recommend mi ngi xem",likes:20,dislikes:2,replies:12},{name:"Linh Chi",avatar:"https://ui-avatars.com/api/?name=Linh&background=14b8a6&color=fff",text:"Phim hay nhng hi di, nn chia lm 2 phn xem cho  mt",likes:7,dislikes:1,replies:5},{name:"Minh Khoa",avatar:"https://ui-avatars.com/api/?name=Minh&background=f97316&color=fff",text:"o din ti nng tht! Mi cnh quay u  ngha",likes:18,dislikes:0,replies:9}];s.value=L.slice(0,8).map((H,Y)=>{const Ee=H.poster_url||H.thumb_url||"",ue=Ee.startsWith("http")?Ee:`https://img.phimapi.com/${Ee}`;return{id:Y+1,...U[Y],movieTitle:H.name,moviePoster:ue}});const k=8,D=10;r.value=L.slice(k,k+D).map(H=>{const Y=H.poster_url||H.thumb_url||"";return{title:H.name,year:H.year||2024,poster:Y.startsWith("http")?Y:`https://img.phimapi.com/${Y}`}}),n.value=r.value.slice(0,5);const M=k+D,B=10;i.value=L.slice(M,M+B).map(H=>{const Y=H.poster_url||H.thumb_url||"";return{title:H.name,year:H.year||2024,poster:Y.startsWith("http")?Y:`https://img.phimapi.com/${Y}`}}),o.value=i.value.slice(0,5),console.log(" Total movies from API:",L.length),console.log(" Trending Movies (display):",n.value.length,n.value),console.log(" Trending Movies (all):",r.value.length),console.log(" Favorite Movies (display):",o.value.length,o.value),console.log(" Favorite Movies (all):",i.value.length),console.log(" Top Comments:",s.value),console.log(" Trending:",n.value),console.log(" Favorites:",o.value)}}catch(A){console.log(" Could not load movies:",A.message)}},_=async()=>{var R;try{const S=await ce.get(`${xT}/community.php`);if(console.log(" Community data:",S.data),S.data.success){const I=S.data.data;(R=I.recent_comments)!=null&&R.length&&(u.value=I.recent_comments.map(A=>{let w=A.avatar;if(!w||w.includes("ui-avatars.com")){const O=A.full_name||A.username||"User";w=`https://ui-avatars.com/api/?name=${encodeURIComponent(O)}&background=f59e0b&color=000&size=128`}return{id:A.id,name:A.full_name||A.username,avatar:w,time:A.time_ago,text:A.content}}),console.log(" Updated recent comments:",u.value.length),u.value.forEach((A,w)=>{console.log(`Comment ${w+1}:`,{name:A.name,avatar:A.avatar,text:A.text.substring(0,30)})}))}}catch(S){console.log(" Could not load community data:",S.message)}},C=()=>{const R=d[Math.floor(Math.random()*d.length)],S=h[Math.floor(Math.random()*h.length)],I={id:f++,name:R.name,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(R.name)}&background=${S}&color=fff`,time:"va xong",text:R.text};u.value.unshift(I),u.value.length>10&&u.value.pop(),u.value.forEach((A,w)=>{w===0?A.time="va xong":w===1?A.time="1 pht trc":w===2?A.time="2 pht trc":A.time=`${w+1} pht trc`})},x=()=>{const R=()=>{C();const S=Math.floor(Math.random()*2e3)+2e3;p=setTimeout(R,S)};p=setTimeout(R,2e3)},E=()=>{p&&(clearTimeout(p),p=null)};return et(()=>{_(),y(),x()}),Dt(()=>{E()}),(R,S)=>(v(),m("div",cS,[l("div",uS,[l("div",dS,[re(wg,{onCommentAdded:_})]),l("div",hS,[S[19]||(S[19]=l("div",{class:"flex items-center gap-2 mb-4"},[l("div",{class:"w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center"},[l("span",{class:"text-lg"},"")]),l("h3",{class:"text-base font-bold text-white uppercase tracking-wide"},"TOP BNH LUN")],-1)),l("div",fS,[l("button",{onClick:g,class:"absolute left-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},S[13]||(S[13]=[l("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),l("button",{onClick:b,class:"absolute right-1 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-gray-900/90 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/scroll:opacity-100"},S[14]||(S[14]=[l("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),l("div",{ref_key:"topScrollRef",ref:e,class:"flex gap-4 overflow-x-auto scrollbar-hide py-4 px-2 scroll-smooth"},[(v(!0),m(ne,null,pe(s.value,(I,A)=>(v(),m("div",{key:I.id,class:"flex-none w-[300px] rounded-xl p-4 border border-gray-700/30 hover:border-yellow-400/50 transition-all duration-300 cursor-pointer hover:scale-[1.01] hover:shadow-lg hover:shadow-yellow-400/20 relative overflow-hidden group"},[l("div",{class:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:$t({backgroundImage:`url(${I.moviePoster})`})},null,4),S[18]||(S[18]=l("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm group-hover:bg-black/60 transition-all duration-300"},null,-1)),l("div",pS,[l("div",gS,[l("div",vS,[l("img",{src:I.avatar,alt:I.name,class:"w-14 h-14 rounded-full border-3 border-gray-700/50 group-hover:border-yellow-400 transition-all shadow-lg"},null,8,mS),A===0?(v(),m("div",yS,"")):F("",!0)]),l("div",bS,[l("img",{src:I.moviePoster,alt:I.movieTitle,class:"w-16 h-24 rounded-md object-cover border border-gray-700/50 group-hover:border-yellow-400/50 transition-all shadow-lg",onError:S[0]||(S[0]=w=>w.target.src="https://placehold.co/64x96/1a1a1a/fff?text=No+Image")},null,40,wS)])]),l("div",_S,[l("div",xS,[l("h4",kS,P(I.name),1),A===0?(v(),m("span",CS,"")):F("",!0)])]),l("p",ES,P(I.text),1),l("div",SS,[l("button",TS,[S[15]||(S[15]=l("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})],-1)),l("span",AS,P(I.likes),1)]),l("button",IS,[S[16]||(S[16]=l("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"})],-1)),l("span",$S,P(I.dislikes),1)]),l("button",RS,[S[17]||(S[17]=l("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z","clip-rule":"evenodd"})],-1)),l("span",PS,P(I.replies),1)])])])]))),128))],512)])]),l("div",OS,[l("div",MS,[S[20]||(S[20]=l("div",{class:"flex items-center gap-2 mb-3"},[l("span",{class:"text-base"},""),l("h3",{class:"text-sm font-bold text-white uppercase"},"SI NI NHT")],-1)),l("div",jS,[n.value.length===0?(v(),m("div",NS," ang ti phim... ")):F("",!0),(v(!0),m(ne,null,pe(n.value,(I,A)=>(v(),m("div",{key:A,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[l("span",LS,P(A+1),1),l("img",{src:I.poster,class:"w-8 h-11 rounded object-cover",onError:S[1]||(S[1]=w=>w.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,BS),l("div",DS,[l("p",US,P(I.title),1),l("p",HS,P(I.year),1)])]))),128))]),l("button",{onClick:S[2]||(S[2]=I=>a.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),l("div",FS,[S[21]||(S[21]=l("div",{class:"flex items-center gap-2 mb-3"},[l("span",{class:"text-base"},""),l("h3",{class:"text-sm font-bold text-white uppercase"},"YU THCH NHT")],-1)),l("div",qS,[o.value.length===0?(v(),m("div",VS," ang ti phim... ")):F("",!0),(v(!0),m(ne,null,pe(o.value,(I,A)=>(v(),m("div",{key:A,class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[l("span",zS,P(A+1),1),l("img",{src:I.poster,class:"w-8 h-11 rounded object-cover",onError:S[3]||(S[3]=w=>w.target.src="https://placehold.co/32x44/1a1a1a/fff?text=?")},null,40,WS),l("div",KS,[l("p",GS,P(I.title),1),l("p",JS,P(I.year),1)])]))),128))]),l("button",{onClick:S[4]||(S[4]=I=>c.value=!0),class:"w-full py-2 text-xs text-yellow-400 hover:text-yellow-300 font-medium transition-colors border-t border-gray-800 pt-3"}," Xem thm  ")]),l("div",YS,[S[22]||(S[22]=l("div",{class:"flex items-center gap-2 mb-3"},[l("span",{class:"text-base"},""),l("h3",{class:"text-sm font-bold text-white uppercase"},"BNH LUN MI")],-1)),l("div",XS,[re(Lf,{name:"comment-list"},{default:Oe(()=>[(v(!0),m(ne,null,pe(u.value.slice(0,5),I=>(v(),m("div",{key:I.id,class:"p-2 rounded-lg hover:bg-gray-800/50 transition cursor-pointer"},[l("div",QS,[l("img",{src:I.avatar,class:"w-7 h-7 rounded-full"},null,8,ZS),l("div",eT,[l("div",tT,[l("p",sT,P(I.name),1),I.time==="va xong"?(v(),m("span",nT,"")):F("",!0)]),l("p",rT,P(I.time),1)])]),l("p",oT,P(I.text),1)]))),128))]),_:1})])])])]),re(_s,{name:"modal"},{default:Oe(()=>[a.value?(v(),m("div",{key:0,onClick:S[8]||(S[8]=I=>a.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[l("div",{onClick:S[7]||(S[7]=Gs(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[l("div",iT,[S[24]||(S[24]=l("div",{class:"flex items-center gap-2"},[l("span",{class:"text-2xl"},""),l("h2",{class:"text-xl font-bold text-white"},"SI NI NHT")],-1)),l("button",{onClick:S[5]||(S[5]=I=>a.value=!1),class:"text-gray-400 hover:text-white transition-colors"},S[23]||(S[23]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",aT,[l("div",lT,[(v(!0),m(ne,null,pe(r.value,(I,A)=>(v(),m("div",{key:A,class:"group cursor-pointer"},[l("div",cT,[l("img",{src:I.poster,alt:I.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:S[6]||(S[6]=w=>w.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,uT),l("div",dT,P(A+1),1)]),l("p",hT,P(I.title),1),l("p",fT,P(I.year),1)]))),128))])])])])):F("",!0)]),_:1}),re(_s,{name:"modal"},{default:Oe(()=>[c.value?(v(),m("div",{key:0,onClick:S[12]||(S[12]=I=>c.value=!1),class:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4"},[l("div",{onClick:S[11]||(S[11]=Gs(()=>{},["stop"])),class:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-800 modal-content"},[l("div",pT,[S[26]||(S[26]=l("div",{class:"flex items-center gap-2"},[l("span",{class:"text-2xl"},""),l("h2",{class:"text-xl font-bold text-white"},"YU THCH NHT")],-1)),l("button",{onClick:S[9]||(S[9]=I=>c.value=!1),class:"text-gray-400 hover:text-white transition-colors"},S[25]||(S[25]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",gT,[l("div",vT,[(v(!0),m(ne,null,pe(i.value,(I,A)=>(v(),m("div",{key:A,class:"group cursor-pointer"},[l("div",mT,[l("img",{src:I.poster,alt:I.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:S[10]||(S[10]=w=>w.target.src="https://placehold.co/200x300/1a1a1a/fff?text=No+Image")},null,40,yT),l("div",bT,P(A+1),1)]),l("p",wT,P(I.title),1),l("p",_T,P(I.year),1)]))),128))])])])])):F("",!0)]),_:1})]))}},CT=Ke(kT,[["__scopeId","data-v-ab6d881a"]]),ET={class:"featured-section"},ST={class:"carousel-container"},TT={class:"card-inner"},AT=["src","alt"],IT={class:"card-overlay"},$T={class:"card-content"},RT={class:"card-title"},PT={class:"card-meta"},OT={class:"card-year"},MT={class:"card-rating"},jT={class:"carousel-indicators"},NT=["onClick"],LT={__name:"FeaturedCarousel",setup(t){const e=N([]),s=N(0),n=N(null),r=N(!1),o=N(0),i=N(0),a=N(0),c=E=>{const R=E-s.value,S=Math.abs(R);if(S>5)return{display:"none"};const I=30-S,A=S===0?1.05:1-S*.12,w=1-S*.2,O=R*70+a.value,q=S*15,L=R*6;return{transform:`translateX(${O}%) translateY(${q}px) scale(${A}) rotateY(${L}deg)`,zIndex:I,opacity:w,transition:r.value?"none":"all 0.7s cubic-bezier(0.34, 1.56, 0.64, 1)"}},u=()=>{s.value<e.value.length-1?s.value++:s.value=0,h(s.value)},d=()=>{s.value>0?s.value--:s.value=e.value.length-1,h(s.value)},h=E=>{s.value=E,setTimeout(()=>{const R=document.querySelector(".carousel-indicators"),S=document.querySelector(".indicator.active");R&&S&&S.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},100)},f=E=>{E.target.src="https://placehold.co/300x450/1a1a1a/fff?text=No+Image"},p=E=>{r.value=!0,o.value=E.clientX,i.value=E.clientX},g=E=>{if(!r.value)return;E.preventDefault(),i.value=E.clientX;const R=i.value-o.value,S=100,I=R/window.innerWidth*300;a.value=Math.max(-100,Math.min(S,I))},b=()=>{if(!r.value)return;const E=i.value-o.value;E>30?d():E<-30&&u(),r.value=!1,a.value=0},y=E=>{r.value=!0,o.value=E.touches[0].clientX,i.value=E.touches[0].clientX},_=E=>{if(!r.value)return;E.preventDefault(),i.value=E.touches[0].clientX;const R=i.value-o.value,S=100,I=R/window.innerWidth*300;a.value=Math.max(-100,Math.min(S,I))},C=()=>{b()},x=async()=>{var E,R;try{const S=await ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat",{params:{page:1}});(R=(E=S.data)==null?void 0:E.items)!=null&&R.length&&(e.value=S.data.items.slice(0,20).map(I=>{var A;return{title:I.name,year:I.year||2024,rating:(Math.random()*2+7).toFixed(1),poster:(A=I.poster_url)!=null&&A.startsWith("http")?I.poster_url:`https://img.phimapi.com/${I.poster_url}`}}),s.value=Math.floor(e.value.length/2))}catch(S){console.error("Failed to fetch movies:",S)}};return et(()=>{x(),document.addEventListener("mousemove",g),document.addEventListener("mouseup",b);const E=n.value;E&&(E.addEventListener("touchmove",_),E.addEventListener("touchend",C))}),Dt(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",b);const E=n.value;E&&(E.removeEventListener("touchmove",_),E.removeEventListener("touchend",C))}),(E,R)=>(v(),m("div",ET,[R[3]||(R[3]=l("div",{class:"section-header"},[l("h2",{class:"section-title"}," Phim  C"),l("p",{class:"section-subtitle"},"Nhng b phim c  xut dnh ring cho bn")],-1)),l("div",ST,[l("div",{class:"cards-wrapper",ref_key:"cardsWrapper",ref:n,onMousedown:p,onTouchstart:y},[(v(!0),m(ne,null,pe(e.value,(S,I)=>(v(),m("div",{key:I,class:"movie-card",style:$t(c(I))},[l("div",TT,[l("img",{src:S.poster,alt:S.title,class:"card-poster",onError:f},null,40,AT),l("div",IT,[l("div",$T,[l("h3",RT,P(S.title),1),l("div",PT,[l("span",OT,P(S.year),1),l("span",MT," "+P(S.rating),1)]),R[0]||(R[0]=l("button",{class:"card-button"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})]),be(" Xem Ngay ")],-1))])])])],4))),128))],544),l("div",{class:"carousel-controls"},[l("button",{onClick:d,class:"control-btn prev-btn"},R[1]||(R[1]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),l("button",{onClick:u,class:"control-btn next-btn"},R[2]||(R[2]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),l("div",jT,[(v(!0),m(ne,null,pe(e.value,(S,I)=>(v(),m("button",{key:I,onClick:A=>h(I),class:ae(["indicator",{active:s.value===I}])},null,10,NT))),128))])])]))}},BT=Ke(LT,[["__scopeId","data-v-4bf23af5"]]),DT={class:"bg-black min-h-screen text-white"},UT={key:0,class:"absolute inset-0 z-10 overflow-hidden"},HT=["src"],FT={key:1,class:"absolute inset-0"},qT=["src","alt"],VT={class:"relative z-10 h-full flex items-center container mx-auto px-4 sm:px-6 lg:px-8 pt-20"},zT={class:"max-w-2xl"},WT={class:"text-3xl md:text-4xl lg:text-5xl font-extrabold mb-3 uppercase tracking-tight leading-tight text-white",style:{"text-shadow":"3px 3px 10px rgba(0,0,0,1), 0 0 30px rgba(0,0,0,0.9), 0 0 50px rgba(0,0,0,0.7)"}},KT={class:"text-base md:text-lg text-white mb-4 font-semibold",style:{"text-shadow":"2px 2px 8px rgba(0,0,0,1), 0 0 15px rgba(0,0,0,0.8)"}},GT={class:"flex flex-wrap gap-2 mb-4"},JT={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},YT={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},XT={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},QT={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},ZT={key:0,class:"flex flex-wrap gap-2 mb-5 text-sm"},e8={class:"text-sm md:text-base mb-6 line-clamp-3 text-white leading-relaxed max-w-xl font-semibold",style:{"text-shadow":"2px 2px 8px rgba(0,0,0,1), 0 0 15px rgba(0,0,0,0.9)"}},t8={class:"flex flex-wrap gap-3"},s8=["onClick"],n8=["onClick"],r8={class:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2"},o8=["onClick"],i8={class:"container mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-10 relative z-20"},a8={__name:"Homepage",setup(t){const e=Ct(),s=N([]),n=N(0),r=N([]),o=N([]),i=N([]),a=N([]),c=N([]),u=N([]),d=N([]),h=N(!1),f=N(""),p=N(null);let g=0,b=0,y=!1;const _=N(!1),C=N(""),x=we(()=>s.value[n.value]||null),E=B=>{B!=null&&B.slug&&(C.value=B.slug,_.value=!0)},R=B=>{console.log(" Opening new movie from modal:",B),C.value=B,_.value=!0},S=B=>{B!=null&&B.slug&&e.push(`/film/${B.slug}`)},I=B=>{if(!B)return"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg";if(B.thumb_url){const H=B.thumb_url.startsWith("http")?B.thumb_url:`https://img.phimapi.com/${B.thumb_url}`;return console.log(" Banner using thumb_url:",H),H}return B.poster_url?B.poster_url.startsWith("http")?B.poster_url:`https://img.phimapi.com/${B.poster_url}`:"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},A=B=>{B.target.src="https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},w=B=>{var Y,Ee;if(!B){h.value=!1,f.value="";return}let H=B;if(B.includes("youtube.com/watch")){const ue=(Y=B.split("v=")[1])==null?void 0:Y.split("&")[0];H=`https://www.youtube.com/embed/${ue}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${ue}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}else if(B.includes("youtu.be/")){const ue=(Ee=B.split("youtu.be/")[1])==null?void 0:Ee.split("?")[0];H=`https://www.youtube.com/embed/${ue}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${ue}&iv_load_policy=3&disablekb=1&fs=0&vq=hd1080&hd=1&quality=highres`}h.value=!1,setTimeout(()=>{f.value=H,h.value=!0},500)},O=()=>{n.value=(n.value+1)%s.value.length;const B=s.value[n.value];B!=null&&B.trailer_url?w(B.trailer_url):h.value=!1},q=()=>{n.value=n.value===0?s.value.length-1:n.value-1;const B=s.value[n.value];B!=null&&B.trailer_url?w(B.trailer_url):h.value=!1},L=B=>{n.value=B;const H=s.value[B];H!=null&&H.trailer_url?w(H.trailer_url):h.value=!1},U=B=>{y||Math.abs(B.deltaX)>Math.abs(B.deltaY)&&(B.preventDefault(),y=!0,B.deltaX>0?O():q(),setTimeout(()=>{y=!1},800))},k=B=>{g=B.changedTouches[0].screenX},D=B=>{b=B.changedTouches[0].screenX},M=()=>{if(y)return;const B=g-b;Math.abs(B)>50&&(y=!0,B>0?O():q(),setTimeout(()=>{y=!1},800))};return et(async()=>{var B,H,Y,Ee,ue,le,qe,Ve,de,ie,z,se,Z,oe,Re,T,$,j;try{console.log(" Loading movies from API...");const[W,G,K,J,ee,te,Q,ge,X]=await Promise.all([ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=2"),ce.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=1&limit=30"),ce.get("https://phimapi.com/v1/api/danh-sach/phim-le?page=1&limit=30"),ce.get("https://phimapi.com/v1/api/quoc-gia/han-quoc?page=1&limit=25"),ce.get("https://phimapi.com/v1/api/quoc-gia/trung-quoc?page=1&limit=25"),ce.get("https://phimapi.com/v1/api/quoc-gia/nhat-ban?page=1&limit=25"),ce.get("https://phimapi.com/v1/api/tim-kiem?keyword=hoc vien sieu anh hung")]);console.log(" API calls completed");try{const ye=((H=(B=X==null?void 0:X.data)==null?void 0:B.data)==null?void 0:H.items)||[];if(console.log(" My Hero Academia search results:",ye.length),ye.length>0){const Ie=ye[0];try{const Pe=await ce.get(`https://phimapi.com/phim/${Ie.slug}`);(Y=Pe.data)!=null&&Y.movie?s.value.push({...Ie,content:Pe.data.movie.content||Ie.content,trailer_url:Pe.data.movie.trailer_url}):s.value.push(Ie)}catch{console.log(" Could not fetch My Hero detail, using basic info"),s.value.push(Ie)}}}catch{console.log(" My Hero Academia search failed, skipping")}const he=((Ee=W.data.items)==null?void 0:Ee.slice(0,2))||((le=(ue=W.data.data)==null?void 0:ue.items)==null?void 0:le.slice(0,2))||[];for(const ye of he)if(ye!=null&&ye.slug)try{const Ie=await ce.get(`https://phimapi.com/phim/${ye.slug}`);(qe=Ie.data)!=null&&qe.movie?s.value.push({...ye,content:Ie.data.movie.content||ye.content,trailer_url:Ie.data.movie.trailer_url}):s.value.push(ye)}catch{s.value.push(ye)}(Ve=s.value[0])!=null&&Ve.trailer_url&&w(s.value[0].trailer_url),console.log(" Featured movies loaded:",s.value.length);const xe=G.data.items||((de=G.data.data)==null?void 0:de.items)||[];r.value=xe.sort((ye,Ie)=>{const Pe={FHD:3,HD:2,SD:1,"":0},lt=Pe[ye.quality]||0,rt=Pe[Ie.quality]||0;if(lt!==rt)return rt-lt;const Rt=parseInt(ye.year)||0;return(parseInt(Ie.year)||0)-Rt}),o.value=K.data.items||((ie=K.data.data)==null?void 0:ie.items)||[],i.value=((z=J.data.data)==null?void 0:z.items)||[],a.value=((se=ee.data.data)==null?void 0:se.items)||[],c.value=((Z=te.data.data)==null?void 0:Z.items)||[],u.value=((oe=Q.data.data)==null?void 0:oe.items)||[],d.value=((Re=ge.data.data)==null?void 0:Re.items)||[],console.log(" Movies loaded successfully"),console.log(" Featured:",(T=x.value)==null?void 0:T.name),console.log(" Content:",(j=($=x.value)==null?void 0:$.content)==null?void 0:j.substring(0,100))}catch(W){console.error(" Error loading movies:",W),Me.error("Khng th ti d liu phim")}}),Dt(()=>{}),(B,H)=>{var Y,Ee,ue,le,qe,Ve;return v(),m("div",DT,[l("div",{ref_key:"heroBannerRef",ref:p,class:"relative h-[85vh] overflow-hidden group/hero pt-16",onWheel:U,onTouchstart:k,onTouchmove:D,onTouchend:M},[(v(!0),m(ne,null,pe(s.value,(de,ie)=>{var z;return v(),m("div",{key:de.slug,class:ae(["absolute inset-0 transition-opacity duration-700",n.value===ie?"opacity-100 z-10":"opacity-0 z-0"])},[h.value&&n.value===ie&&f.value?(v(),m("div",UT,[l("iframe",{src:f.value,class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[177.77vh] h-[56.25vw] min-h-full min-w-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:"",style:{"pointer-events":"none"}},null,8,HT),H[1]||(H[1]=l("div",{class:"absolute inset-0 pointer-events-none"},[l("div",{class:"absolute top-0 right-0 w-32 h-20 bg-black"})],-1))])):F("",!0),!h.value||n.value!==ie?(v(),m("div",FT,[l("img",{src:I(de),class:"w-full h-full object-cover",alt:de.name,onError:A},null,40,qT),H[2]||(H[2]=l("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent"},null,-1)),H[3]||(H[3]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"},null,-1))])):F("",!0),l("div",VT,[l("div",zT,[l("h1",WT,P((de==null?void 0:de.name)||"KHM PH PHIM HAY"),1),l("p",KT,P((de==null?void 0:de.origin_name)||""),1),l("div",GT,[de!=null&&de.quality?(v(),m("span",JT,P(de.quality),1)):F("",!0),de!=null&&de.lang?(v(),m("span",YT,P(de.lang),1)):F("",!0),de!=null&&de.year?(v(),m("span",XT,P(de.year),1)):F("",!0),de!=null&&de.time?(v(),m("span",QT,P(de.time),1)):F("",!0)]),(z=de==null?void 0:de.category)!=null&&z.length?(v(),m("div",ZT,[(v(!0),m(ne,null,pe(de.category.slice(0,4),(se,Z)=>(v(),m("span",{key:Z,class:"text-white font-bold",style:{"text-shadow":"2px 2px 6px rgba(0,0,0,1), 0 0 10px rgba(0,0,0,0.9)"}},P(se.name),1))),128))])):F("",!0),l("p",e8,P((de==null?void 0:de.content)||"Khm ph nhng b phim tuyt vi cng HTHREE"),1),l("div",t8,[l("button",{onClick:se=>S(de),class:"flex items-center gap-2 bg-yellow-400 text-black px-8 py-3.5 rounded-full font-bold text-base hover:bg-yellow-500 transition-all shadow-xl hover:scale-105"},H[4]||(H[4]=[l("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),be(" Xem Ngay ")]),8,s8),H[6]||(H[6]=l("button",{class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),l("button",{onClick:se=>E(de),class:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3.5 rounded-full font-bold text-base hover:bg-white/30 transition-all border border-white/30",title:"Cc tp & Thng tin"},H[5]||(H[5]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),8,n8)])])])],2)}),128)),l("div",r8,[(v(!0),m(ne,null,pe(s.value,(de,ie)=>(v(),m("button",{key:`dot-${de.slug}`,onClick:z=>L(ie),class:ae(["transition-all duration-500 ease-out rounded-full transform hover:scale-125",n.value===ie?"w-10 h-2.5 bg-yellow-400 shadow-lg shadow-yellow-400/50":"w-2.5 h-2.5 bg-white/50 hover:bg-white/80"])},null,10,o8))),128))])],544),re(BT),l("div",i8,[(Y=o.value)!=null&&Y.length?(v(),Ae(at,{key:0,title:" Phim Mi Cp Nht",movies:o.value},null,8,["movies"])):F("",!0),(Ee=i.value)!=null&&Ee.length?(v(),Ae(at,{key:1,title:" Phim B Hot",movies:i.value},null,8,["movies"])):F("",!0),(ue=a.value)!=null&&ue.length?(v(),Ae(at,{key:2,title:" Phim L Mi",movies:a.value},null,8,["movies"])):F("",!0),(le=c.value)!=null&&le.length?(v(),Ae(at,{key:3,title:" Phim Hn Quc",movies:c.value},null,8,["movies"])):F("",!0),(qe=u.value)!=null&&qe.length?(v(),Ae(at,{key:4,title:" Phim Trung Quc",movies:u.value},null,8,["movies"])):F("",!0),(Ve=d.value)!=null&&Ve.length?(v(),Ae(at,{key:5,title:" Phim Anime",movies:d.value},null,8,["movies"])):F("",!0)]),re(CT),re(Rc,{"is-open":_.value,"movie-slug":C.value,onClose:H[0]||(H[0]=de=>_.value=!1),onOpenMovie:R},null,8,["is-open","movie-slug"])])}}},l8=Ke(a8,[["__scopeId","data-v-7b939690"]]),c8={class:"banner-carousel mb-16 px-4 md:px-12"},u8={class:"flex items-center gap-3 mb-6"},d8={class:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent"},h8={class:"relative group/carousel"},f8={class:"relative h-[400px] md:h-[500px] rounded-2xl overflow-hidden"},p8=["src","alt"],g8={class:"absolute inset-0 flex items-end"},v8={class:"p-8 md:p-12 max-w-2xl"},m8={class:"text-3xl md:text-5xl font-bold mb-3 drop-shadow-2xl"},y8={class:"text-sm md:text-base text-gray-300 mb-3"},b8={class:"flex gap-2 mb-4 flex-wrap"},w8={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},_8={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},x8={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},k8={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},C8={key:0,class:"flex flex-wrap gap-2 mb-4 text-sm"},E8={class:"text-sm md:text-base text-gray-200 mb-6 line-clamp-2 leading-relaxed"},S8=["onClick"],T8={class:"absolute bottom-6 left-1/2 -translate-x-1/2 z-20 flex gap-2"},A8=["onClick"],I8={__name:"BannerCarousel",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]}},setup(t){const e=t,s=Ct(),n=N(0);let r=null;const o=f=>f.thumb_url?f.thumb_url.startsWith("http")?f.thumb_url:`https://img.phimapi.com/${f.thumb_url}`:f.poster_url?f.poster_url.startsWith("http")?f.poster_url:`https://img.phimapi.com/${f.poster_url}`:"https://placehold.co/1200x500/1a1a1a/fff?text=Banner",i=()=>{n.value=(n.value+1)%e.movies.length},a=()=>{n.value=n.value===0?e.movies.length-1:n.value-1},c=f=>{n.value=f},u=f=>{f.slug&&s.push(`/film/${f.slug}`)},d=()=>{r=setInterval(()=>{i()},8e3)},h=()=>{r&&clearInterval(r)};return et(()=>{d()}),Dt(()=>{h()}),(f,p)=>(v(),m("div",c8,[l("div",u8,[p[0]||(p[0]=l("div",{class:"w-1 h-8 bg-yellow-400 rounded-full"},null,-1)),l("h2",d8,P(t.title),1)]),l("div",h8,[l("div",f8,[(v(!0),m(ne,null,pe(t.movies,(g,b)=>{var y;return v(),m("div",{key:g.slug,class:ae(["absolute inset-0 transition-all duration-1000 ease-in-out",n.value===b?"opacity-100 scale-100 z-10":"opacity-0 scale-105 z-0"])},[l("img",{src:o(g),alt:g.name,class:"w-full h-full object-cover"},null,8,p8),p[2]||(p[2]=l("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/70 to-transparent"},null,-1)),p[3]||(p[3]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/30"},null,-1)),l("div",g8,[l("div",v8,[l("h3",m8,P(g.name),1),l("p",y8,P(g.origin_name),1),l("div",b8,[g.quality?(v(),m("span",w8,P(g.quality),1)):F("",!0),g.lang?(v(),m("span",_8,P(g.lang),1)):F("",!0),g.year?(v(),m("span",x8,P(g.year),1)):F("",!0),g.time?(v(),m("span",k8,P(g.time),1)):F("",!0)]),(y=g==null?void 0:g.category)!=null&&y.length?(v(),m("div",C8,[(v(!0),m(ne,null,pe(g.category.slice(0,4),(_,C)=>(v(),m("span",{key:C,class:"text-gray-300 font-semibold"},P(_.name),1))),128))])):F("",!0),l("p",E8,P(g.content),1),l("button",{onClick:_=>u(g),class:"flex items-center gap-2 bg-yellow-400 text-black px-6 py-3 rounded-full font-bold hover:bg-yellow-500 transition-all shadow-lg hover:shadow-yellow-400/50"},p[1]||(p[1]=[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),be(" Xem Ngay ")]),8,S8)])])],2)}),128))]),l("button",{onClick:a,class:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-black/50 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/carousel:opacity-100 hover:scale-110"},p[4]||(p[4]=[l("svg",{class:"w-6 h-6 text-white hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),l("button",{onClick:i,class:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-black/50 hover:bg-yellow-400 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover/carousel:opacity-100 hover:scale-110"},p[5]||(p[5]=[l("svg",{class:"w-6 h-6 text-white hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),l("div",T8,[(v(!0),m(ne,null,pe(t.movies,(g,b)=>(v(),m("button",{key:`dot-${g.slug}`,onClick:y=>c(b),class:ae(["transition-all duration-500 rounded-full",n.value===b?"w-8 h-2 bg-yellow-400":"w-2 h-2 bg-white/50 hover:bg-white/80 hover:scale-125"])},null,10,A8))),128))])])]))}},dh=Ke(I8,[["__scopeId","data-v-372bd1b0"]]),$8={class:"netflix-home bg-black min-h-screen text-white"},R8={class:"hero-section relative h-[85vh] overflow-hidden group/hero"},P8={class:"absolute inset-0"},O8=["src","alt"],M8={class:"relative z-10 h-full flex items-center"},j8={class:"container mx-auto px-4 md:px-12 flex items-end pb-20 gap-8"},N8={class:"flex-1 max-w-3xl"},L8={class:"text-4xl md:text-6xl lg:text-7xl font-bold mb-4 drop-shadow-2xl uppercase tracking-tight leading-tight"},B8={class:"text-sm md:text-base text-gray-300 mb-3"},D8={class:"flex gap-2 mb-4 flex-wrap"},U8={key:0,class:"bg-yellow-500 text-black px-3 py-1 rounded text-xs font-bold uppercase shadow-xl"},H8={key:1,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold uppercase shadow-xl border-2 border-gray-700"},F8={key:2,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},q8={key:3,class:"bg-gray-900/90 text-white px-3 py-1 rounded text-xs font-bold shadow-xl border-2 border-gray-700"},V8={class:"flex gap-3 mb-4 flex-wrap text-sm"},z8={class:"text-sm md:text-base mb-6 line-clamp-3 text-gray-200 max-w-2xl leading-relaxed"},W8={class:"flex gap-4 items-center"},K8=["onClick"],G8=["onClick"],J8={class:"hidden xl:flex flex-col gap-3 flex-shrink-0"},Y8=["onClick"],X8=["src","alt"],Q8={class:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2"},Z8=["onClick"],eA={class:"movie-rows -mt-20 relative z-20 pb-20"},tA={__name:"NetflixHomepage",setup(t){const e=Ct(),s=N([]),n=N(0);let r=null;const o=N([]),i=N([]),a=N([]),c=N([]),u=N([]),d=N([]),h=N([]),f=N([]),p=N([]),g=N([]),b=N([]),y=N([]),_=N([]),C=q=>{q!=null&&q.slug&&e.push(`/film/${q.slug}`)},x=q=>{if(console.log(" getBannerImage called with movie:",q),!q)return console.log(" No movie provided, using fallback"),"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg";if(q.thumb_url){const L=q.thumb_url.startsWith("http")?q.thumb_url:`https://img.phimapi.com/${q.thumb_url}`;return console.log(" Using thumb_url:",L),L}if(q.poster_url){const L=q.poster_url.startsWith("http")?q.poster_url:`https://img.phimapi.com/${q.poster_url}`;return console.log(" Using poster_url:",L),L}return console.log(" No image found, using fallback"),"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},E=q=>{q.target.src="https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg"},R=()=>{n.value=(n.value+1)%s.value.length,O()},S=()=>{n.value=n.value===0?s.value.length-1:n.value-1,O()},I=q=>{n.value=q,O()},A=()=>{r=setInterval(()=>{R()},1e4)},w=()=>{r&&clearInterval(r)},O=()=>{w(),A()};return et(async()=>{var q,L,U,k,D,M,B,H,Y,Ee,ue,le,qe,Ve;try{console.log(" Starting to load movies from API...");const[de,ie,z,se,Z,oe,Re,T,$,j,W,G,K,J]=await Promise.all([ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=1"),ce.get("https://phimapi.com/v1/api/quoc-gia/han-quoc?page=1"),ce.get("https://phimapi.com/v1/api/quoc-gia/trung-quoc?page=1"),ce.get("https://phimapi.com/v1/api/quoc-gia/nhat-ban?page=1"),ce.get("https://phimapi.com/danh-sach/phim-moi-cap-nhat?page=2"),ce.get("https://phimapi.com/v1/api/danh-sach/phim-bo?page=1"),ce.get("https://phimapi.com/v1/api/danh-sach/phim-le?page=1"),ce.get("https://phimapi.com/v1/api/the-loai/hanh-dong?page=1"),ce.get("https://phimapi.com/v1/api/the-loai/tam-ly?page=1"),ce.get("https://phimapi.com/v1/api/the-loai/hai-huoc?page=1"),ce.get("https://phimapi.com/v1/api/the-loai/kinh-di?page=1"),ce.get("https://phimapi.com/v1/api/tim-kiem?keyword=hoc vien sieu anh hung"),ce.get("https://phimapi.com/v1/api/tim-kiem?keyword=one punch man")]);console.log(" Featured API response:",de.data);const ee=de.data.items||((q=de.data.data)==null?void 0:q.items)||[];s.value=ee.slice(0,5),console.log(" Featured movies count:",s.value.length),o.value=ie.data.items||((L=ie.data.data)==null?void 0:L.items)||[],i.value=((U=z.data.data)==null?void 0:U.items)||[],a.value=((k=se.data.data)==null?void 0:k.items)||[],c.value=((D=Z.data.data)==null?void 0:D.items)||[],u.value=oe.data.items||((M=oe.data.data)==null?void 0:M.items)||[],d.value=((B=Re.data.data)==null?void 0:B.items)||[],h.value=((H=T.data.data)==null?void 0:H.items)||[],f.value=((Y=$.data.data)==null?void 0:Y.items)||[],p.value=((Ee=j.data.data)==null?void 0:Ee.items)||[],g.value=((ue=W.data.data)==null?void 0:ue.items)||[],b.value=((le=G.data.data)==null?void 0:le.items)||[],y.value=(((qe=K.data.data)==null?void 0:qe.items)||[]).slice(0,5),_.value=(((Ve=J.data.data)==null?void 0:Ve.items)||[]).slice(0,5),console.log(" All movies loaded successfully"),A()}catch(de){console.error(" Error loading movies:",de),Me.error("Khng th ti d liu phim")}}),Dt(()=>{w()}),(q,L)=>{var U,k,D,M,B,H,Y,Ee,ue,le,qe,Ve,de;return v(),m("div",$8,[re(bg),l("div",R8,[(v(!0),m(ne,null,pe(s.value,(ie,z)=>{var se;return v(),m("div",{key:ie.slug,class:ae(["absolute inset-0 transition-opacity duration-700",n.value===z?"opacity-100 z-10":"opacity-0 z-0"])},[l("div",P8,[l("img",{src:x(ie),class:"w-full h-full object-cover",alt:ie.name,onError:E},null,40,O8),L[0]||(L[0]=l("div",{class:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-black/40"},null,-1)),L[1]||(L[1]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/50"},null,-1))]),l("div",M8,[l("div",j8,[l("div",N8,[l("h1",L8,P((ie==null?void 0:ie.name)||"Khm ph nhng b phim tuyt vi"),1),l("p",B8,P((ie==null?void 0:ie.origin_name)||""),1),l("div",D8,[ie!=null&&ie.quality?(v(),m("span",U8,P(ie.quality),1)):F("",!0),ie!=null&&ie.lang?(v(),m("span",H8,P(ie.lang),1)):F("",!0),ie!=null&&ie.year?(v(),m("span",F8,P(ie.year),1)):F("",!0),ie!=null&&ie.time?(v(),m("span",q8,P(ie.time),1)):F("",!0)]),l("div",V8,[(v(!0),m(ne,null,pe((se=ie==null?void 0:ie.category)==null?void 0:se.slice(0,4),Z=>(v(),m("span",{key:Z.slug,class:"text-gray-300"},P(Z.name),1))),128))]),l("p",z8,P((ie==null?void 0:ie.content)||"Khm ph nhng b phim tuyt vi cng HTHREE"),1),l("div",W8,[l("button",{onClick:Z=>C(ie),class:"btn-play flex items-center justify-center gap-3 bg-yellow-400 text-black px-6 py-3 rounded-full font-bold text-base hover:bg-yellow-500 transition-all shadow-lg hover:shadow-yellow-400/50"},L[2]||(L[2]=[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})],-1),be(" Xem Ngay ")]),8,K8),L[4]||(L[4]=l("button",{class:"btn-icon flex items-center justify-center w-12 h-12 bg-gray-800/80 text-white rounded-full hover:bg-gray-700 transition-all"},[l("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})])],-1)),l("button",{onClick:Z=>C(ie),class:"btn-icon flex items-center justify-center w-12 h-12 bg-gray-800/80 text-white rounded-full hover:bg-gray-700 transition-all"},L[3]||(L[3]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,G8)])]),l("div",J8,[(v(!0),m(ne,null,pe(s.value,(Z,oe)=>(v(),m("div",{key:Z.slug,onClick:Re=>I(oe),class:ae(["w-32 h-20 rounded-lg overflow-hidden cursor-pointer transition-all hover:scale-105 hover:ring-2 hover:ring-yellow-400",oe===n.value?"ring-2 ring-yellow-400":""])},[l("img",{src:Z.thumb_url||Z.poster_url||"https://placehold.co/128x80/333/fff?text=Movie",alt:Z.name,class:"w-full h-full object-cover"},null,8,X8)],10,Y8))),128))])])])],2)}),128)),l("button",{onClick:S,class:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-14 h-14 bg-black/50 hover:bg-black/80 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/hero:opacity-100"},L[5]||(L[5]=[l("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),l("button",{onClick:R,class:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-14 h-14 bg-black/50 hover:bg-black/80 rounded-full flex items-center justify-center transition-all opacity-0 group-hover/hero:opacity-100"},L[6]||(L[6]=[l("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),l("div",Q8,[(v(!0),m(ne,null,pe(s.value,(ie,z)=>(v(),m("button",{key:`hero-dot-${ie.slug}`,onClick:se=>I(z),class:ae(["transition-all rounded-full",n.value===z?"w-10 h-2.5 bg-yellow-400":"w-2.5 h-2.5 bg-white/50 hover:bg-white/80"])},null,10,Z8))),128))]),L[7]||(L[7]=l("div",{class:"absolute bottom-0 left-0 right-0 h-40 bg-gradient-to-t from-black to-transparent pointer-events-none"},null,-1))]),l("div",eA,[(U=y.value)!=null&&U.length?(v(),Ae(dh,{key:0,title:" Hc Vin Siu Anh Hng",movies:y.value},null,8,["movies"])):F("",!0),(k=_.value)!=null&&k.length?(v(),Ae(dh,{key:1,title:" m Pht Cht Lun",movies:_.value},null,8,["movies"])):F("",!0),(D=o.value)!=null&&D.length?(v(),Ae(at,{key:2,title:" Phim Mi Cp Nht",movies:o.value},null,8,["movies"])):F("",!0),(M=i.value)!=null&&M.length?(v(),Ae(at,{key:3,title:" Phim Hn Quc",movies:i.value},null,8,["movies"])):F("",!0),(B=a.value)!=null&&B.length?(v(),Ae(at,{key:4,title:" Phim Trung Quc",movies:a.value},null,8,["movies"])):F("",!0),(H=c.value)!=null&&H.length?(v(),Ae(at,{key:5,title:" Phim Anime",movies:c.value},null,8,["movies"])):F("",!0),(Y=u.value)!=null&&Y.length?(v(),Ae(at,{key:6,title:" Phim  C",movies:u.value},null,8,["movies"])):F("",!0),(Ee=d.value)!=null&&Ee.length?(v(),Ae(at,{key:7,title:" Phim B Hot",movies:d.value},null,8,["movies"])):F("",!0),(ue=h.value)!=null&&ue.length?(v(),Ae(at,{key:8,title:" Phim L Mi",movies:h.value},null,8,["movies"])):F("",!0),(le=f.value)!=null&&le.length?(v(),Ae(at,{key:9,title:" Phim Hnh ng",movies:f.value},null,8,["movies"])):F("",!0),(qe=p.value)!=null&&qe.length?(v(),Ae(at,{key:10,title:" Phim Tm L",movies:p.value},null,8,["movies"])):F("",!0),(Ve=g.value)!=null&&Ve.length?(v(),Ae(at,{key:11,title:" Phim Hi Hc",movies:g.value},null,8,["movies"])):F("",!0),(de=b.value)!=null&&de.length?(v(),Ae(at,{key:12,title:" Phim Kinh D",movies:b.value},null,8,["movies"])):F("",!0)])])}}},sA=Ke(tA,[["__scopeId","data-v-69b08940"]]),nA=["src","alt"],rA={key:0,class:"absolute top-1 left-0 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded-sm"},oA={key:1,class:"absolute top-8 left-0 text-white bg-red-500 text-xs font-semibold px-2 py-1 rounded-sm shadow-md"},iA={class:"absolute bottom-0 left-0 right-0 p-2.5 sm:p-3 text-white z-10"},aA=["title"],lA=["title"],cA={__name:"MovieCardRecommended",props:{movie:{type:Object,default:null},trending:{type:Boolean,default:!1}},setup(t){const e=r=>{if(!r)return"https://via.placeholder.com/400x600/1a1a1a/ffffff?text=No+Movie";const o=r.poster_path||r.poster_url||r.backdrop_path||r.thumb_url;return(r.title==="Hai Cuc i Mt Tri Tim (Bc S Tim)"||r.name==="Hai Cuc i Mt Tri Tim (Bc S Tim)")&&console.log(" First movie image check:",{title:r.title||r.name,backdrop_path:r.backdrop_path,poster_path:r.poster_path,selected:o}),o?o.startsWith("http")?o:`https://phimimg.com/${o}`:"https://via.placeholder.com/400x600/1a1a1a/ffffff?text=No+Image"},s=r=>{},n=r=>{r.target.src="https://via.placeholder.com/400x600/1a1a1a/ffffff?text=Error"};return(r,o)=>{var i;return t.movie?(v(),Ae(Ge(sc),{key:0,to:`/film/${(i=t.movie)==null?void 0:i.slug}`,class:"relative block w-full aspect-[2/3] rounded-md overflow-hidden group transition-transform duration-300 ease-out hover:scale-105"},{default:Oe(()=>{var a,c,u,d,h,f,p,g,b,y,_,C,x,E;return[l("img",{src:e(t.movie),alt:((a=t.movie)==null?void 0:a.title)||((c=t.movie)==null?void 0:c.name)||"Movie Poster",class:"w-full h-full object-cover",onError:n,onLoad:s,loading:"lazy"},null,40,nA),o[0]||(o[0]=l("div",{class:"absolute bottom-0 left-0 right-0 h-2/5 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),(u=t.movie)!=null&&u.episode_current&&((d=t.movie)!=null&&d.lang)?(v(),m("div",rA,P(t.movie.episode_current)+" + "+P(t.movie.lang),1)):F("",!0),t.trending?(v(),m("div",oA," Trending ")):F("",!0),l("div",iA,[l("h3",{class:"text-sm sm:text-base font-bold truncate group-hover:whitespace-normal group-hover:text-phim-red transition-colors",title:((h=t.movie)==null?void 0:h.title)||((f=t.movie)==null?void 0:f.name)},P(((p=t.movie)==null?void 0:p.title)||((g=t.movie)==null?void 0:g.name)),9,aA),(b=t.movie)!=null&&b.original_title||(y=t.movie)!=null&&y.origin_name?(v(),m("p",{key:0,class:"text-xs text-gray-300 truncate group-hover:whitespace-normal",title:((_=t.movie)==null?void 0:_.original_title)||((C=t.movie)==null?void 0:C.origin_name)},P(((x=t.movie)==null?void 0:x.original_title)||((E=t.movie)==null?void 0:E.origin_name)),9,lA)):F("",!0)]),o[1]||(o[1]=l("div",{class:"absolute inset-0 opacity-0 flex justify-center items-center group-hover:opacity-100 transition-opacity duration-300"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white opacity-80"},[l("circle",{cx:"12",cy:"12",r:"10"}),l("polygon",{points:"10 8 16 12 10 16 10 8"})])],-1))]}),_:1},8,["to"])):F("",!0)}}},Xi=Ke(cA,[["__scopeId","data-v-b3abd96c"]]),uA={class:"min-h-screen bg-gray-900 text-white"},dA={key:0,class:"flex justify-center items-center h-screen"},hA={key:1,class:"flex justify-center items-center h-screen text-red-400"},fA={class:"text-xl font-semibold"},pA={key:2,class:"flex justify-center items-center h-screen text-gray-400"},gA={key:3,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-6 space-y-8"},vA={class:"flex flex-col lg:flex-row gap-8"},mA={class:"lg:w-2/3"},yA={class:"bg-gray-800 p-4 rounded-lg shadow-lg"},bA={class:"text-3xl font-bold text-yellow-400 mb-2"},wA={class:"text-gray-400 text-sm mb-2"},_A={class:"flex items-center gap-4 mb-4"},xA={class:"bg-yellow-500 text-black px-2 py-1 rounded-full text-xs"},kA={class:"flex items-center gap-1"},CA={class:"text-gray-400 text-sm"},EA=["src","alt"],SA={class:"text-gray-300 mb-4"},TA={class:"flex flex-wrap gap-2"},AA={class:"lg:w-1/3 space-y-6"},IA={class:"bg-gray-800 p-4 rounded-lg shadow-lg text-sm"},$A={key:0},RA={class:"bg-gray-800 p-4 rounded-lg shadow-lg"},PA={key:0,class:"text-center text-gray-400 py-4"},OA={key:1,class:"grid grid-cols-2 gap-2"},MA={key:2,class:"text-center text-gray-400 py-4 text-sm"},jA={key:0,class:"bg-gray-800 p-4 rounded-lg shadow-lg"},NA={class:"flex gap-2 overflow-x-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pb-2"},LA=["onClick"],BA={class:"bg-gray-800 p-4 rounded-lg shadow-lg mt-6 flex justify-between items-center"},DA={class:"text-sm text-gray-400"},UA={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",role:"dialog","aria-labelledby":"trailer-title"},HA={class:"bg-gray-900 text-white rounded-xl shadow-2xl p-8 w-full max-w-4xl relative"},FA={id:"trailer-title",class:"text-2xl font-semibold mb-4"},qA={key:0,class:"aspect-video w-full"},VA=["src","title"],zA={key:1,class:"text-gray-400 text-center"},WA={__name:"MovieDetail",setup(t){const e=Qs(),s=Ct(),n=N(null),r=N(!0),o=N(null),i=N(!1),a=N(e.params.filmName),c=N([]),u=N(!1),d=y=>{if(!y)return null;const _=y.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([\w-]+)/);return _?`https://www.youtube.com/embed/${_[1]}`:null},h=N(null),f=async()=>{var y,_,C,x;r.value=!0,o.value=null,n.value=null,console.log("moviedetail.vue: Bt u fetchMovieDetail. filmSlug:",a.value);try{if(!a.value){console.warn("moviedetail.vue: filmSlug khng c gi tr, khng th fetch."),o.value="URL phim khng hp l.",r.value=!1;return}const{getMovieDetail:E}=await mc(async()=>{const{getMovieDetail:S}=await Promise.resolve().then(()=>xg);return{getMovieDetail:S}},void 0),R=await E(a.value);if(console.log("moviedetail.vue: API response:",R),console.log("moviedetail.vue: response.status:",R.status),console.log("moviedetail.vue: response.movie:",R.movie),R.status&&R.movie){const S=R.movie;n.value={id:S._id,title:S.name,original_title:S.origin_name,slug:S.slug,overview:S.content,poster_path:S.poster_url,backdrop_path:S.thumb_url,release_date:S.year?`${S.year}-01-01`:null,vote_average:((y=S.tmdb)==null?void 0:y.vote_average)||0,vote_count:((_=S.tmdb)==null?void 0:_.vote_count)||0,runtime:S.time,genres:((C=S.category)==null?void 0:C.map(I=>I.name))||[],country:((x=S.country)==null?void 0:x.map(I=>I.name))||[],actor:S.actor||[],director:S.director||[],quality:S.quality,lang:S.lang,episode_current:S.episode_current,episode_total:S.episode_total,trailer_url:S.trailer_url,episodes:S.episodes||[],year:S.year},h.value=d(n.value.trailer_url),console.log("moviedetail.vue:  ti thnh cng d liu phim:",n.value),n.value.genres&&n.value.genres.length>0&&p(n.value.genres,n.value.id)}else o.value="Khng tm thy thng tin phim vi slug ny.",console.warn("moviedetail.vue: API khng tr v d liu phim.")}catch(E){console.error("moviedetail.vue: Li khng xc nh khi fetch chi tit phim:",E),o.value="Khng th ti thng tin phim. Vui lng th li sau."}finally{r.value=!1,console.log("moviedetail.vue: Kt thc fetchMovieDetail. Loading:",r.value,"Error:",o.value)}},p=async(y,_)=>{u.value=!0,c.value=[];try{const{data:C,error:x}=await Di.from("movies").select("*").overlaps("genres",y).not("id","eq",_).order("vote_average",{ascending:!1}).limit(4);x?console.error("Li khi fetch phim lin quan:",x):(c.value=C||[],console.log("moviedetail.vue: Phim lin quan  ti:",c.value))}catch(C){console.error("Li khng xc nh khi fetch phim lin quan:",C)}finally{u.value=!1}};Je(()=>e.params.filmName,y=>{a.value=y,console.log("moviedetail.vue: route.params.filmName  thay i thnh:",y),a.value&&f()},{immediate:!0});const g=()=>{if(!n.value)return;const y=n.value.type==="single"?"full":n.value.episode_current||"1";s.push(`/film/${n.value.slug}/tap/${encodeURIComponent(y)}`)},b=y=>{s.push(`/film/${n.value.slug}/tap/${encodeURIComponent(y)}`)};return(y,_)=>(v(),m("div",uA,[r.value?(v(),m("div",dA,_[2]||(_[2]=[$e('<div class="text-center" data-v-bf015281><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-bf015281><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-bf015281></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-bf015281></path></svg><p class="text-xl font-semibold text-gray-300" data-v-bf015281>ang ti thng tin phim...</p></div>',1)]))):o.value?(v(),m("div",hA,[l("p",fA,P(o.value),1)])):n.value?(v(),m("div",gA,[l("div",vA,[l("div",mA,[l("div",yA,[l("h1",bA,P(n.value.title),1),l("p",wA,P(n.value.original_title)+" - "+P(n.value.year),1),l("div",_A,[l("span",xA,"Tp "+P(n.value.episode_current||"N/A")+" "+P(n.value.lang),1),l("div",kA,[(v(),m(ne,null,pe(5,C=>l("svg",{key:C,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",class:ae([C<=Math.round(n.value.vote_average/2)?"text-yellow-400":"text-gray-500","w-4 h-4 mr-0.5"]),fill:"currentColor"},_[4]||(_[4]=[l("path",{d:"M316.9 18.6L225.4 150.3 49.9 171.6c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l129.9 68.3c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L350.6 150.3 259.1 18.6c-10.7-20.9-39.1-20.9-49.8 0z"},null,-1)]),2)),64)),l("span",CA,"("+P(n.value.vote_average||"N/A")+"/10)",1)])]),l("img",{src:n.value.backdrop_path||n.value.poster_path||"https://placehold.co/1200x675/ccc/fff?text=No+Image",alt:`Backdrop phim ${n.value.title}`,class:"w-full h-auto rounded-lg object-cover mb-4",loading:"lazy",onerror:"this.onerror=null;this.src='https://placehold.co/1200x675/ccc/fff?text=No+Image';"},null,8,EA),l("p",SA,P(n.value.overview),1),l("div",TA,[l("button",{onClick:g,class:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 px-4 rounded-lg transition-colors","aria-label":"Xem phim ngay"}," Xem phim "),l("button",{onClick:_[0]||(_[0]=C=>i.value=!0),class:"bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors","aria-label":"Xem trailer phim"}," Trailer ")])])]),l("div",AA,[l("div",IA,[_[12]||(_[12]=l("h3",{class:"text-lg font-semibold text-yellow-400 mb-2"},"Thng tin phim",-1)),l("p",null,[_[5]||(_[5]=l("strong",null,"Th loi:",-1)),be(" "+P(n.value.genres&&n.value.genres.length>0?n.value.genres.join(", "):"N/A"),1)]),l("p",null,[_[6]||(_[6]=l("strong",null,"Thi lng:",-1)),be(" "+P(n.value.runtime?`${n.value.runtime} pht`:"N/A"),1)]),l("p",null,[_[7]||(_[7]=l("strong",null,"Quc gia:",-1)),be(" "+P(n.value.country&&n.value.country.length>0?n.value.country.join(", "):"N/A"),1)]),l("p",null,[_[8]||(_[8]=l("strong",null,"Cht lng:",-1)),be(" "+P(n.value.quality||"N/A"),1)]),l("p",null,[_[9]||(_[9]=l("strong",null,"Ngn ng:",-1)),be(" "+P(n.value.lang||"N/A"),1)]),l("p",null,[_[10]||(_[10]=l("strong",null,"Tnh trng:",-1)),be(" "+P(n.value.status||"N/A"),1)]),n.value.chieurap?(v(),m("p",$A,_[11]||(_[11]=[l("strong",null,"Chiu rp:",-1),be(" C")]))):F("",!0)]),l("div",RA,[_[13]||(_[13]=l("h3",{class:"text-lg font-semibold text-yellow-400 mb-2"},"PHIM LIN QUAN",-1)),u.value?(v(),m("div",PA,"ang ti phim lin quan...")):c.value.length>0?(v(),m("div",OA,[(v(!0),m(ne,null,pe(c.value,C=>(v(),Ae(Xi,{key:C.id,movie:C,trending:!1},null,8,["movie"]))),128))])):(v(),m("div",MA,"Khng tm thy phim lin quan."))])])]),n.value.type==="series"&&n.value.episode_total&&n.value.episode_total>0?(v(),m("div",jA,[_[14]||(_[14]=l("h2",{class:"text-xl font-semibold text-yellow-400 mb-4"},"DANH SCH TP PHIM",-1)),l("div",NA,[(v(!0),m(ne,null,pe(parseInt(n.value.episode_total),(C,x)=>(v(),m("button",{key:x,onClick:E=>b(C),class:ae([{"bg-yellow-500 text-black":C===parseInt(n.value.episode_current),"bg-gray-700 hover:bg-gray-600":C!==parseInt(n.value.episode_current)},"px-3 py-1 rounded-full font-semibold whitespace-nowrap transition-colors"]),"aria-label":"`Xem tp ${epNum}`"}," Tp "+P(C),11,LA))),128))])])):F("",!0),l("div",BA,[l("span",DA,"Chia s: "+P(n.value.view||0),1),_[15]||(_[15]=$e('<div class="flex gap-2" data-v-bf015281><a href="#" class="text-blue-400 hover:text-blue-300" data-v-bf015281><i class="fab fa-facebook-f" data-v-bf015281></i></a><a href="#" class="text-blue-400 hover:text-blue-300" data-v-bf015281><i class="fab fa-twitter" data-v-bf015281></i></a><a href="#" class="text-gray-400 hover:text-gray-300" data-v-bf015281><i class="fab fa-instagram" data-v-bf015281></i></a><a href="#" class="text-green-400 hover:text-green-300" data-v-bf015281><i class="fab fa-whatsapp" data-v-bf015281></i></a></div>',1))]),i.value?(v(),m("div",UA,[l("div",HA,[l("button",{onClick:_[1]||(_[1]=C=>i.value=!1),class:"absolute top-4 right-4 text-white text-3xl hover:text-yellow-400 transition-colors","aria-label":"ng trailer"},"  "),l("h2",FA,"Trailer: "+P(n.value.title),1),h.value?(v(),m("div",qA,[l("iframe",{src:h.value,title:`Trailer - ${n.value.title}`,class:"w-full h-full rounded-lg",frameborder:"0",allowfullscreen:"",loading:"lazy"},null,8,VA)])):(v(),m("p",zA,"Khng c trailer."))])])):F("",!0)])):(v(),m("div",pA,_[3]||(_[3]=[l("p",{class:"text-xl font-semibold"},"Khng tm thy thng tin phim hoc khng ti c d liu.",-1)])))]))}},KA=Ke(WA,[["__scopeId","data-v-bf015281"]]),GA={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-12"},JA={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},YA={key:0,class:"flex justify-center items-center h-screen text-red-400"},XA={class:"text-xl font-semibold"},QA={key:1,class:"flex justify-center items-center h-screen"},ZA={key:2,class:"space-y-8"},e7={class:"text-3xl sm:text-4xl font-extrabold text-center text-indigo-200 tracking-tight"},t7={class:"aspect-video w-full max-w-6xl mx-auto mb-8 rounded-xl overflow-hidden shadow-2xl"},s7=["src","title"],n7={key:0,class:"max-w-6xl mx-auto"},r7={class:"flex flex-wrap gap-3 max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-indigo-500 scrollbar-track-gray-700 p-4 bg-gray-900/50 rounded-xl"},o7=["onClick","aria-label"],i7={__name:"WatchMovie",setup(t){const e=Qs(),s=Ct(),n=N(null),r=N(null),o=N([]),i=N(null),a=N(e.params.filmName),c=N(e.params.tap),u=f=>f.startsWith("Tp ")?f.substring(4).trim():f,d=f=>{const p=u(f);s.push(`/film/${a.value}/tap/${encodeURIComponent(p)}`)},h=async()=>{var f,p;i.value=null,n.value=null,r.value=null,o.value=[];try{const g=await ce.get(`https://phimapi.com/phim/${a.value}`),b=g.data.movie,y=((p=(f=g.data.episodes)==null?void 0:f[0])==null?void 0:p.server_data)||[];if(n.value=b,o.value=y,b.type==="single"){const _=y.find(C=>C.name.toLowerCase().includes("full"));r.value=(_==null?void 0:_.link_embed)||null}else{const _=y.find(C=>parseInt(u(C.name))===parseInt(c.value));r.value=(_==null?void 0:_.link_embed)||null}r.value||(i.value="Khng tm thy link tp phim hoc tp phim khng tn ti.")}catch(g){console.error("Li khi fetch d liu phim  xem:",g),i.value="Khng ti c d liu phim hoc tp phim. Vui lng th li sau.",n.value=null,r.value=null,o.value=[]}};return Je(()=>e.params,f=>{a.value=f.filmName,c.value=f.tap,h()},{immediate:!0}),(f,p)=>(v(),m("div",GA,[l("div",JA,[i.value?(v(),m("div",YA,[l("p",XA,P(i.value),1)])):!n.value||!r.value?(v(),m("div",QA,p[0]||(p[0]=[$e('<div class="text-center" data-v-e371cd53><svg class="animate-spin h-12 w-12 text-indigo-500 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-e371cd53><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-e371cd53></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-e371cd53></path></svg><p class="text-xl font-semibold text-gray-300" data-v-e371cd53>ang ti phim...</p></div>',1)]))):(v(),m("div",ZA,[l("h1",e7,P(n.value.name)+" - "+P(n.value.type==="single"?"Full":`Tp ${c.value}`),1),l("div",t7,[l("iframe",{src:r.value,title:`Xem ${n.value.name} ${n.value.type==="single"?"Full":`Tp ${c.value}`}`,class:"w-full h-full",frameborder:"0",allowfullscreen:"",loading:"lazy"},null,8,s7)]),n.value.type!=="single"?(v(),m("div",n7,[p[1]||(p[1]=l("h2",{class:"text-2xl font-semibold text-orange-300 mb-4"},"Chn tp",-1)),l("div",r7,[(v(!0),m(ne,null,pe(o.value,(g,b)=>(v(),m("button",{key:b,onClick:y=>d(g.name),class:ae([{"bg-indigo-600 text-white":u(g.name)===c.value,"bg-gray-700 hover:bg-gray-600 text-gray-200":u(g.name)!==c.value},"px-4 py-2 rounded-lg font-semibold transition-colors duration-300"]),"aria-label":`Xem tp ${g.name}`},P(g.name),11,o7))),128))])])):F("",!0)]))])]))}},a7=Ke(i7,[["__scopeId","data-v-e371cd53"]]),Pc=!1,Oc="https://phimapi.com/v1/api",Qi=async(t={})=>{const{type_list:e="phim-bo",page:s=1,sort_field:n="_id",sort_type:r="desc",sort_lang:o,category:i,country:a,year:c,limit:u=20}=t;try{if(!Pc){const d=new URLSearchParams({page:s.toString(),sort_field:n,sort_type:r,limit:u.toString()});o&&d.append("sort_lang",o),i&&d.append("category",i),a&&d.append("country",a),c&&d.append("year",c.toString());const h=`${Oc}/danh-sach/${e}?${d.toString()}`;return console.log(" Fetching movies:",h),(await ce.get(h)).data}}catch(d){throw console.error(" Error fetching movies:",d),d}},fo=t=>({...t,backdrop_path:t.thumb_url||"https://placehold.co/400x600/1a1a1a/fff?text=No+Image",poster_path:t.poster_url||t.thumb_url,title:t.name,original_title:t.origin_name}),l7=async t=>{try{const e=Pc?`${Oc}/detail.php?slug=${t}`:`https://phimapi.com/phim/${t}`;return console.log(" Fetching movie detail:",e),(await ce.get(e)).data}catch(e){throw console.error(" Error fetching movie detail:",e),e}},_g=async(t,e={})=>{try{const{page:s=1,limit:n=20,sort_field:r,sort_type:o,sort_lang:i,category:a,country:c,year:u}=e,d=new URLSearchParams({keyword:t,page:s.toString(),limit:n.toString()});r&&d.append("sort_field",r),o&&d.append("sort_type",o),i&&d.append("sort_lang",i),a&&d.append("category",a),c&&d.append("country",c),u&&d.append("year",u.toString());const h=Pc?`${Oc}/search.php?${d.toString()}`:`https://phimapi.com/v1/api/tim-kiem?${d.toString()}`;return console.log(" Searching movies:",h),(await ce.get(h)).data}catch(s){throw console.error(" Error searching movies:",s),s}},xg=Object.freeze(Object.defineProperty({__proto__:null,getMovieDetail:l7,getMovieList:Qi,mapMovieData:fo,searchMovies:_g},Symbol.toStringTag,{value:"Module"})),c7={class:"text-white bg-[#da966e] text-xs px-2 py-1 rounded-sm h-fit font-bold min-w-[28px] text-center"},u7=["src","alt"],d7={class:"flex flex-col text-gray-100 text-sm flex-grow"},h7=["title"],f7={class:"text-xs text-gray-400 mt-1"},p7={class:"flex text-yellow-400 mt-1"},g7={__name:"Rank",props:{trendingMovie:{type:Object,default:null},index:{type:Number,required:!0}},setup(t){const e=t,s=we(()=>{var n;return Math.round(((n=e.trendingMovie)==null?void 0:n.vote_average)/2||0)});return Je(()=>e.trendingMovie,n=>{n?(console.log(`Rank.vue (Index ${e.index}): trendingMovie received:`,n),console.log(`Rank.vue (Index ${e.index}): poster_path:`,n.backdrop_path),console.log(`Rank.vue (Index ${e.index}): title:`,n.title)):console.log(`Rank.vue (Index ${e.index}): trendingMovie is null.`)},{immediate:!0}),(n,r)=>{var o;return t.trendingMovie?(v(),Ae(Ge(sc),{key:0,to:`/film/${(o=t.trendingMovie)==null?void 0:o.slug}`,class:"flex items-start gap-3 mb-4 p-2 rounded-lg transition-colors duration-200 hover:bg-gray-600 cursor-pointer"},{default:Oe(()=>[l("span",c7,P(t.index+1),1),l("img",{src:t.trendingMovie.backdrop_path,alt:t.trendingMovie.title||"Movie Thumbnail",class:"w-[55px] h-[70px] object-cover rounded shadow",onerror:"this.onerror=null;this.src='https://placehold.co/55x70/ccc/fff?text=No+Img';"},null,8,u7),l("div",d7,[l("span",{class:"font-semibold leading-tight break-words",title:t.trendingMovie.title},P(t.trendingMovie.title),9,h7),l("span",f7,P(t.trendingMovie.year),1),l("div",p7,[(v(),m(ne,null,pe(5,i=>l("svg",{key:i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",class:ae([i<=s.value?"text-yellow-400":"text-gray-500","w-3 h-3 mr-0.5"]),fill:"currentColor"},r[0]||(r[0]=[l("path",{d:"M316.9 18.6L225.4 150.3 49.9 171.6c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l129.9 68.3c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L350.6 150.3 259.1 18.6c-10.7-20.9-39.1-20.9-49.8 0z"},null,-1)]),2)),64))])])]),_:1},8,["to"])):F("",!0)}}},Mc=Ke(g7,[["__scopeId","data-v-20e77fdd"]]),jc=yc("recommendedMovies",{state:()=>({recommended:[],loading:!1,error:null}),actions:{async getRecommendedMovies(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await Di.from("movies").select("*").order("vote_average",{ascending:!1}).limit(25);if(e)throw e;this.recommended=t||[],console.log("Pinia Store 'recommendedMovies': Phim  c  ti t Supabase:",this.recommended)}catch(t){console.error("Li khi ly phim  c t Supabase (Pinia Store):",t),this.error=t.message}finally{this.loading=!1}},setRecommendedMovies(t){this.loading=!1,this.error=null,this.recommended=t,console.log("Pinia Store 'recommendedMovies': D liu phim  c  c t th cng:",this.recommended)},setLoading(t){this.loading=t},setError(t){this.error=t}},getters:{getRecommended:t=>t.recommended,getLoading:t=>t.loading,getError:t=>t.error}}),Zi=yc("country",{state:()=>({countries:[],loading:!1,error:null}),actions:{async getCountry(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await Di.from("movies").select("country");if(e)throw e;let s=new Set;t&&t.forEach(n=>{n.country&&Array.isArray(n.country)&&n.country.forEach(r=>{typeof r=="string"&&r.trim()!==""&&s.add(r.trim())})}),this.countries=Array.from(s).map(n=>({name:n,slug:n.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})).sort((n,r)=>n.name.localeCompare(r.name)),console.log("Country Store:  ti countries t Supabase (t bng movies):",this.countries)}catch(t){console.error("Error fetching countries from Supabase (from movies table):",t.message),this.error=t.message,this.countries=[]}finally{this.loading=!1}}},getters:{getAllCountries:t=>t.countries,filterCountries:t=>e=>e?t.countries.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())):t.countries,getLoading:t=>t.loading,getError:t=>t.error}}),v7={class:"min-h-screen bg-black text-white"},m7={class:"relative bg-gradient-to-b from-gray-900 to-black pt-20 pb-12 px-4"},y7={class:"max-w-7xl mx-auto"},b7={class:"flex items-center gap-2 text-sm mb-6 animate-fade-in"},w7={class:"text-yellow-400 font-medium"},_7={class:"text-4xl md:text-5xl font-bold mb-4 animate-slide-up"},x7={class:"bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent"},k7={class:"max-w-7xl mx-auto px-4 py-8"},C7={key:0,class:"space-y-8"},E7={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},S7={key:1,class:"text-center py-20 animate-fade-in"},T7={class:"text-gray-400"},A7={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 mb-8 border border-gray-800 shadow-xl animate-fade-in"},I7={class:"flex flex-wrap gap-4"},$7={class:"relative"},R7=["value"],P7={class:"relative"},O7=["value"],M7={class:"relative"},j7=["value"],N7={class:"mt-4 pt-4 border-t border-gray-800"},L7={class:"text-sm text-gray-400"},B7={class:"text-yellow-400 font-semibold"},D7={key:0},U7={class:"flex flex-col lg:flex-row gap-8"},H7={class:"flex-1"},F7={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},q7={key:1,class:"text-center py-20 animate-fade-in"},V7={class:"lg:w-80 flex-shrink-0"},z7={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800 sticky top-24 animate-fade-in"},W7={key:0,class:"space-y-3 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-800"},K7={key:1,class:"text-gray-500 text-center py-8"},G7={key:0,class:"flex justify-center mt-12 animate-fade-in"},J7={class:"inline-flex items-center gap-2 bg-gray-900/50 backdrop-blur-sm rounded-xl p-2 border border-gray-800"},Y7=["disabled"],X7={key:0,class:"px-3 text-gray-600"},Q7=["onClick"],Z7=["disabled"],eI=20,tI={__name:"ListBaseType",setup(t){const e=Qs(),s=Ct(),n=jc(),r=lo(),o=Zi(),i=N([]),a=N(1),c=N(!0),u=N(null),d=N(parseInt(e.params.pageNumber)||1),h=N(e.query.category||""),f=N(e.query.country||""),p=N(e.query.year||""),g=we(()=>{const I=e.path;return I.includes("/phim-le")?"phim-le":I.includes("/phim-bo")?"phim-bo":I.includes("/le")?"le":I.includes("/bo")?"bo":"phim-le"}),b=we(()=>e.params.typeSlug||g.value),y=we(()=>{const I=[],A=b.value;if(A==="phim-le"||A==="le"?I.push("Phim L"):A==="phim-bo"||A==="bo"?I.push("Phim B"):A==="tv-shows"?I.push("TV Shows"):A==="hoat-hinh"&&I.push("Hot Hnh"),h.value){const w=r.getAllCategories.find(O=>O.slug===h.value);w&&I.push(w.name)}if(f.value){const w=o.getAllCountries.find(O=>O.slug===f.value);w&&I.push(w.name)}return p.value&&I.push(`Nm ${p.value}`),I.length>0?I.join(" - "):"Danh Sch Phim"}),_=we(()=>{const I=new Date().getFullYear(),A=[];for(let w=I;w>=I-20;w--)A.push(w);return A}),C=()=>{const I={};h.value&&(I.category=h.value),f.value&&(I.country=f.value),p.value&&(I.year=p.value),s.push({path:`/${g.value}/page/1`,query:I})},x=()=>{h.value="",f.value="",p.value="",s.push({path:`/${g.value}/page/1`,query:{}})},E=async()=>{var I;c.value=!0,u.value=null,i.value=[];try{const A={page:d.value,limit:eI,sort_field:"modified.time",sort_type:"desc"},w=b.value;w==="phim-le"||w==="le"?A.type="single":w==="phim-bo"||w==="bo"?A.type="series":w==="tv-shows"?A.type="tvshows":w==="hoat-hinh"&&(A.type="hoathinh"),h.value&&(A.category=h.value),f.value&&(A.country=f.value),p.value&&(A.year=parseInt(p.value));const O=await Qi(A);if(O.status&&O.data){i.value=(O.data.items||[]).map(fo);const q=(I=O.data.params)==null?void 0:I.pagination;q?a.value=q.totalPages||q.total_page||1:O.data.pagination?a.value=O.data.pagination.totalPages||O.data.pagination.total_page||1:a.value=1}else i.value=[],a.value=1}catch(A){console.error("Error fetching movies:",A),u.value="Khng th ti d liu phim. Vui lng th li sau.",i.value=[],a.value=1}finally{c.value=!1}},R=I=>{if(I>=1&&I<=a.value){const A={};h.value&&(A.category=h.value),f.value&&(A.country=f.value),p.value&&(A.year=p.value),s.push({path:`/${g.value}/page/${I}`,query:A})}},S=()=>{const I=new Set,A=2;I.add(1),a.value>1&&I.add(a.value);for(let q=d.value-A;q<=d.value+A;q++)q>=1&&q<=a.value&&I.add(q);const w=Array.from(I).sort((q,L)=>q-L),O=[];for(let q=0;q<w.length;q++)O.push(w[q]),q<w.length-1&&w[q+1]-w[q]>1&&O.push("ellipsis");return O};return et(async()=>{n.getRecommended.length===0&&await n.getRecommendedMovies(),r.getAllCategories.length===0&&await r.getCategory(),o.getAllCountries.length===0&&await o.getCountry(),Je(()=>e.params,I=>{d.value=parseInt(I.pageNumber)||1,r.getAllCategories.length>0&&o.getAllCountries.length>0&&E()},{immediate:!0}),Je(()=>e.query,I=>{h.value=I.category||"",f.value=I.country||"",p.value=I.year||"",r.getAllCategories.length>0&&o.getAllCountries.length>0&&E()},{deep:!0}),r.getAllCategories.length>0&&o.getAllCountries.length>0&&E()}),(I,A)=>{const w=cs("router-link");return v(),m("div",v7,[l("div",m7,[l("div",y7,[l("nav",b7,[re(w,{to:"/home",class:"text-gray-400 hover:text-yellow-400 transition-colors"},{default:Oe(()=>A[5]||(A[5]=[be(" Trang ch ")])),_:1}),A[6]||(A[6]=l("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),l("span",w7,P(y.value),1)]),l("h1",_7,[l("span",x7,P(y.value),1)]),A[7]||(A[7]=l("p",{class:"text-gray-400 text-lg animate-slide-up animation-delay-100"}," Khm ph b su tp phim c sc ",-1))])]),l("div",k7,[c.value?(v(),m("div",C7,[A[9]||(A[9]=$e('<div class="bg-gray-900/50 rounded-xl p-6 animate-pulse" data-v-db2e9568><div class="flex flex-wrap gap-4" data-v-db2e9568><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-db2e9568></div><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-db2e9568></div><div class="h-10 bg-gray-800 rounded-lg w-32" data-v-db2e9568></div></div></div>',1)),l("div",E7,[(v(),m(ne,null,pe(10,O=>l("div",{key:O,class:"animate-pulse"},A[8]||(A[8]=[l("div",{class:"aspect-[2/3] bg-gray-800 rounded-lg mb-2"},null,-1),l("div",{class:"h-4 bg-gray-800 rounded w-3/4 mb-2"},null,-1),l("div",{class:"h-3 bg-gray-800 rounded w-1/2"},null,-1)]))),64))])])):u.value?(v(),m("div",S7,[A[10]||(A[10]=l("div",{class:"inline-flex items-center justify-center w-20 h-20 bg-red-500/10 rounded-full mb-4"},[l("svg",{class:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),A[11]||(A[11]=l("h3",{class:"text-xl font-semibold text-red-400 mb-2"},"C li xy ra",-1)),l("p",T7,P(u.value),1)])):(v(),m(ne,{key:2},[l("div",A7,[A[21]||(A[21]=l("h2",{class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},[l("svg",{class:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),be(" B Lc ")],-1)),l("div",I7,[l("div",$7,[Ze(l("select",{"onUpdate:modelValue":A[0]||(A[0]=O=>h.value=O),onChange:C,class:"appearance-none bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 pr-10 text-white focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all hover:border-gray-600 cursor-pointer min-w-[180px]"},[A[12]||(A[12]=l("option",{value:""},"Tt c th loi",-1)),(v(!0),m(ne,null,pe(Ge(r).getAllCategories,O=>(v(),m("option",{key:O.slug,value:O.slug},P(O.name),9,R7))),128))],544),[[Lo,h.value]]),A[13]||(A[13]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400"},[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),l("div",P7,[Ze(l("select",{"onUpdate:modelValue":A[1]||(A[1]=O=>f.value=O),onChange:C,class:"appearance-none bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 pr-10 text-white focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all hover:border-gray-600 cursor-pointer min-w-[180px]"},[A[14]||(A[14]=l("option",{value:""},"Tt c quc gia",-1)),(v(!0),m(ne,null,pe(Ge(o).getAllCountries,O=>(v(),m("option",{key:O.slug,value:O.slug},P(O.name),9,O7))),128))],544),[[Lo,f.value]]),A[15]||(A[15]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400"},[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),l("div",M7,[Ze(l("select",{"onUpdate:modelValue":A[2]||(A[2]=O=>p.value=O),onChange:C,class:"appearance-none bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 pr-10 text-white focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/20 transition-all hover:border-gray-600 cursor-pointer min-w-[140px]"},[A[16]||(A[16]=l("option",{value:""},"Tt c nm",-1)),(v(!0),m(ne,null,pe(_.value,O=>(v(),m("option",{key:O,value:O},P(O),9,j7))),128))],544),[[Lo,p.value]]),A[17]||(A[17]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400"},[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),h.value||f.value||p.value?(v(),m("button",{key:0,onClick:x,class:"bg-gray-800 hover:bg-yellow-400/10 border border-gray-700 hover:border-yellow-400 rounded-lg px-4 py-2.5 text-gray-300 hover:text-yellow-400 transition-all flex items-center gap-2 group"},A[18]||(A[18]=[l("svg",{class:"w-4 h-4 transition-transform group-hover:rotate-90 duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),be(" Xa b lc ")]))):F("",!0)]),l("div",N7,[l("p",L7,[A[19]||(A[19]=be(" Tm thy ")),l("span",B7,P(i.value.length),1),A[20]||(A[20]=be(" phim ")),a.value>1?(v(),m("span",D7," - Trang "+P(d.value)+"/"+P(a.value),1)):F("",!0)])])]),l("div",U7,[l("div",H7,[i.value&&i.value.length>0?(v(),m("div",F7,[(v(!0),m(ne,null,pe(i.value,(O,q)=>(v(),Ae(Xi,{key:O.slug||O.id||q,movie:O,trending:!1,class:"animate-fade-in-up",style:$t({animationDelay:`${q*50}ms`})},null,8,["movie","style"]))),128))])):(v(),m("div",q7,A[22]||(A[22]=[$e('<div class="inline-flex items-center justify-center w-20 h-20 bg-gray-800 rounded-full mb-4" data-v-db2e9568><svg class="w-10 h-10 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-db2e9568><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" data-v-db2e9568></path></svg></div><h3 class="text-xl font-semibold text-gray-400 mb-2" data-v-db2e9568>Khng tm thy phim</h3><p class="text-gray-500" data-v-db2e9568>Th thay i b lc  xem thm phim</p>',3)])))]),l("aside",V7,[l("div",z7,[A[23]||(A[23]=$e('<div class="flex items-center gap-2 mb-6" data-v-db2e9568><div class="w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center" data-v-db2e9568><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-db2e9568><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" data-v-db2e9568></path></svg></div><h3 class="text-lg font-bold text-white" data-v-db2e9568>Bng Xp Hng</h3></div>',1)),Ge(n).getRecommended.length>0?(v(),m("div",W7,[(v(!0),m(ne,null,pe(Ge(n).getRecommended.slice(0,10),(O,q)=>(v(),Ae(Mc,{key:O.slug||O.id||q,trendingMovie:O,index:q,class:"animate-fade-in",style:$t({animationDelay:`${q*100}ms`})},null,8,["trendingMovie","index","style"]))),128))])):(v(),m("p",K7,"ang ti..."))])])]),a.value>1?(v(),m("div",G7,[l("nav",J7,[l("button",{onClick:A[3]||(A[3]=O=>R(d.value-1)),disabled:d.value===1,class:ae(["p-2 rounded-lg transition-all",d.value===1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},A[24]||(A[24]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),10,Y7),(v(!0),m(ne,null,pe(S(),(O,q)=>(v(),m(ne,{key:q},[O==="ellipsis"?(v(),m("span",X7,"...")):(v(),m("button",{key:1,onClick:L=>R(O),class:ae(["min-w-[40px] h-10 rounded-lg font-medium transition-all",d.value===O?"bg-yellow-400 text-black shadow-lg shadow-yellow-400/50":"text-gray-400 hover:text-white hover:bg-gray-800"])},P(O),11,Q7))],64))),128)),l("button",{onClick:A[4]||(A[4]=O=>R(d.value+1)),disabled:d.value===a.value,class:ae(["p-2 rounded-lg transition-all",d.value===a.value?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},A[25]||(A[25]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,Z7)])])):F("",!0)],64))])])}}},sI=Ke(tI,[["__scopeId","data-v-db2e9568"]]),nI={class:"relative flex-1"},rI=["aria-expanded"],oI={key:0,class:"px-4 py-2 text-gray-500"},iI={key:1,class:"px-4 py-2 text-gray-500"},aI=["onClick","onKeydown"],lI={class:"relative flex-1"},cI=["aria-expanded"],uI={key:0,class:"px-4 py-2 text-gray-500"},dI={key:1,class:"px-4 py-2 text-gray-500"},hI=["onClick","onKeydown"],fI={class:"relative flex-1"},pI=["aria-expanded"],gI={key:0,class:"px-4 py-2 text-gray-500"},vI={key:1,class:"px-4 py-2 text-gray-500"},mI=["onClick","onKeydown"],yI={class:"flex gap-2"},bI=["disabled"],wI={key:0,class:"flex items-center"},_I={key:1},xI={__name:"FilterBar",props:{baseSlug:{type:String,default:""},basePath:{type:String,required:!0},selectedCategory:{type:String,default:""},selectedCountry:{type:String,default:""},selectedYear:{type:String,default:""},allCategories:{type:Array,default:()=>[]},allCountries:{type:Array,default:()=>[]},availableYears:{type:Array,default:()=>[]}},emits:["update:selectedCategory","update:selectedCountry","update:selectedYear"],setup(t,{emit:e}){const s=t,n=e;Zi(),lo();const r=Qs(),o=Ct(),i=N(!1),a=N(!1),c=N(!1),u=N(!1),d=N(""),h=N(""),f=N(""),p=N(""),g=N(s.selectedCategory),b=N(s.selectedCountry),y=N(s.selectedYear);Je(()=>s.selectedCategory,k=>{g.value=k,console.log("FilterBar: props.selectedCategory changed to:",k,"internalSelectedCategory:",g.value)}),Je(()=>s.selectedCountry,k=>{b.value=k,console.log("FilterBar: props.selectedCountry changed to:",k,"internalSelectedCountry:",b.value)}),Je(()=>s.selectedYear,k=>{y.value=k,console.log("FilterBar: props.selectedYear changed to:",k,"internalSelectedYear:",y.value)});const _=we(()=>{const k=s.allCategories.find(D=>D.slug===g.value);return k?k.name:"Chn Th Loi"}),C=we(()=>{if(b.value==="")return"Tt c Quc gia";const k=s.allCountries.find(D=>D.slug===b.value);return k?k.name:"Chn Quc Gia"}),x=we(()=>s.allCategories.filter(k=>{var D;return(D=k==null?void 0:k.name)==null?void 0:D.toLowerCase().includes(d.value.toLowerCase())})),E=we(()=>s.allCountries.filter(k=>{var D;return(D=k==null?void 0:k.name)==null?void 0:D.toLowerCase().includes(h.value.toLowerCase())})),R=we(()=>s.availableYears.filter(k=>String(k).toLowerCase().includes(f.value.toLowerCase()))),S=k=>{const D=i.value,M=a.value,B=c.value;i.value=!1,a.value=!1,c.value=!1,d.value="",h.value="",f.value="",k==="category"&&!D?i.value=!0:k==="country"&&!M?a.value=!0:k==="year"&&!B&&(c.value=!0)},I=(k,D)=>{g.value=k,n("update:selectedCategory",k),i.value=!1},A=(k,D)=>{b.value=k,n("update:selectedCountry",k),a.value=!1},w=k=>{y.value=String(k),n("update:selectedYear",String(k)),c.value=!1},O=()=>{g.value="",b.value="",y.value="",n("update:selectedCategory",""),n("update:selectedCountry",""),n("update:selectedYear","");const k=r.params.pageNumber||1;let D=`/${s.basePath}`;s.baseSlug&&(D+=`/${s.baseSlug}`),D+=`/page/${k}`,o.push({path:D,query:{}}),i.value=!1,a.value=!1,c.value=!1,d.value="",h.value="",f.value=""},q=N(null),L=k=>{q.value&&!q.value.contains(k.target)&&(i.value=!1,a.value=!1,c.value=!1,d.value="",h.value="",f.value="")},U=async()=>{u.value=!0,p.value="";try{const D=r.params.pageNumber||1,M={};g.value&&(M.category=g.value),b.value&&(M.country=b.value),y.value&&(M.year=y.value);let B=[];s.basePath&&B.push(s.basePath),s.baseSlug&&B.push(s.baseSlug),B.push("page",D);const H=`/${B.join("/")}`;await o.push({path:H,query:M})}catch(k){console.error("Li khi lc:",k),p.value=" c li xy ra khi lc phim. Vui lng th li!"}finally{u.value=!1}};return et(()=>{document.addEventListener("click",L),console.log("FilterBar onMounted: props.selectedCountry:",s.selectedCountry,"internalSelectedCountry:",b.value)}),Jl(()=>{document.removeEventListener("click",L)}),Je(()=>r.query,k=>{g.value=k.category||"",b.value=k.country||"",y.value=k.year||"",console.log("FilterBar watch route.query: internalSelectedCountry updated to:",b.value)},{deep:!0,immediate:!0}),(k,D)=>(v(),m("div",{class:"relative flex flex-col sm:flex-row bg-gray-800 rounded-xl p-2 gap-2",ref_key:"filterRef",ref:q},[l("div",nI,[l("button",{onClick:D[0]||(D[0]=M=>S("category")),onKeydown:D[1]||(D[1]=qt(M=>S("category"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":i.value,"aria-controls":"category-dropdown"},[l("span",null,P(_.value),1),(v(),m("svg",{class:ae(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":i.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D[15]||(D[15]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,rI),i.value?(v(),m("div",{key:0,id:"category-dropdown",class:ae(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",i.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[Ze(l("input",{"onUpdate:modelValue":D[2]||(D[2]=M=>d.value=M),type:"text",placeholder:"Tm th loi...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Lt,d.value]]),l("div",{onClick:D[3]||(D[3]=M=>I("")),onKeydown:D[4]||(D[4]=qt(M=>I(""),["enter"])),class:ae(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":g.value===""}]),tabindex:"0"}," Tt c Th loi ",34),x.value.length===0&&d.value!==""?(v(),m("div",oI,"Khng tm thy th loi.")):s.allCategories.length===0&&d.value===""?(v(),m("div",iI,"Khng c th loi no.")):F("",!0),(v(!0),m(ne,null,pe(x.value,M=>(v(),m("div",{key:M.slug,onClick:B=>I(M.slug,M.name),onKeydown:qt(B=>I(M.slug,M.name),["enter"]),class:ae(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":g.value===M.slug}]),tabindex:"0"},P(M.name),43,aI))),128))],2)):F("",!0)]),l("div",lI,[l("button",{onClick:D[5]||(D[5]=M=>S("country")),onKeydown:D[6]||(D[6]=qt(M=>S("country"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":a.value,"aria-controls":"country-dropdown"},[l("span",null,P(C.value),1),(v(),m("svg",{class:ae(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":a.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D[16]||(D[16]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,cI),a.value?(v(),m("div",{key:0,id:"country-dropdown",class:ae(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",a.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[Ze(l("input",{"onUpdate:modelValue":D[7]||(D[7]=M=>h.value=M),type:"text",placeholder:"Tm quc gia...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Lt,h.value]]),l("div",{onClick:D[8]||(D[8]=M=>A("")),onKeydown:D[9]||(D[9]=qt(M=>A(""),["enter"])),class:ae(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":b.value===""}]),tabindex:"0"}," Tt c Quc gia ",34),E.value.length===0&&h.value!==""?(v(),m("div",uI,"Khng tm thy quc gia.")):s.allCountries.length===0&&h.value===""?(v(),m("div",dI,"Khng c quc gia no.")):F("",!0),(v(!0),m(ne,null,pe(E.value,M=>(v(),m("div",{key:M.slug,onClick:B=>A(M.slug,M.name),onKeydown:qt(B=>A(M.slug,M.name),["enter"]),class:ae(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":b.value===M.slug}]),tabindex:"0"},P(M.name),43,hI))),128))],2)):F("",!0)]),l("div",fI,[l("button",{onClick:D[10]||(D[10]=M=>S("year")),onKeydown:D[11]||(D[11]=qt(M=>S("year"),["enter"])),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg flex items-center justify-between text-sm font-medium hover:bg-gray-600 transition-colors duration-200","aria-expanded":c.value,"aria-controls":"year-dropdown"},[l("span",null,P(y.value||"Tt c Nm"),1),(v(),m("svg",{class:ae(["w-4 h-4 transform transition-transform duration-200",{"rotate-180":c.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D[17]||(D[17]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],40,pI),c.value?(v(),m("div",{key:0,id:"year-dropdown",class:ae(["absolute z-50 mt-2 w-full bg-white text-gray-900 rounded-lg shadow-xl max-h-80 overflow-y-auto transform transition-all duration-300 scrollbar-thin",c.value?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"])},[Ze(l("input",{"onUpdate:modelValue":D[12]||(D[12]=M=>f.value=M),type:"text",placeholder:"Tm nm...",class:"w-full px-4 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Lt,f.value]]),l("div",{onClick:D[13]||(D[13]=M=>w("")),onKeydown:D[14]||(D[14]=qt(M=>w(""),["enter"])),class:ae(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":y.value===""}]),tabindex:"0"}," Tt c Nm ",34),R.value.length===0&&f.value!==""?(v(),m("div",gI,"Khng tm thy nm.")):s.availableYears.length===0&&f.value===""?(v(),m("div",vI,"Khng c nm no.")):F("",!0),(v(!0),m(ne,null,pe(R.value,M=>(v(),m("div",{key:M,onClick:B=>w(M),onKeydown:qt(B=>w(M),["enter"]),class:ae(["px-4 py-2 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 focus:outline-none",{"bg-blue-100 font-semibold":y.value===String(M)}]),tabindex:"0"},P(M),43,mI))),128))],2)):F("",!0)]),l("div",yI,[l("button",{onClick:U,class:"bg-blue-600 text-white py-3 px-6 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200 disabled:bg-blue-400",disabled:u.value},[u.value?(v(),m("span",wI,D[18]||(D[18]=[l("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),be(" ang lc... ")]))):(v(),m("span",_I,"Lc Phim"))],8,bI),l("button",{onClick:O,class:"bg-gray-600 text-white py-3 px-4 rounded-lg text-sm font-medium hover:bg-gray-500 transition-colors duration-200"}," Xa B Lc ")])],512))}},kI=Ke(xI,[["__scopeId","data-v-da8238b7"]]),CI={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-8"},EI={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},SI={key:0,class:"flex justify-center items-center h-96"},TI={key:1,class:"text-center text-red-400 text-lg py-12"},AI={class:"text-xl font-semibold"},II={class:"w-full flex flex-col lg:flex-row gap-6 mt-6"},$I={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 flex-[4]"},RI={key:1,class:"text-center col-span-full text-gray-400 text-lg"},PI={class:"lg:w-1/4 flex-1 bg-gray-900 p-4 rounded-xl shadow-md"},OI={key:0,class:"space-y-4 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700 pr-2"},MI={key:1,class:"text-gray-400 text-lg"},jI={class:"flex justify-center mt-10"},NI={role:"navigation","aria-label":"pagination",class:"mx-auto flex w-full justify-center"},LI={class:"flex flex-row items-center gap-2"},BI={key:0,class:"flex size-9 items-center justify-center text-gray-400"},DI=["onClick","aria-label"],UI=20,HI={__name:"ListBaseCategory",setup(t){const e=Qs(),s=Ct(),n=jc(),r=lo(),o=Zi(),i=N([]),a=N(1),c=N(!0),u=N(null),d=N(e.params.categorySlug),h=N(parseInt(e.params.pageNumber)||1),f=N(e.query.category||""),p=N(e.query.country||""),g=N(e.query.year||""),b=we(()=>{const x=new Date().getFullYear(),E=[];for(let R=x;R>=x-20;R--)E.push(R);return E});we(()=>{if(r.getAllCategories.length>0&&f.value){const x=r.getAllCategories.find(E=>E.slug===f.value);return x?x.name:null}if(r.getAllCategories.length>0&&d.value){const x=r.getAllCategories.find(E=>E.slug===d.value);return x?x.name:null}return null}),we(()=>{if(o.getAllCountries.length>0&&p.value){const x=o.getAllCountries.find(E=>E.slug===p.value);return x?x.name:null}return null});const y=async()=>{var x;c.value=!0,u.value=null,i.value=[],a.value=1,console.log("ListBaseCategory: Bt u fetchMovies t API."),console.log("ListBaseCategory: Selected Category Slug (query):",f.value),console.log("ListBaseCategory: Selected Country Slug (query):",p.value),console.log("ListBaseCategory: Selected Year (query):",g.value),console.log("ListBaseCategory: Route Category Slug (path):",d.value),console.log("ListBaseCategory: Current Page:",h.value);try{const E={page:h.value,limit:UI,sort_field:"modified.time",sort_type:"desc"},R=f.value||d.value;if(R&&(E.category=R,console.log("ListBaseCategory: p dng lc theo Th loi:",R)),p.value&&(E.country=p.value,console.log("ListBaseCategory: p dng lc theo Quc gia:",p.value)),g.value){const I=parseInt(g.value);isNaN(I)||(E.year=I,console.log("ListBaseCategory: p dng lc theo Nm:",I))}const S=await Qi(E);if(S.status&&S.data){i.value=(S.data.items||[]).map(fo);const I=(x=S.data.params)==null?void 0:x.pagination;I&&(a.value=I.totalPages||1),console.log("ListBaseCategory: Phim  ti t API:",i.value.length,"phim"),console.log("ListBaseCategory: Tng s trang:",a.value)}else console.warn("ListBaseCategory: API khng tr v d liu hp l"),i.value=[],a.value=1}catch(E){console.error("Li khi fetch phim t API (ListBaseCategory):",E),u.value="Khng th ti d liu phim. Vui lng th li sau.",i.value=[],a.value=1}finally{c.value=!1,console.log("ListBaseCategory: Kt thc fetchMovies. Loading:",c.value,"Error:",u.value)}},_=x=>{if(x>=1&&x<=a.value){let E=["category"];d.value&&E.push(encodeURIComponent(d.value)),E.push("page",x);const R={};f.value&&(R.category=encodeURIComponent(f.value)),p.value&&(R.country=encodeURIComponent(p.value)),g.value&&(R.year=encodeURIComponent(g.value)),s.push({path:`/${E.join("/")}`,query:R})}},C=()=>{const x=new Set,E=2;x.add(1),a.value>1&&x.add(a.value);for(let I=h.value-E;I<=h.value+E;I++)I>=1&&I<=a.value&&x.add(I);let R=Array.from(x).sort((I,A)=>I-A),S=[];for(let I=0;I<R.length;I++)S.push(R[I]),I<R.length-1&&R[I+1]-R[I]>1&&S.push("ellipsis");return S};return et(async()=>{console.log("ListBaseCategory: Component mounted."),n.getRecommended.length===0?(console.log("ListBaseCategory: Fetching recommended movies for sidebar..."),await n.getRecommendedMovies()):console.log("ListBaseCategory: Recommended movies already in store. Count:",n.getRecommended.length),r.getAllCategories.length===0?(console.log("ListBaseCategory: Fetching categories..."),await r.getCategory(),console.log("ListBaseCategory: Categories loaded. Count:",r.getAllCategories.length,"Data:",r.getAllCategories)):console.log("ListBaseCategory: Categories already in store. Count:",r.getAllCategories.length,"Data:",r.getAllCategories),o.getAllCountries.length===0?(console.log("ListBaseCategory: Fetching countries..."),await o.getCountry(),console.log("ListBaseCategory: Countries loaded. Count:",o.getAllCountries.length,"Data:",o.getAllCountries)):console.log("ListBaseCategory: Countries already in store. Count:",o.getAllCountries.length,"Data:",o.getAllCountries),console.log("ListBaseCategory: Available years computed:",b.value),Je(()=>e.params,x=>{d.value=x.categorySlug||"",h.value=parseInt(x.pageNumber)||1,console.log("ListBaseCategory: route.params changed. Triggering fetchMovies (if stores ready)."),r.getAllCategories.length>0&&o.getAllCountries.length>0&&y()},{immediate:!0}),Je(()=>e.query,x=>{f.value=x.category||"",p.value=x.country||"",g.value=x.year||"",console.log("ListBaseCategory: route.query changed. Triggering fetchMovies (if stores ready)."),r.getAllCategories.length>0&&o.getAllCountries.length>0&&y()},{deep:!0,immediate:!1}),Je([()=>r.getAllCategories.length,()=>o.getAllCountries.length,()=>r.getLoading,()=>o.getLoading],([x,E,R,S],[I,A,w,O])=>{x>0&&E>0&&!R&&!S&&(c.value||(console.log("ListBaseCategory: Category or Country store data loaded and not loading. Triggering fetchMovies."),y()))}),r.getAllCategories.length>0&&o.getAllCountries.length>0?(console.log("ListBaseCategory: Stores already have data, calling fetchMovies for initial load."),y()):console.log("ListBaseCategory: Stores empty on initial mount, waiting for watchers.")}),(x,E)=>(v(),m("div",CI,[l("div",EI,[c.value?(v(),m("div",SI,E[5]||(E[5]=[$e('<div class="text-center" data-v-490bb577><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-490bb577><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-490bb577></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-490bb577></path></svg><p class="text-xl font-semibold text-gray-300" data-v-490bb577>ang ti phim...</p></div>',1)]))):u.value?(v(),m("div",TI,[l("p",AI,P(u.value),1)])):(v(),m(ne,{key:2},[re(kI,{baseSlug:d.value,basePath:"category",allCategories:Ge(r).getAllCategories,allCountries:Ge(o).getAllCountries,availableYears:b.value,selectedCategory:f.value,"onUpdate:selectedCategory":E[0]||(E[0]=R=>f.value=R),selectedCountry:p.value,"onUpdate:selectedCountry":E[1]||(E[1]=R=>p.value=R),selectedYear:g.value,"onUpdate:selectedYear":E[2]||(E[2]=R=>g.value=R),isLoadingCategories:Ge(r).getLoading,isLoadingCountries:Ge(o).getLoading,isLoadingYears:!1},null,8,["baseSlug","allCategories","allCountries","availableYears","selectedCategory","selectedCountry","selectedYear","isLoadingCategories","isLoadingCountries"]),l("div",II,[l("div",$I,[i.value&&i.value.length>0?(v(!0),m(ne,{key:0},pe(i.value,(R,S)=>(v(),Ae(Xi,{key:R.slug||R.id||S,movie:R,trending:!1},null,8,["movie"]))),128)):(v(),m("p",RI,"Khng c d liu phim cho th loi ny."))]),l("div",PI,[E[6]||(E[6]=l("h3",{class:"uppercase text-yellow-400 text-sm border-b-2 border-dashed border-gray-600 pb-2 mb-4"}," Bng Xp Hng ",-1)),Ge(n).getRecommended.length>0?(v(),m("div",OI,[(v(!0),m(ne,null,pe(Ge(n).getRecommended.slice(0,8),(R,S)=>(v(),Ae(Mc,{key:R.slug||R.id||S,trendingMovie:R,index:S},null,8,["trendingMovie","index"]))),128))])):(v(),m("p",MI,"Khng c d liu xp hng."))])]),l("div",jI,[l("nav",NI,[l("ul",LI,[l("li",null,[l("button",{onClick:E[3]||(E[3]=R=>_(h.value-1)),class:ae([{"opacity-50 pointer-events-none":h.value===1},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Previous page"},E[7]||(E[7]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-left"},[l("path",{d:"m15 18-6-6 6-6"})],-1)]),2)]),(v(!0),m(ne,null,pe(C(),(R,S)=>(v(),m("li",{key:S},[R==="ellipsis"?(v(),m("span",BI,E[8]||(E[8]=[$e('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-more-horizontal" data-v-490bb577><circle cx="12" cy="12" r="1" data-v-490bb577></circle><circle cx="19" cy="12" r="1" data-v-490bb577></circle><circle cx="5" cy="12" r="1" data-v-490bb577></circle></svg><span class="sr-only" data-v-490bb577>More pages</span>',2)]))):(v(),m("button",{key:1,onClick:I=>_(R),class:ae([{"bg-yellow-400 text-black":h.value===R,"hover:bg-gray-700":h.value!==R},"inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all h-9 px-4 py-1"]),"aria-label":`Page ${R}`},P(R),11,DI))]))),128)),l("li",null,[l("button",{onClick:E[4]||(E[4]=R=>_(h.value+1)),class:ae([{"opacity-50 pointer-events-none":h.value===a.value},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700 disabled:opacity-50"]),"aria-label":"Next page"},E[9]||(E[9]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-right"},[l("path",{d:"m9 18 6-6-6-6"})],-1)]),2)])])])])],64))])]))}},FI=Ke(HI,[["__scopeId","data-v-490bb577"]]),qI={class:"min-h-screen bg-black text-white"},VI={class:"relative bg-gradient-to-b from-gray-900 to-black pt-20 pb-12 px-4"},zI={class:"max-w-7xl mx-auto"},WI={class:"flex items-center gap-2 text-sm mb-6 animate-fade-in"},KI={class:"text-yellow-400 font-medium"},GI={class:"text-4xl md:text-5xl font-bold mb-4 animate-slide-up"},JI={class:"bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent"},YI={class:"max-w-7xl mx-auto px-4 py-8"},XI={key:0,class:"space-y-8"},QI={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},ZI={key:1,class:"text-center py-20 animate-fade-in"},e$={class:"text-gray-400"},t$={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 mb-8 border border-gray-800 animate-fade-in",style:{overflow:"visible"}},s$={class:"flex flex-wrap gap-4",style:{overflow:"visible"}},n$={style:{position:"relative"}},r$={class:"truncate"},o$={key:0,class:"absolute left-0 w-full min-w-[220px] bg-gray-800 border-2 border-yellow-400 rounded-lg shadow-2xl max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700",style:{"z-index":"99999",top:"calc(100% + 8px)",position:"absolute !important","box-shadow":"0 25px 50px -12px rgba(0, 0, 0, 0.8)"}},i$=["onClick"],a$={style:{position:"relative"}},l$={class:"truncate"},c$={key:0,class:"absolute left-0 w-full min-w-[220px] bg-gray-800 border-2 border-yellow-400 rounded-lg shadow-2xl max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700",style:{"z-index":"99999",top:"calc(100% + 8px)",position:"absolute !important","box-shadow":"0 25px 50px -12px rgba(0, 0, 0, 0.8)"}},u$=["onClick"],d$={style:{position:"relative"}},h$={class:"truncate"},f$={key:0,class:"absolute top-full left-0 mt-2 w-full min-w-[180px] bg-gray-800 border border-gray-700 rounded-lg shadow-2xl shadow-black/50 max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-700",style:{"z-index":"9999"}},p$=["onClick"],g$={class:"mt-4 pt-4 border-t border-gray-800"},v$={class:"text-sm text-gray-400"},m$={class:"text-yellow-400 font-semibold"},y$={key:0},b$={class:"flex flex-col lg:flex-row gap-8"},w$={class:"flex-1"},_$={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},x$={key:1,class:"text-center py-20 animate-fade-in"},k$={class:"lg:w-80 flex-shrink-0"},C$={class:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-800 sticky top-24 animate-fade-in"},E$={key:0,class:"space-y-3 max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-yellow-500 scrollbar-track-gray-800"},S$={key:1,class:"text-gray-500 text-center py-8"},T$={key:0,class:"flex justify-center mt-12 animate-fade-in"},A$={class:"inline-flex items-center gap-2 bg-gray-900/50 backdrop-blur-sm rounded-xl p-2 border border-gray-800"},I$=["disabled"],$$={key:0,class:"px-3 text-gray-600"},R$=["onClick"],P$=["disabled"],O$=20,M$={__name:"ListBaseNational",setup(t){const e=Qs(),s=Ct(),n=jc(),r=lo(),o=Zi(),i=N([]),a=N(1),c=N(!0),u=N(null),d=N(e.params.countrySlug),h=N(parseInt(e.params.pageNumber)||1),f=N(e.query.country||""),p=N(e.query.category||""),g=N(e.query.year||""),b=N(null),y=we(()=>{const D=[];if(p.value){const B=r.getAllCategories.find(H=>H.slug===p.value);B&&D.push(B.name)}const M=f.value||d.value;if(M){const B=o.getAllCountries.find(H=>H.slug===M);B&&D.push(B.name)}return g.value&&D.push(`Nm ${g.value}`),D.length>0?D.join(" - "):"Danh Sch Phim"}),_=we(()=>{const D=new Date().getFullYear(),M=[];for(let B=D;B>=D-20;B--)M.push(B);return M}),C=we(()=>{if(!p.value)return"Tt c th loi";const D=r.getAllCategories.find(M=>M.slug===p.value);return D?D.name:"Tt c th loi"}),x=we(()=>{if(!f.value)return"Tt c quc gia";const D=o.getAllCountries.find(M=>M.slug===f.value);return D?D.name:"Tt c quc gia"}),E=we(()=>g.value?g.value:"Tt c nm"),R=D=>{b.value=b.value===D?null:D},S=D=>{p.value=D,b.value=null,w()},I=D=>{f.value=D,b.value=null,w()},A=D=>{g.value=D,b.value=null,w()},w=()=>{const D=d.value?`country/${encodeURIComponent(d.value)}`:"country",M={};p.value&&(M.category=p.value),f.value&&(M.country=f.value),g.value&&(M.year=g.value),s.push({path:`/${D}/page/1`,query:M})},O=()=>{p.value="",f.value="",g.value="",b.value=null,s.push({path:`/${d.value?`country/${d.value}`:"country"}/page/1`,query:{}})},q=async()=>{var D;c.value=!0,u.value=null,i.value=[];try{const M={page:h.value,limit:O$,sort_field:"modified.time",sort_type:"desc"},B=f.value||d.value;B&&(M.country=B),p.value&&(M.category=p.value),g.value&&(M.year=parseInt(g.value));const H=await Qi(M);if(H.status&&H.data){i.value=(H.data.items||[]).map(fo);const Y=(D=H.data.params)==null?void 0:D.pagination;Y&&(a.value=Y.totalPages||1)}else i.value=[],a.value=1}catch(M){console.error("Error fetching movies:",M),u.value="Khng th ti d liu phim. Vui lng th li sau.",i.value=[],a.value=1}finally{c.value=!1}},L=D=>{if(D>=1&&D<=a.value){const M=d.value?`country/${encodeURIComponent(d.value)}`:"country",B={};p.value&&(B.category=p.value),f.value&&(B.country=f.value),g.value&&(B.year=g.value),s.push({path:`/${M}/page/${D}`,query:B})}},U=()=>{const D=new Set,M=2;D.add(1),a.value>1&&D.add(a.value);for(let Y=h.value-M;Y<=h.value+M;Y++)Y>=1&&Y<=a.value&&D.add(Y);const B=Array.from(D).sort((Y,Ee)=>Y-Ee),H=[];for(let Y=0;Y<B.length;Y++)H.push(B[Y]),Y<B.length-1&&B[Y+1]-B[Y]>1&&H.push("ellipsis");return H},k={mounted(D,M){D.clickOutsideEvent=B=>{D===B.target||D.contains(B.target)||M.value()},document.addEventListener("click",D.clickOutsideEvent)},unmounted(D){document.removeEventListener("click",D.clickOutsideEvent)}};return et(async()=>{n.getRecommended.length===0&&await n.getRecommendedMovies(),r.getAllCategories.length===0&&await r.getCategory(),o.getAllCountries.length===0&&await o.getCountry(),Je(()=>e.params,D=>{d.value=D.countrySlug||"",h.value=parseInt(D.pageNumber)||1,r.getAllCategories.length>0&&o.getAllCountries.length>0&&q()},{immediate:!0}),Je(()=>e.query,D=>{p.value=D.category||"",f.value=D.country||"",g.value=D.year||"",r.getAllCategories.length>0&&o.getAllCountries.length>0&&q()},{deep:!0}),r.getAllCategories.length>0&&o.getAllCountries.length>0&&q()}),(D,M)=>{const B=cs("router-link");return v(),m("div",qI,[l("div",VI,[l("div",zI,[l("nav",WI,[re(B,{to:"/home",class:"text-gray-400 hover:text-yellow-400 transition-colors"},{default:Oe(()=>M[8]||(M[8]=[be(" Trang ch ")])),_:1}),M[9]||(M[9]=l("svg",{class:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),l("span",KI,P(y.value),1)]),l("h1",GI,[l("span",JI,P(y.value),1)]),M[10]||(M[10]=l("p",{class:"text-gray-400 text-lg animate-slide-up animation-delay-100"}," Khm ph b su tp phim c sc ",-1))])]),l("div",YI,[c.value?(v(),m("div",XI,[M[12]||(M[12]=$e('<div class="bg-gray-900/50 rounded-xl p-6 animate-pulse" data-v-3c0b0763><div class="flex flex-wrap gap-4" data-v-3c0b0763><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-3c0b0763></div><div class="h-10 bg-gray-800 rounded-lg w-40" data-v-3c0b0763></div><div class="h-10 bg-gray-800 rounded-lg w-32" data-v-3c0b0763></div></div></div>',1)),l("div",QI,[(v(),m(ne,null,pe(10,H=>l("div",{key:H,class:"animate-pulse"},M[11]||(M[11]=[l("div",{class:"aspect-[2/3] bg-gray-800 rounded-lg mb-2"},null,-1),l("div",{class:"h-4 bg-gray-800 rounded w-3/4 mb-2"},null,-1),l("div",{class:"h-3 bg-gray-800 rounded w-1/2"},null,-1)]))),64))])])):u.value?(v(),m("div",ZI,[M[13]||(M[13]=l("div",{class:"inline-flex items-center justify-center w-20 h-20 bg-red-500/10 rounded-full mb-4"},[l("svg",{class:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),M[14]||(M[14]=l("h3",{class:"text-xl font-semibold text-red-400 mb-2"},"C li xy ra",-1)),l("p",e$,P(u.value),1)])):(v(),m(ne,{key:2},[l("div",t$,[l("div",s$,[Ze((v(),m("div",n$,[l("button",{onClick:M[0]||(M[0]=H=>R("category")),class:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-white hover:border-yellow-400 transition-all min-w-[180px] flex items-center justify-between group"},[l("span",r$,P(C.value),1),(v(),m("svg",{class:ae(["w-4 h-4 ml-2 transition-transform duration-300 group-hover:text-yellow-400",{"rotate-180":b.value==="category"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},M[15]||(M[15]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),re(_s,{name:"dropdown"},{default:Oe(()=>[b.value==="category"?(v(),m("div",o$,[l("button",{onClick:M[1]||(M[1]=H=>S("")),class:"w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white border-b border-gray-700"}," Tt c th loi "),(v(!0),m(ne,null,pe(Ge(r).getAllCategories,H=>(v(),m("button",{key:H.slug,onClick:Y=>S(H.slug),class:ae(["w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white",{"bg-yellow-400/20 text-yellow-400":p.value===H.slug}])},P(H.name),11,i$))),128))])):F("",!0)]),_:1})])),[[k,()=>b.value!=="category"||(b.value=null)]]),Ze((v(),m("div",a$,[l("button",{onClick:M[2]||(M[2]=H=>R("country")),class:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-white hover:border-yellow-400 transition-all min-w-[180px] flex items-center justify-between group"},[l("span",l$,P(x.value),1),(v(),m("svg",{class:ae(["w-4 h-4 ml-2 transition-transform duration-300 group-hover:text-yellow-400",{"rotate-180":b.value==="country"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},M[16]||(M[16]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),re(_s,{name:"dropdown"},{default:Oe(()=>[b.value==="country"?(v(),m("div",c$,[l("button",{onClick:M[3]||(M[3]=H=>I("")),class:"w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white border-b border-gray-700"}," Tt c quc gia "),(v(!0),m(ne,null,pe(Ge(o).getAllCountries,H=>(v(),m("button",{key:H.slug,onClick:Y=>I(H.slug),class:ae(["w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white",{"bg-yellow-400/20 text-yellow-400":f.value===H.slug}])},P(H.name),11,u$))),128))])):F("",!0)]),_:1})])),[[k,()=>b.value!=="country"||(b.value=null)]]),Ze((v(),m("div",d$,[l("button",{onClick:M[4]||(M[4]=H=>R("year")),class:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2.5 text-white hover:border-yellow-400 transition-all min-w-[140px] flex items-center justify-between group"},[l("span",h$,P(E.value),1),(v(),m("svg",{class:ae(["w-4 h-4 ml-2 transition-transform duration-300 group-hover:text-yellow-400",{"rotate-180":b.value==="year"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},M[17]||(M[17]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),re(_s,{name:"dropdown"},{default:Oe(()=>[b.value==="year"?(v(),m("div",f$,[l("button",{onClick:M[5]||(M[5]=H=>A("")),class:"w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white border-b border-gray-700"}," Tt c nm "),(v(!0),m(ne,null,pe(_.value,H=>(v(),m("button",{key:H,onClick:Y=>A(H),class:ae(["w-full text-left px-4 py-2.5 hover:bg-yellow-400/10 hover:text-yellow-400 transition-colors text-white",{"bg-yellow-400/20 text-yellow-400":g.value===H}])},P(H),11,p$))),128))])):F("",!0)]),_:1})])),[[k,()=>b.value!=="year"||(b.value=null)]]),p.value||f.value||g.value?(v(),m("button",{key:0,onClick:O,class:"bg-gray-800 hover:bg-yellow-400/10 border border-gray-700 hover:border-yellow-400 rounded-lg px-4 py-2.5 text-gray-300 hover:text-yellow-400 transition-all flex items-center gap-2 group"},M[18]||(M[18]=[l("svg",{class:"w-4 h-4 transition-transform group-hover:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),be(" Xa b lc ")]))):F("",!0)]),l("div",g$,[l("p",v$,[M[19]||(M[19]=be(" Tm thy ")),l("span",m$,P(i.value.length),1),M[20]||(M[20]=be(" phim ")),a.value>1?(v(),m("span",y$," - Trang "+P(h.value)+"/"+P(a.value),1)):F("",!0)])])]),l("div",b$,[l("div",w$,[i.value&&i.value.length>0?(v(),m("div",_$,[(v(!0),m(ne,null,pe(i.value,(H,Y)=>(v(),Ae(Xi,{key:H.slug||H.id||Y,movie:H,trending:!1,class:"animate-fade-in-up",style:$t({animationDelay:`${Y*50}ms`})},null,8,["movie","style"]))),128))])):(v(),m("div",x$,M[21]||(M[21]=[$e('<div class="inline-flex items-center justify-center w-20 h-20 bg-gray-800 rounded-full mb-4" data-v-3c0b0763><svg class="w-10 h-10 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c0b0763><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" data-v-3c0b0763></path></svg></div><h3 class="text-xl font-semibold text-gray-400 mb-2" data-v-3c0b0763>Khng tm thy phim</h3><p class="text-gray-500" data-v-3c0b0763>Th thay i b lc  xem thm phim</p>',3)])))]),l("aside",k$,[l("div",C$,[M[22]||(M[22]=$e('<div class="flex items-center gap-2 mb-6" data-v-3c0b0763><div class="w-8 h-8 bg-yellow-400/10 rounded-lg flex items-center justify-center" data-v-3c0b0763><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-3c0b0763><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" data-v-3c0b0763></path></svg></div><h3 class="text-lg font-bold text-white" data-v-3c0b0763>Bng Xp Hng</h3></div>',1)),Ge(n).getRecommended.length>0?(v(),m("div",E$,[(v(!0),m(ne,null,pe(Ge(n).getRecommended.slice(0,10),(H,Y)=>(v(),Ae(Mc,{key:H.slug||H.id||Y,trendingMovie:H,index:Y,class:"animate-fade-in",style:$t({animationDelay:`${Y*100}ms`})},null,8,["trendingMovie","index","style"]))),128))])):(v(),m("p",S$,"ang ti..."))])])]),a.value>1?(v(),m("div",T$,[l("nav",A$,[l("button",{onClick:M[6]||(M[6]=H=>L(h.value-1)),disabled:h.value===1,class:ae(["p-2 rounded-lg transition-all",h.value===1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},M[23]||(M[23]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),10,I$),(v(!0),m(ne,null,pe(U(),(H,Y)=>(v(),m(ne,{key:Y},[H==="ellipsis"?(v(),m("span",$$,"...")):(v(),m("button",{key:1,onClick:Ee=>L(H),class:ae(["min-w-[40px] h-10 rounded-lg font-medium transition-all",h.value===H?"bg-yellow-400 text-black shadow-lg shadow-yellow-400/50":"text-gray-400 hover:text-white hover:bg-gray-800"])},P(H),11,R$))],64))),128)),l("button",{onClick:M[7]||(M[7]=H=>L(h.value+1)),disabled:h.value===a.value,class:ae(["p-2 rounded-lg transition-all",h.value===a.value?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-yellow-400 hover:bg-gray-800"])},M[24]||(M[24]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,P$)])])):F("",!0)],64))])])}}},j$=Ke(M$,[["__scopeId","data-v-3c0b0763"]]),N$={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white py-16 px-4 sm:px-6 lg:px-8 overflow-hidden"},L$={__name:"Contact",setup(t){const e=()=>{alert("Tnh nng form lin h ang c pht trin!")};return(s,n)=>(v(),m("div",N$,[l("div",{class:"max-w-7xl mx-auto"},[n[1]||(n[1]=$e('<div class="text-center mb-12 animate-fade-in" data-v-611597a7><h1 class="text-5xl sm:text-6xl font-extrabold text-yellow-400 uppercase tracking-wide bg-gradient-to-r from-yellow-400 to-yellow-300 bg-clip-text text-transparent" data-v-611597a7> HTHREE </h1><p class="mt-4 text-lg sm:text-xl text-gray-300" data-v-611597a7>Nn tng xem phim nh cao - Cht lng Full HD, cp nht mi ngy</p></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-10" data-v-611597a7><div class="relative group" data-v-611597a7><div class="rounded-xl overflow-hidden shadow-2xl transition-all duration-300 group-hover:shadow-yellow-400/50" data-v-611597a7><img src="https://univn.vn/wp-content/uploads/2020/12/thiet-ke-web-xem-phim.jpg" alt="Ni tht rp HTHREE" class="w-full h-96 object-cover transform transition-transform duration-300 group-hover:scale-105" data-v-611597a7></div><div class="absolute inset-0 bg-gray-900 bg-opacity-10 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300" data-v-611597a7><p class="text-yellow-400 text-xl font-semibold bg-black bg-opacity-50 px-4 py-2 rounded" data-v-611597a7>Khm ph khng gian xem phim ng cp</p></div></div><div class="bg-gray-800 p-6 rounded-xl shadow-lg space-y-6" data-v-611597a7><p class="text-xl leading-relaxed font-semibold text-gray-200" data-v-611597a7> HTHREE mang n tri nghim xem phim trc tuyn vi hn 10.000+ b phim cht lng Full HD, giao din thn thin, v cp nht a dng mi ngy. Chng ti cam kt mang n s gii tr nh cao cho mi gia nh v c nhn. </p><ul class="list-none space-y-3 text-gray-300 text-base" data-v-611597a7><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> Qung co trn mn hnh, tip cn hng ngn khn gi</li><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> T chc s kin thng hiu hoc fan offline chuyn nghip</li><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> Xem phim bom tn ring t cng ngi thn, bn b</li><li class="flex items-center gap-2" data-v-611597a7><span class="text-yellow-400" data-v-611597a7></span> t a im cho hp bo, o to, hoc s kin c bit</li></ul></div></div>',2)),l("div",{class:"mt-12 bg-gray-800 p-6 rounded-xl shadow-lg"},[n[0]||(n[0]=$e('<h2 class="text-2xl font-bold text-yellow-400 mb-4" data-v-611597a7>Lin H Vi HTHREE</h2><p class="text-gray-300 mb-6" data-v-611597a7>Hy kt ni ngay hm nay  nhn c s h tr tt nht!</p><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-611597a7><div class="flex items-center gap-3 p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors" data-v-611597a7><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-611597a7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-611597a7></path></svg><div data-v-611597a7><p class="text-sm text-gray-400" data-v-611597a7>Email</p><a href="mailto:CS@HTHREE.VN" class="text-blue-400 hover:underline" data-v-611597a7>CS@HTHREE.VN</a></div></div><div class="flex items-center gap-3 p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors" data-v-611597a7><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-611597a7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" data-v-611597a7></path></svg><div data-v-611597a7><p class="text-sm text-gray-400" data-v-611597a7>Hotline</p><a href="tel:0123.456.789" class="text-blue-400 hover:underline" data-v-611597a7>0123.456.789</a></div></div></div>',3)),l("button",{onClick:e,class:"mt-6 w-full bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:-translate-y-1"}," Lin H Ngay ")])])]))}},B$=Ke(L$,[["__scopeId","data-v-611597a7"]]),D$={class:"min-h-screen bg-black font-sans flex flex-col"},U$={class:"bg-black border-b border-gray-800 px-8 py-4"},H$={class:"flex items-center justify-between"},F$={class:"flex flex-1 justify-center"},q$={class:"flex w-full max-w-7xl"},V$={class:"w-80 flex-shrink-0 flex flex-col pl-8 pr-8 py-8"},z$={class:"mb-8"},W$={class:"flex-1 space-y-1"},K$=["onClick"],G$={key:0,class:"absolute inset-0 bg-[#2a2a2a]/40 rounded-lg transition-opacity duration-300 ease-out opacity-0 group-hover:opacity-100",style:{"z-index":"-1"}},J$={key:1,class:"absolute inset-0 bg-[#2a2a2a]/40 rounded-lg",style:{"z-index":"-1"}},Y$={key:2,class:"absolute left-0 top-0 w-1 h-full bg-yellow-400 animate-slide-down-bar",style:{"z-index":"10"}},X$={class:"text-base relative z-10"},Q$={class:"flex-1 overflow-y-auto"},Z$={class:"max-w-4xl px-8 py-8"},eR={class:"w-full"},tR={key:0,class:"flex justify-center items-center min-h-[400px]"},sR={key:1,class:"text-center py-12"},nR={key:2},rR={key:0},oR={class:"bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 border border-purple-700 rounded-lg p-6 mb-6 shadow-lg"},iR={class:"flex items-start justify-between mb-4"},aR={class:"inline-block bg-yellow-400 text-black text-xs font-bold px-3 py-1 rounded-full mb-3"},lR={class:"text-gray-200 text-sm"},cR={class:"text-gray-300 text-sm mt-1"},uR={class:"space-y-3"},dR={key:1},hR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},fR={class:"mb-6"},pR={class:"text-gray-300"},gR={class:"text-gray-400 text-sm"},vR={key:2},mR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},yR={key:1,class:"p-4 bg-[#2a2a2a] rounded-lg border border-gray-700"},bR={class:"border-t border-gray-800 mt-2 pt-2"},wR={class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},_R={class:"flex items-center flex-1"},xR={class:"text-left flex-1"},kR={class:"text-gray-400 text-sm"},CR={class:"border-t border-gray-800 mt-2 pt-2"},ER={class:"flex items-center flex-1"},SR={class:"text-left flex-1"},TR={key:0,class:"text-gray-400 text-sm"},AR={key:1,class:"text-gray-400 text-sm"},IR={key:2,class:"flex items-center gap-1 mt-1"},$R={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},RR={key:3},PR={key:4},OR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6"},MR={class:"flex items-center justify-between mb-4"},jR={class:"flex items-center"},NR={class:"w-12 h-12 bg-blue-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl"},LR={class:"text-white font-medium"},BR={key:5},DR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6"},UR={class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2"},HR={class:"flex items-center flex-1"},FR={class:"w-12 h-12 bg-blue-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl"},qR={class:"text-left flex-1"},VR={class:"text-white font-medium"},zR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 max-w-md w-full animate-fade-in"},WR={class:"mb-6"},KR={class:"flex gap-3"},GR={key:1,class:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4"},JR={class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 max-w-md w-full animate-fade-in"},YR={key:0},XR={class:"mb-6"},QR=["disabled"],ZR={key:1},eP={class:"mb-4"},tP={class:"mb-4"},sP={class:"relative"},nP=["type"],rP={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},oP={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},iP={class:"mb-6"},aP={class:"relative"},lP=["type"],cP={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},uP={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},dP={class:"flex gap-3"},hP=["disabled"],fP={__name:"Account",setup(t){const e=lr(),s=Yi(),n=Ct(),r=N(null),o=N(!0),i=N("overview"),a=N(!1),c=N(""),u=N(localStorage.getItem("userPhoneNumber")||""),d=N(!1),h=N(!1),f=N(1),p=yt({email:"",token:"",newPassword:"",confirmPassword:""}),g=N(!1),b=N(!1),y=N(!1);yt({current:"",new:"",confirm:""});const _=yt({displayName:""}),C=[{id:"overview",label:"Tng quan",icon:()=>Xe("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Xe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])},{id:"membership",label:"T cch thnh vin",icon:()=>Xe("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Xe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])},{id:"password",label:"Bo mt",icon:()=>Xe("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Xe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])},{id:"devices",label:"Thit b",icon:()=>Xe("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Xe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})])},{id:"profile",label:"H s",icon:()=>Xe("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Xe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])},{id:"settings",label:"Ci t",icon:()=>Xe("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Xe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Xe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}];et(()=>{oo(e,U=>{r.value=U,U?(_.displayName=U.displayName||"",h.value=U.providerData.some(k=>k.providerId==="google.com")):n.push("/home"),o.value=!1})});const x=()=>{var k,D;if(!((D=(k=r.value)==null?void 0:k.metadata)!=null&&D.creationTime))return"1/2025";const U=new Date(r.value.metadata.creationTime);return`${U.getMonth()+1}/${U.getFullYear()}`},E=()=>{const U=new Date;return U.setMonth(U.getMonth()+1),`${U.getDate()} thng ${U.getMonth()+1}, ${U.getFullYear()}`},R=()=>{c.value=u.value,a.value=!0},S=()=>{a.value=!1,c.value=""},I=()=>{if(!c.value.trim()){s.error("Vui lng nhp s in thoi!");return}if(!/^[0-9]{10,11}$/.test(c.value.replace(/\s/g,""))){s.error("S in thoi khng hp l! Vui lng nhp 10-11 ch s.");return}u.value=c.value,localStorage.setItem("userPhoneNumber",c.value),s.success("Lu s in thoi thnh cng!"),S()},A=()=>{u.value="",localStorage.removeItem("userPhoneNumber"),s.success(" xa s in thoi!"),S()},w=()=>{var U;f.value=1,p.email=((U=r.value)==null?void 0:U.email)||"",p.token="",p.newPassword="",p.confirmPassword="",d.value=!0},O=()=>{d.value=!1,f.value=1},q=async()=>{if(!p.email){s.error("Vui lng nhp email!");return}g.value=!0;try{const k=await(await fetch("http://localhost/HTHREE_Film/backend/api/change-password.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"send_code",email:p.email})})).json();k.success?(s.success(k.message),f.value=2):s.error(k.message)}catch{s.error("Li kt ni server!")}finally{g.value=!1}},L=async()=>{if(!p.token){s.error("Vui lng nhp m xc thc!");return}if(!p.newPassword){s.error("Vui lng nhp mt khu mi!");return}if(p.newPassword!==p.confirmPassword){s.error("Mt khu xc nhn khng khp!");return}if(p.newPassword.length<6){s.error("Mt khu phi c t nht 6 k t!");return}g.value=!0;try{const k=await(await fetch("http://localhost/HTHREE_Film/backend/api/change-password.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"verify_and_change",email:p.email,token:p.token,newPassword:p.newPassword})})).json();k.success?(s.success("i mt khu thnh cng! Mt khu mi  c lu."),O()):s.error(k.message)}catch{s.error("Li kt ni server!")}finally{g.value=!1}};return(U,k)=>{var M,B,H,Y,Ee,ue;const D=cs("router-link");return v(),m("div",D$,[l("div",U$,[l("div",H$,[re(D,{to:"/home",class:"flex items-center gap-2"},{default:Oe(()=>k[12]||(k[12]=[l("svg",{class:"w-8 h-8 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24"},[l("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})],-1),l("span",{class:"text-2xl font-bold text-white"},"HTHREE",-1)])),_:1})])]),l("div",F$,[l("div",q$,[l("aside",V$,[l("div",z$,[re(D,{to:"/home",class:"inline-flex items-center text-gray-400 hover:text-white transition-colors font-medium text-sm"},{default:Oe(()=>k[13]||(k[13]=[l("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),be(" Quay li HTHREE Film ")])),_:1})]),l("nav",W$,[(v(),m(ne,null,pe(C,le=>l("button",{key:le.id,onClick:qe=>i.value=le.id,class:ae(["w-full flex items-center px-4 py-3 text-left rounded-lg transition-all duration-500 ease-out relative group",i.value===le.id?"text-white font-semibold":"text-gray-400 hover:text-white"]),style:{isolation:"isolate"}},[i.value!==le.id?(v(),m("div",G$)):F("",!0),i.value===le.id?(v(),m("div",J$)):F("",!0),i.value===le.id?(v(),m("div",Y$)):F("",!0),(v(),Ae(af(le.icon),{class:"w-5 h-5 mr-3 transition-transform duration-500 ease-out group-hover:scale-105 relative z-10"})),l("span",X$,P(le.label),1)],10,K$)),64))])]),l("div",Q$,[l("div",Z$,[l("main",eR,[o.value?(v(),m("div",tR,k[14]||(k[14]=[l("svg",{class:"animate-spin h-8 w-8 text-yellow-400",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):r.value?(v(),m("div",nR,[i.value==="overview"?(v(),m("div",rR,[k[24]||(k[24]=l("h1",{class:"text-3xl font-bold text-white mb-2 tracking-tight"},"Ti khon",-1)),k[25]||(k[25]=l("p",{class:"text-gray-300 mb-8"},"Thng tin t cch thnh vin",-1)),l("div",oR,[l("div",iR,[l("div",null,[l("span",aR," Thnh vin t thng "+P(x()),1),k[17]||(k[17]=l("h2",{class:"text-xl font-bold text-white tracking-tight"},"Gi Cao cp",-1)),l("p",lR,"Ngy thanh ton tip theo: "+P(E()),1),l("p",cR,"Ghi ch trc tip: "+P(r.value.email),1)])]),k[18]||(k[18]=l("button",{class:"text-gray-200 hover:text-yellow-400 text-sm font-medium flex items-center transition-colors"},[be(" Qun l t cch thnh vin "),l("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))]),l("div",uR,[k[22]||(k[22]=$e('<h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4" data-v-f1246acf>Lin kt nhanh</h3><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4" data-v-f1246acf></path></svg><span class="text-white font-medium" data-v-f1246acf>Thay i gi dch v</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-f1246acf></path></svg><span class="text-white font-medium" data-v-f1246acf>Qun l phng thc thanh ton</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Mua thm mt sut thnh vin b sung</p><p class="text-gray-400 text-sm" data-v-f1246acf>Chia s HTHREE vi ngi khng sng cng bn.</p></div></div><div class="flex items-center gap-2" data-v-f1246acf><span class="bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded" data-v-f1246acf>Mi</span><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></div></button>',4)),l("button",{onClick:k[0]||(k[0]=le=>i.value="devices"),class:"w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group"},k[19]||(k[19]=[$e('<div class="flex items-center" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" data-v-f1246acf></path></svg><span class="text-white font-medium" data-v-f1246acf>Qun l quyn truy cp v thit b</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg>',2)])),l("button",{onClick:k[1]||(k[1]=le=>i.value="password"),class:"w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group"},k[20]||(k[20]=[$e('<div class="flex items-center" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-f1246acf></path></svg><span class="text-white font-medium" data-v-f1246acf>Cp nht mt khu</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg>',2)])),k[23]||(k[23]=$e('<button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-f1246acf></path></svg><span class="text-white font-medium" data-v-f1246acf>Chuyn h s</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-f1246acf></path></svg><span class="text-white font-medium" data-v-f1246acf>iu chnh tnh nng kim sot ca cha m</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button>',2)),l("button",{onClick:k[2]||(k[2]=le=>i.value="profile"),class:"w-full bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-yellow-400 hover:bg-[#2a2a2a] transition-all flex items-center justify-between group"},k[21]||(k[21]=[$e('<div class="flex items-center flex-1" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-gray-300 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Qun l h s</p><p class="text-gray-400 text-sm" data-v-f1246acf>Kim sot v cp php ca cha m</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg>',2)]))])])):F("",!0),i.value==="membership"?(v(),m("div",dR,[k[29]||(k[29]=$e('<h1 class="text-3xl font-bold text-white mb-2 tracking-tight" data-v-f1246acf>T cch thnh vin</h1><p class="text-gray-400 mb-8" data-v-f1246acf>Thng tin gi dch v</p><div class="bg-gradient-to-r from-purple-900 to-indigo-900 border border-purple-700 rounded-lg p-6 mb-6" data-v-f1246acf><h2 class="text-2xl font-bold text-white mb-2" data-v-f1246acf>Gi Cao cp</h2><p class="text-gray-200 mb-4" data-v-f1246acf> phn gii video 4K vi m thanh khng gian, khng qung co khi xem v hn th na.</p><button class="w-full bg-white/10 hover:bg-white/20 border border-white/30 rounded-lg p-4 transition-all flex items-center justify-between group mt-4" data-v-f1246acf><span class="text-white font-medium" data-v-f1246acf>Thay i gi dch v</span><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full bg-white/10 hover:bg-white/20 border border-white/30 rounded-lg p-4 transition-all flex items-center justify-between group mt-3" data-v-f1246acf><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Mua thm mt sut thnh vin b sung</p><p class="text-gray-300 text-sm" data-v-f1246acf>Chia s HTHREE vi ngi khng sng cng bn.</p></div><div class="flex items-center gap-2" data-v-f1246acf><span class="bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded" data-v-f1246acf>Mi</span><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></div></button></div>',3)),l("div",hR,[k[27]||(k[27]=l("h3",{class:"text-xl font-bold text-white mb-4"},"Thng tin thanh ton",-1)),l("div",fR,[k[26]||(k[26]=l("h4",{class:"text-white font-semibold mb-2"},"Ln thanh ton tip theo",-1)),l("p",pR,P(E()),1),l("p",gR,"Ghi n trc tip: "+P(r.value.email),1)]),k[28]||(k[28]=$e('<button class="w-full bg-[#2a2a2a] hover:bg-[#3a3a3a] border border-gray-700 rounded-lg p-4 transition-all flex items-center justify-between group mb-3" data-v-f1246acf><span class="text-white font-medium" data-v-f1246acf>Qun l phng thc thanh ton</span><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full bg-[#2a2a2a] hover:bg-[#3a3a3a] border border-gray-700 rounded-lg p-4 transition-all flex items-center justify-between group mb-3" data-v-f1246acf><span class="text-white font-medium" data-v-f1246acf>i m qu tng hoc khuyn mi</span><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full bg-[#2a2a2a] hover:bg-[#3a3a3a] border border-gray-700 rounded-lg p-4 transition-all flex items-center justify-between group" data-v-f1246acf><span class="text-white font-medium" data-v-f1246acf>Xem lch s thanh ton</span><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button>',3))]),k[30]||(k[30]=l("div",{class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6"},[l("button",{class:"w-full text-center text-red-400 hover:text-red-300 font-medium transition-colors"}," Hy t cch thnh vin ")],-1))])):F("",!0),i.value==="password"?(v(),m("div",vR,[k[44]||(k[44]=l("h1",{class:"text-3xl font-bold text-white mb-2 tracking-tight"},"Bo mt",-1)),k[45]||(k[45]=l("p",{class:"text-gray-400 mb-8"},"Thng tin ti khon",-1)),l("div",mR,[h.value?F("",!0):(v(),m("button",{key:0,onClick:w,class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},k[31]||(k[31]=[$e('<div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-f1246acf></path></svg><span class="text-white font-medium" data-v-f1246acf>Mt khu</span></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg>',2)]))),h.value?(v(),m("div",yR,k[32]||(k[32]=[$e('<div class="flex items-start" data-v-f1246acf><svg class="w-5 h-5 mr-3 text-blue-400 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20" data-v-f1246acf><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-f1246acf></path></svg><div data-v-f1246acf><p class="text-white text-sm font-medium" data-v-f1246acf>ng nhp bng Google</p><p class="text-gray-400 text-xs mt-1" data-v-f1246acf>Bn ang s dng ti khon Google. Mt khu c qun l bi Google.</p></div></div>',1)]))):F("",!0),l("div",bR,[l("button",wR,[l("div",_R,[k[35]||(k[35]=l("svg",{class:"w-6 h-6 mr-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),l("div",xR,[k[33]||(k[33]=l("p",{class:"text-white font-medium"},"Email",-1)),l("p",kR,P(r.value.email),1),k[34]||(k[34]=l("div",{class:"flex items-center gap-1 mt-1"},[l("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),l("span",{class:"text-green-500 text-xs"}," xc minh")],-1))])]),k[36]||(k[36]=l("svg",{class:"w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])]),l("div",CR,[l("button",{onClick:R,class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},[l("div",ER,[k[39]||(k[39]=l("svg",{class:"w-6 h-6 mr-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),l("div",SR,[k[38]||(k[38]=l("p",{class:"text-white font-medium"},"in thoi di ng",-1)),u.value?(v(),m("p",TR,P(u.value),1)):(v(),m("p",AR,"Thm s in thoi")),u.value?(v(),m("div",IR,k[37]||(k[37]=[l("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),l("span",{class:"text-green-500 text-xs"}," lu",-1)]))):F("",!0)])]),k[40]||(k[40]=l("svg",{class:"w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])]),l("div",$R,[k[42]||(k[42]=l("h3",{class:"text-lg font-semibold text-white mb-4"},"Truy cp v quyn ring t",-1)),l("button",{onClick:k[3]||(k[3]=le=>i.value="devices"),class:"w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group"},k[41]||(k[41]=[$e('<div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Truy cp v thit b</p><p class="text-gray-400 text-sm" data-v-f1246acf>Qun l thit b  ng nhp</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg>',2)])),k[43]||(k[43]=$e('<div class="border-t border-gray-800 mt-2 pt-2" data-v-f1246acf><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Chuyn h s</p><div class="flex items-center gap-1 mt-1" data-v-f1246acf><span class="bg-blue-500 text-white text-xs font-bold px-2 py-0.5 rounded" data-v-f1246acf>Mi</span></div></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button></div><div class="border-t border-gray-800 mt-2 pt-2" data-v-f1246acf><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Truy cp thng tin c nhn</p><p class="text-gray-400 text-sm" data-v-f1246acf>Yu cu bn sao thng tin c nhn ca bn</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button></div><div class="border-t border-gray-800 mt-2 pt-2" data-v-f1246acf><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Th nghim tnh nng</p><p class="text-gray-400 text-sm" data-v-f1246acf>Bt</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button></div>',3))]),k[46]||(k[46]=l("div",{class:"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6"},[l("button",{class:"w-full text-center text-red-400 hover:text-red-300 font-medium transition-colors"}," Xa ti khon ")],-1))])):F("",!0),i.value==="devices"?(v(),m("div",RR,k[47]||(k[47]=[$e('<h1 class="text-3xl font-bold text-white mb-2 tracking-tight" data-v-f1246acf>Thit b</h1><p class="text-gray-400 mb-8" data-v-f1246acf>Truy cp ti khon</p><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6" data-v-f1246acf><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Truy cp v thit b</p><p class="text-gray-400 text-sm" data-v-f1246acf>Qun l thit b  ng nhp</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button></div><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6" data-v-f1246acf><h3 class="text-lg font-semibold text-white mb-4" data-v-f1246acf>Ti xung thit b di ng</h3><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Thit b ti xung di ng</p><p class="text-gray-400 text-sm" data-v-f1246acf>ang dng 0/6 thit b ti xung</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button></div>',4)]))):F("",!0),i.value==="settings"?(v(),m("div",PR,[k[51]||(k[51]=l("h1",{class:"text-3xl font-bold text-white mb-2 tracking-tight"},"Qun l h s v ty chn",-1)),l("div",OR,[l("div",MR,[l("div",jR,[l("div",NR,P(((M=r.value.displayName)==null?void 0:M.charAt(0))||((B=r.value.email)==null?void 0:B.charAt(0))||"U"),1),l("div",null,[l("p",LR,P(r.value.displayName||((H=r.value.email)==null?void 0:H.split("@")[0])),1),k[48]||(k[48]=l("p",{class:"text-gray-400 text-sm"}," thng tin tt c ni dung v tn h",-1))])]),k[49]||(k[49]=l("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),k[50]||(k[50]=$e('<button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-f1246acf></path></svg><div class="text-left" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Kha h s</p><p class="text-gray-400 text-sm" data-v-f1246acf>Bt</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button>',1))]),k[52]||(k[52]=$e('<div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6" data-v-f1246acf><h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4" data-v-f1246acf>Ty chn</h3><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Ngn ng</p><p class="text-gray-400 text-sm" data-v-f1246acf>Ting Vit, English</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>iu chnh tnh nng kim sot ca cha m</p><p class="text-gray-400 text-sm" data-v-f1246acf>t gii hn  tui v cc phn</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Hnh thc ph </p><p class="text-gray-400 text-sm" data-v-f1246acf>Ty chnh cch hin th ph </p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" data-v-f1246acf></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Ci t pht li</p><p class="text-gray-400 text-sm" data-v-f1246acf>Ci t t ng pht v cht lng m thanh, hnh nh</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Ci t thng bo</p><p class="text-gray-400 text-sm" data-v-f1246acf>Qun l thng bo cho email, tin nhn v thng bo y</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Hot ng xem</p><p class="text-gray-400 text-sm" data-v-f1246acf>Qun l lch s xem v nh gi</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group border-t border-gray-800 mt-2" data-v-f1246acf><div class="flex items-center" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Ci t quyn ring t v d liu</p><p class="text-gray-400 text-sm" data-v-f1246acf>Qun l vic s dng thng tin c nhn</p></div></div><svg class="w-5 h-5 text-gray-400 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button></div><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6" data-v-f1246acf><button class="w-full flex items-center justify-center p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><svg class="w-5 h-5 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-v-f1246acf></path></svg><span class="text-gray-400 font-medium" data-v-f1246acf>Xa h s</span></button><p class="text-gray-500 text-xs text-center mt-2" data-v-f1246acf>Khng th khi phc h s  xa.</p></div>',2))])):F("",!0),i.value==="profile"?(v(),m("div",BR,[k[57]||(k[57]=$e('<h1 class="text-3xl font-bold text-white mb-2 tracking-tight" data-v-f1246acf>H s</h1><p class="text-gray-400 mb-8" data-v-f1246acf>Tnh nng kim sot v cp php ca cha m</p><div class="bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 mb-6" data-v-f1246acf><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>iu chnh tnh nng kim sot ca cha m</p><p class="text-gray-400 text-sm" data-v-f1246acf>Ci t gii hn  tui, chn tc phm</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><div class="border-t border-gray-800 mt-2 pt-2" data-v-f1246acf><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><svg class="w-6 h-6 mr-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-f1246acf></path></svg><div class="text-left flex-1" data-v-f1246acf><p class="text-white font-medium" data-v-f1246acf>Chuyn h s</p><p class="text-gray-400 text-sm" data-v-f1246acf>Sao chp h s sang ti khon khc</p></div></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button></div></div>',3)),l("div",DR,[k[55]||(k[55]=l("h3",{class:"text-lg font-semibold text-white mb-4"},"Thit lp h s",-1)),l("button",UR,[l("div",HR,[l("div",FR,P(((Y=r.value.displayName)==null?void 0:Y.charAt(0))||((Ee=r.value.email)==null?void 0:Ee.charAt(0))||"U"),1),l("div",qR,[l("p",VR,P(r.value.displayName||((ue=r.value.email)==null?void 0:ue.split("@")[0])),1),k[53]||(k[53]=l("span",{class:"bg-blue-500 text-white text-xs font-bold px-2 py-0.5 rounded"},"H s ca bn",-1))])]),k[54]||(k[54]=l("svg",{class:"w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),k[56]||(k[56]=$e('<button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><div class="w-12 h-12 bg-yellow-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-f1246acf> P2 </div><p class="text-white font-medium" data-v-f1246acf>Profile 2</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><div class="w-12 h-12 bg-purple-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-f1246acf> P3 </div><p class="text-white font-medium" data-v-f1246acf>Profile 3</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group mb-2" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><div class="w-12 h-12 bg-pink-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-f1246acf> P4 </div><p class="text-white font-medium" data-v-f1246acf>Profile 4</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button><button class="w-full flex items-center justify-between p-4 hover:bg-[#2a2a2a] rounded-lg transition-colors group" data-v-f1246acf><div class="flex items-center flex-1" data-v-f1246acf><div class="w-12 h-12 bg-cyan-500 rounded-lg mr-4 flex items-center justify-center text-white font-bold text-xl" data-v-f1246acf> P5 </div><p class="text-white font-medium" data-v-f1246acf>Profile 5</p></div><svg class="w-5 h-5 text-gray-500 group-hover:text-yellow-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f1246acf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-f1246acf></path></svg></button>',4))])])):F("",!0)])):(v(),m("div",sR,[k[16]||(k[16]=l("p",{class:"text-xl text-gray-400 mb-4"},"Vui lng ng nhp  xem thng tin ti khon.",-1)),re(D,{to:"/auth",class:"inline-block bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors"},{default:Oe(()=>k[15]||(k[15]=[be(" ng Nhp Ngay ")])),_:1})]))])])])])]),a.value?(v(),m("div",{key:0,class:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:Gs(S,["self"])},[l("div",zR,[l("div",{class:"flex items-center justify-between mb-6"},[k[59]||(k[59]=l("h2",{class:"text-2xl font-bold text-white"},"S in thoi",-1)),l("button",{onClick:S,class:"text-gray-400 hover:text-white transition-colors"},k[58]||(k[58]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",WR,[k[60]||(k[60]=l("label",{class:"block text-gray-300 text-sm font-medium mb-2"}," Nhp s in thoi ca bn ",-1)),Ze(l("input",{"onUpdate:modelValue":k[4]||(k[4]=le=>c.value=le),type:"tel",placeholder:"0123456789",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors",maxlength:"11"},null,512),[[Lt,c.value]]),k[61]||(k[61]=l("p",{class:"text-gray-500 text-xs mt-2"},"Nhp 10-11 ch s",-1))]),l("div",KR,[l("button",{onClick:I,class:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors"}," Lu "),u.value?(v(),m("button",{key:0,onClick:A,class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-colors"}," Xa ")):F("",!0),l("button",{onClick:S,class:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"}," Hy ")])])])):F("",!0),d.value?(v(),m("div",GR,[l("div",JR,[l("div",{class:"flex items-center justify-between mb-6"},[k[63]||(k[63]=l("h2",{class:"text-2xl font-bold text-white"},"i mt khu",-1)),l("button",{onClick:O,class:"text-gray-400 hover:text-white transition-colors"},k[62]||(k[62]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),f.value===1?(v(),m("div",YR,[k[65]||(k[65]=l("p",{class:"text-gray-300 mb-4"},"Nhp email ca bn  nhn m xc thc",-1)),l("div",XR,[k[64]||(k[64]=l("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"Email",-1)),Ze(l("input",{"onUpdate:modelValue":k[5]||(k[5]=le=>p.email=le),type:"email",placeholder:"email@example.com",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors"},null,512),[[Lt,p.email]])]),l("button",{onClick:q,disabled:g.value,class:"w-full bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},P(g.value?"ang gi...":"Gi m xc thc"),9,QR)])):F("",!0),f.value===2?(v(),m("div",ZR,[k[73]||(k[73]=l("p",{class:"text-gray-300 mb-4"},"Nhp m xc thc  gi n email v mt khu mi",-1)),l("div",eP,[k[66]||(k[66]=l("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"M xc thc (6 s)",-1)),Ze(l("input",{"onUpdate:modelValue":k[6]||(k[6]=le=>p.token=le),type:"text",placeholder:"     ",maxlength:"6",autocomplete:"off",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors text-center text-2xl tracking-widest"},null,512),[[Lt,p.token]])]),l("div",tP,[k[69]||(k[69]=l("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"Mt khu mi",-1)),l("div",sP,[Ze(l("input",{"onUpdate:modelValue":k[7]||(k[7]=le=>p.newPassword=le),type:b.value?"text":"password",placeholder:"       ",autocomplete:"new-password",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors"},null,8,nP),[[ri,p.newPassword]]),l("button",{onClick:k[8]||(k[8]=le=>b.value=!b.value),type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-yellow-400 transition-colors"},[b.value?(v(),m("svg",oP,k[68]||(k[68]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(v(),m("svg",rP,k[67]||(k[67]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),l("div",iP,[k[72]||(k[72]=l("label",{class:"block text-gray-300 text-sm font-medium mb-2"},"Xc nhn mt khu",-1)),l("div",aP,[Ze(l("input",{"onUpdate:modelValue":k[9]||(k[9]=le=>p.confirmPassword=le),type:y.value?"text":"password",placeholder:"       ",autocomplete:"new-password",class:"w-full bg-[#2a2a2a] border border-gray-700 rounded-lg px-4 py-3 pr-12 text-white placeholder-gray-500 focus:outline-none focus:border-yellow-400 transition-colors"},null,8,lP),[[ri,p.confirmPassword]]),l("button",{onClick:k[10]||(k[10]=le=>y.value=!y.value),type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-yellow-400 transition-colors"},[y.value?(v(),m("svg",uP,k[71]||(k[71]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(v(),m("svg",cP,k[70]||(k[70]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),l("div",dP,[l("button",{onClick:k[11]||(k[11]=le=>f.value=1),class:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"}," Quay li "),l("button",{onClick:L,disabled:g.value,class:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},P(g.value?"ang x l...":"i mt khu"),9,hP)])])):F("",!0)])])):F("",!0)])}}},pP=Ke(fP,[["__scopeId","data-v-f1246acf"]]),gP={class:"hero min-h-[500px] bg-base-200 relative overflow-hidden"},vP={class:"hero-content text-left relative z-10 max-w-7xl w-full"},mP={class:"max-w-2xl"},yP={class:"flex gap-2 mb-4"},bP={class:"badge badge-warning"},wP={class:"badge badge-info"},_P={class:"text-5xl font-bold mb-4 drop-shadow-lg"},xP={class:"text-lg mb-2 text-base-content/90"},kP={class:"mb-6 line-clamp-3 text-base-content/80"},CP={class:"flex gap-2 mt-6"},EP={class:"flex gap-2 flex-wrap"},SP={__name:"HeroBanner",props:{featuredMovie:{type:Object,default:null}},setup(t){return(e,s)=>{var n,r,o,i,a,c,u,d;return v(),m("div",gP,[l("div",{class:"absolute inset-0 bg-cover bg-center",style:$t({backgroundImage:`url(${((n=t.featuredMovie)==null?void 0:n.poster_url)||"https://placehold.co/1920x1080/1a1a1a/fff"})`})},s[0]||(s[0]=[l("div",{class:"absolute inset-0 bg-gradient-to-r from-base-100 via-base-100/80 to-transparent"},null,-1)]),4),l("div",vP,[l("div",mP,[l("div",yP,[s[1]||(s[1]=l("div",{class:"badge badge-error"},"HOT",-1)),l("div",bP,P(((r=t.featuredMovie)==null?void 0:r.year)||"2024"),1),l("div",wP,P(((o=t.featuredMovie)==null?void 0:o.quality)||"HD"),1)]),l("h1",_P,P(((i=t.featuredMovie)==null?void 0:i.name)||"Phim ni bt"),1),l("p",xP,P(((a=t.featuredMovie)==null?void 0:a.origin_name)||"Original Title"),1),l("p",kP,P(((c=t.featuredMovie)==null?void 0:c.description)||"M t phim s hin th  y. y l mt b phim hp dn vi nhiu tnh tit th v..."),1),s[3]||(s[3]=$e('<div class="flex gap-3"><button class="btn btn-primary btn-lg gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"></path></svg> Xem ngay </button><button class="btn btn-outline btn-lg gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Thng tin </button></div>',1)),l("div",CP,[s[2]||(s[2]=l("span",{class:"text-sm text-base-content/70"},"Th loi:",-1)),l("div",EP,[(v(!0),m(ne,null,pe((d=(u=t.featuredMovie)==null?void 0:u.genres)==null?void 0:d.slice(0,4),h=>(v(),m("span",{key:h,class:"text-sm text-primary font-medium"},P(h),1))),128))])])])])])}}},TP={class:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 group"},AP={class:"relative overflow-hidden aspect-[2/3]"},IP=["src","alt"],$P={class:"badge badge-primary absolute top-2 right-2"},RP={class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4"},PP={class:"text-white w-full"},OP={class:"text-sm line-clamp-2 mb-2"},MP={class:"card-body p-4"},jP={class:"card-title text-base line-clamp-1"},NP={key:0,class:"badge badge-secondary badge-sm"},LP={class:"text-sm text-base-content/70 line-clamp-1"},BP={class:"card-actions justify-between items-center mt-2"},DP={class:"flex gap-1"},UP={class:"rating rating-sm"},HP={class:"text-xs ml-1"},kg={__name:"MovieCard",props:{movie:{type:Object,required:!0}},setup(t){const e=N(!1),s=()=>{e.value=!0};return(n,r)=>{var o;return v(),m(ne,null,[l("div",TP,[l("figure",AP,[l("img",{src:t.movie.thumb_url||"https://placehold.co/300x450/1a1a1a/fff?text=No+Image",alt:t.movie.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,IP),l("div",$P,P(t.movie.quality||"HD"),1),l("div",RP,[l("div",PP,[l("p",OP,P(t.movie.description||"Cha c m t"),1),l("div",{class:"flex gap-2"},[r[2]||(r[2]=l("button",{class:"btn btn-primary btn-sm flex-1"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"})]),be(" Xem ngay ")],-1)),l("button",{onClick:s,class:"btn btn-circle btn-sm bg-gray-800 hover:bg-gray-700 border-gray-600",title:"Cc tp & Thng tin"},r[1]||(r[1]=[l("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]))])])])]),l("div",MP,[l("h2",jP,[be(P(t.movie.name)+" ",1),t.movie.year?(v(),m("div",NP,P(t.movie.year),1)):F("",!0)]),l("p",LP,P(t.movie.origin_name||t.movie.name),1),l("div",BP,[l("div",DP,[(v(!0),m(ne,null,pe((o=t.movie.genres)==null?void 0:o.slice(0,2),i=>(v(),m("div",{class:"badge badge-outline badge-sm",key:i},P(i),1))),128))]),l("div",UP,[r[3]||(r[3]=l("input",{type:"radio",class:"mask mask-star-2 bg-orange-400",disabled:"",checked:""},null,-1)),l("span",HP,P(t.movie.rating||"8.5"),1)])])])]),re(Rc,{"is-open":e.value,"movie-slug":t.movie.slug,onClose:r[0]||(r[0]=i=>e.value=!1)},null,8,["is-open","movie-slug"])],64)}}},FP={class:"mb-8"},qP={class:"flex justify-between items-center mb-4"},VP={class:"text-2xl font-bold"},zP={class:"carousel carousel-center space-x-4 p-4 bg-base-200 rounded-box"},hh={__name:"MovieCarousel",props:{title:{type:String,required:!0},movies:{type:Array,default:()=>[]},viewAllLink:{type:String,default:""}},setup(t){return(e,s)=>{const n=cs("router-link");return v(),m("div",FP,[l("div",qP,[l("h2",VP,P(t.title),1),t.viewAllLink?(v(),Ae(n,{key:0,to:t.viewAllLink,class:"btn btn-ghost btn-sm gap-2"},{default:Oe(()=>s[0]||(s[0]=[be(" Xem tt c "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1},8,["to"])):F("",!0)]),l("div",zP,[(v(!0),m(ne,null,pe(t.movies,r=>(v(),m("div",{key:r.slug,class:"carousel-item w-48"},[re(n,{to:`/film/${r.slug}`,class:"w-full"},{default:Oe(()=>[re(kg,{movie:r},null,8,["movie"])]),_:2},1032,["to"])]))),128))])])}}},WP={class:"min-h-screen bg-base-100"},KP={class:"container mx-auto px-4 py-8"},GP={class:"flex justify-end mb-6"},JP={class:"swap swap-rotate btn btn-circle btn-ghost"},YP={class:"mb-8"},XP={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},QP={__name:"DemoUI",setup(t){const e=N([{slug:"avatar-2",name:"Avatar: The Way of Water",origin_name:"Avatar 2",thumb_url:"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",poster_url:"https://image.tmdb.org/t/p/original/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",year:2024,quality:"HD",rating:8.5,genres:["Hnh ng","Phiu lu","Khoa hc vin tng"],description:"Jake Sully sng cng gia nh mi ca mnh trn hnh tinh Pandora. Khi mt mi e da quen thuc tr li  hon thnh nhng g  bt u trc y, Jake phi lm vic vi Neytiri v qun i ca chng tc Na vi  bo v hnh tinh ca h."},{slug:"one-piece",name:"One Piece",origin_name:"",thumb_url:"https://image.tmdb.org/t/p/w500/cMD9Ygz11zjJzAovURpO75Qg7rT.jpg",year:2024,quality:"HD",rating:9.2,genres:["Anime","Phiu lu","Hi"],description:"Monkey D. Luffy v bng hi tc M Rm tip tc cuc hnh trnh tm kim kho bu One Piece huyn thoi."},{slug:"squid-game",name:"Squid Game",origin_name:" ",thumb_url:"https://image.tmdb.org/t/p/w500/dDlEmu3EZ0Pgg93K2SVNLCjCSvE.jpg",year:2024,quality:"HD",rating:8.8,genres:["Hnh ng","Kinh d","Drama"],description:"Hng trm ngi chi thiu tin chp nhn mt li mi k l  tham gia vo cc tr chi tr con. ang ch i h l mt gii thng hp dn - v nhng ri ro cht ngi."},{slug:"the-last-of-us",name:"The Last of Us",origin_name:"The Last of Us",thumb_url:"https://image.tmdb.org/t/p/w500/uKvVjHNqB5VmOrdxqAt2F7J78ED.jpg",year:2024,quality:"HD",rating:9,genres:["Hnh ng","Phiu lu","Drama"],description:"Hai mi nm sau khi nn vn minh hin i b ph hy, Joel, mt ngi sng st cng rn, c thu  a Ellie, mt c gi 14 tui, ra khi vng cch ly n p."},{slug:"wednesday",name:"Wednesday",origin_name:"Wednesday",thumb_url:"https://image.tmdb.org/t/p/w500/9PFonBhy4cQy7Jz20NpMygczOkv.jpg",year:2024,quality:"HD",rating:8.7,genres:["Hi","B n","Kinh d"],description:"Wednesday Addams ang c gng lm ch kh nng ngoi cm ca mnh, ngn chn mt cn thnh n git ngi ang khng b th trn a phng v gii quyt b n siu nhin mi m cha m c  gp phi 25 nm trc."}]),s=n=>{const r=document.documentElement;n.target.checked?r.setAttribute("data-theme","light"):r.setAttribute("data-theme","dark")};return(n,r)=>{const o=cs("router-link");return v(),m("div",WP,[re(SP,{featuredMovie:e.value[0]},null,8,["featuredMovie"]),l("div",KP,[l("div",GP,[l("label",JP,[l("input",{type:"checkbox",onChange:s},null,32),r[0]||(r[0]=l("svg",{class:"swap-on fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[l("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})],-1)),r[1]||(r[1]=l("svg",{class:"swap-off fill-current w-6 h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[l("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})],-1))])]),r[3]||(r[3]=$e('<div class="stats stats-vertical lg:stats-horizontal shadow mb-8 w-full"><div class="stat"><div class="stat-figure text-primary"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg></div><div class="stat-title">Tng phim</div><div class="stat-value text-primary">25.6K</div><div class="stat-desc">Cp nht hng ngy</div></div><div class="stat"><div class="stat-figure text-secondary"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><div class="stat-title">Lt xem</div><div class="stat-value text-secondary">2.6M</div><div class="stat-desc"> 400 (22%)</div></div><div class="stat"><div class="stat-figure text-accent"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-8 h-8 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg></div><div class="stat-title">Thnh vin</div><div class="stat-value text-accent">1,200</div><div class="stat-desc"> 90 (14%)</div></div></div>',1)),re(hh,{title:" Phim Hot Nht",movies:e.value,viewAllLink:"/category/hot/page/1"},null,8,["movies"]),re(hh,{title:" Phim B Mi",movies:e.value,viewAllLink:"/category/phim-bo/page/1"},null,8,["movies"]),l("div",YP,[r[2]||(r[2]=l("h2",{class:"text-2xl font-bold mb-4"}," Phim L",-1)),l("div",XP,[(v(!0),m(ne,null,pe(e.value.slice(0,10),i=>(v(),Ae(o,{key:i.slug,to:`/film/${i.slug}`},{default:Oe(()=>[re(kg,{movie:i},null,8,["movie"])]),_:2},1032,["to"]))),128))])]),r[4]||(r[4]=$e('<div class="flex justify-center"><div class="join"><button class="join-item btn"></button><button class="join-item btn btn-active">1</button><button class="join-item btn">2</button><button class="join-item btn">3</button><button class="join-item btn">4</button><button class="join-item btn"></button></div></div>',1))])])}}},ZP={class:"bg-black min-h-screen text-white p-8"},eO={class:"grid grid-cols-3 gap-4 mb-8"},tO={class:"bg-gray-900 p-4 rounded"},sO={class:"mt-8"},nO={__name:"TestImages",setup(t){const e=N([]),s=r=>{const o=` Image failed: ${r.target.src}`;console.error(o),e.value.push(o)},n=r=>{const o=` Image loaded: ${r.target.src}`;console.log(o),e.value.push(o)};return(r,o)=>{const i=cs("router-link");return v(),m("div",ZP,[o[5]||(o[5]=l("h1",{class:"text-3xl font-bold mb-8"}," Test Images",-1)),l("div",eO,[o[1]||(o[1]=l("div",null,[l("h3",{class:"mb-2"},"1. Placeholder (Should work)"),l("img",{src:"https://via.placeholder.com/400x600/1a1a1a/ffffff?text=Test",class:"w-full h-64 object-cover rounded",alt:"Test 1"})],-1)),o[2]||(o[2]=l("div",null,[l("h3",{class:"mb-2"},"2. TMDB (Should work)"),l("img",{src:"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg",class:"w-full h-64 object-cover rounded",alt:"Test 2"})],-1)),l("div",null,[o[0]||(o[0]=l("h3",{class:"mb-2"},"3. phimimg.com (Your Supabase URL)",-1)),l("img",{src:"https://phimimg.com/upload/vod/20250916-1/0207ea115f4bfe35d90af8f8807d4cbe.jpg",class:"w-full h-64 object-cover rounded",alt:"Test 3",onError:s,onLoad:n},null,32)])]),l("div",tO,[o[3]||(o[3]=l("h3",{class:"font-bold mb-2"},"Console Log:",-1)),(v(!0),m(ne,null,pe(e.value,(a,c)=>(v(),m("div",{key:c,class:"text-sm mb-1"},P(a),1))),128))]),l("div",sO,[re(i,{to:"/home",class:"btn bg-red-600 px-6 py-2 rounded"},{default:Oe(()=>o[4]||(o[4]=[be("  Back to Home ")])),_:1})])])}}},rO={class:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white py-8"},oO={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},iO={class:"mb-8"},aO={class:"text-3xl font-bold mb-2"},lO={class:"text-yellow-400"},cO={key:0,class:"text-gray-400"},uO={key:0,class:"flex justify-center items-center h-96"},dO={key:1,class:"text-center text-red-400 text-lg py-12"},hO={class:"text-xl font-semibold"},fO={key:2,class:"text-center py-12"},pO={class:"text-xl text-gray-400"},gO={key:3},vO={class:"space-y-4 mb-8"},mO={class:"flex-shrink-0 w-32 sm:w-40 md:w-48"},yO=["src","alt"],bO={class:"flex-1 py-3 pr-4 min-w-0"},wO={class:"text-lg font-bold text-white group-hover:text-yellow-400 transition-colors truncate"},_O={class:"text-sm text-gray-400 truncate mb-2"},xO={class:"flex flex-wrap gap-2 text-xs mb-2"},kO={key:0,class:"bg-blue-500 text-white px-2 py-1 rounded font-medium"},CO={key:1,class:"bg-yellow-500 text-black px-2 py-1 rounded font-semibold"},EO={key:2,class:"bg-purple-500 text-white px-2 py-1 rounded font-medium"},SO={key:3,class:"bg-green-500 text-white px-2 py-1 rounded font-medium"},TO={key:0,class:"text-sm text-gray-300 line-clamp-2 hidden sm:block"},AO={key:0,class:"flex justify-center mt-10"},IO={role:"navigation","aria-label":"pagination",class:"mx-auto flex w-full justify-center"},$O={class:"flex flex-row items-center gap-2"},RO=["disabled"],PO={key:0,class:"flex size-9 items-center justify-center text-gray-400"},OO=["onClick","aria-label"],MO=["disabled"],jO=20,NO={__name:"SearchResults",setup(t){const e=Qs(),s=Ct(),n=N(""),r=N([]),o=N(!1),i=N(null),a=N(1),c=N(1),u=N(0),d=async()=>{var g;let p=e.query.q;if(!p||!p.trim()){r.value=[],i.value="Vui lng nhp t kha tm kim";return}p=p.trim().replace(/\s+/g," "),n.value=p,o.value=!0,i.value=null,console.log(" Searching for:",p,"Page:",a.value);try{const b=await _g(p,{page:a.value,limit:jO});if(console.log(" Search response:",b),console.log(" Response status:",b.status),console.log(" Response data:",b.data),(b.status==="success"||b.status===!0)&&b.data){r.value=(b.data.items||[]).map(_=>{const C=fo(_);return C.poster_path&&!C.poster_path.startsWith("http")&&(C.poster_path=`https://phimimg.com/${C.poster_path}`),C.backdrop_path&&!C.backdrop_path.startsWith("http")&&(C.backdrop_path=`https://phimimg.com/${C.backdrop_path}`),C});const y=(g=b.data.params)==null?void 0:g.pagination;y?(c.value=y.totalPages||1,u.value=y.totalItems||r.value.length):(c.value=1,u.value=r.value.length),console.log(" Found:",r.value.length,"movies"),console.log(" Movies:",r.value)}else console.warn(" Khng parse c response"),console.warn("Response:",b),r.value=[],c.value=1,u.value=0}catch(b){console.error(" Search error:",b),i.value="Khng th tm kim. Vui lng th li sau.",r.value=[]}finally{o.value=!1}},h=p=>{p>=1&&p<=c.value&&(a.value=p,s.push({path:"/search",query:{q:n.value,page:p}}))},f=()=>{const p=new Set,g=2;p.add(1),c.value>1&&p.add(c.value);for(let _=a.value-g;_<=a.value+g;_++)_>=1&&_<=c.value&&p.add(_);let b=Array.from(p).sort((_,C)=>_-C),y=[];for(let _=0;_<b.length;_++)y.push(b[_]),_<b.length-1&&b[_+1]-b[_]>1&&y.push("ellipsis");return y};return Je(()=>[e.query.q,e.query.page],([p,g])=>{n.value=p||"",a.value=parseInt(g)||1,d()},{immediate:!0}),(p,g)=>{const b=cs("router-link");return v(),m("div",rO,[l("div",oO,[l("div",iO,[l("h1",aO,[g[3]||(g[3]=be(" Kt qu tm kim: ")),l("span",lO,P(n.value),1)]),!o.value&&r.value.length>0?(v(),m("p",cO," Tm thy "+P(u.value)+" kt qu ",1)):F("",!0)]),o.value?(v(),m("div",uO,g[4]||(g[4]=[$e('<div class="text-center" data-v-e8602ee7><svg class="animate-spin h-12 w-12 text-yellow-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" data-v-e8602ee7><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25" data-v-e8602ee7></circle><path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" class="opacity-75" data-v-e8602ee7></path></svg><p class="text-xl font-semibold text-gray-300" data-v-e8602ee7>ang tm kim...</p></div>',1)]))):i.value?(v(),m("div",dO,[l("p",hO,P(i.value),1)])):r.value.length===0?(v(),m("div",fO,[g[5]||(g[5]=l("svg",{class:"w-24 h-24 mx-auto mb-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),l("p",pO,'Khng tm thy kt qu no cho "'+P(n.value)+'"',1),g[6]||(g[6]=l("p",{class:"text-gray-500 mt-2"},"Th tm kim vi t kha khc",-1))])):(v(),m("div",gO,[l("div",vO,[(v(!0),m(ne,null,pe(r.value,(y,_)=>(v(),Ae(b,{key:y.slug||y.id||_,to:`/film/${y.slug}`,class:"flex gap-4 bg-gray-800 rounded-lg overflow-hidden hover:bg-gray-750 transition-colors group"},{default:Oe(()=>[l("div",mO,[l("img",{src:y.backdrop_path||y.poster_path||"https://placehold.co/300x169/1a1a1a/fff?text=No+Image",alt:y.title,class:"w-full h-full object-cover aspect-video",onError:g[0]||(g[0]=C=>C.target.src="https://placehold.co/300x169/1a1a1a/fff?text=Error")},null,40,yO)]),l("div",bO,[l("h3",wO,P(y.title),1),l("p",_O,P(y.original_title),1),l("div",xO,[y.year?(v(),m("span",kO,P(y.year),1)):F("",!0),y.quality?(v(),m("span",CO,P(y.quality),1)):F("",!0),y.lang?(v(),m("span",EO,P(y.lang),1)):F("",!0),y.episode_current?(v(),m("span",SO,P(y.episode_current),1)):F("",!0)]),y.overview?(v(),m("p",TO,P(y.overview),1)):F("",!0)])]),_:2},1032,["to"]))),128))]),c.value>1?(v(),m("div",AO,[l("nav",IO,[l("ul",$O,[l("li",null,[l("button",{onClick:g[1]||(g[1]=y=>h(a.value-1)),disabled:a.value===1,class:ae([{"opacity-50 pointer-events-none":a.value===1},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700"]),"aria-label":"Previous page"},g[7]||(g[7]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"m15 18-6-6 6-6"})],-1)]),10,RO)]),(v(!0),m(ne,null,pe(f(),(y,_)=>(v(),m("li",{key:_},[y==="ellipsis"?(v(),m("span",PO,g[8]||(g[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("circle",{cx:"12",cy:"12",r:"1"}),l("circle",{cx:"19",cy:"12",r:"1"}),l("circle",{cx:"5",cy:"12",r:"1"})],-1)]))):(v(),m("button",{key:1,onClick:C=>h(y),class:ae([{"bg-yellow-400 text-black":a.value===y,"hover:bg-gray-700":a.value!==y},"inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all h-9 px-4 py-1"]),"aria-label":`Page ${y}`},P(y),11,OO))]))),128)),l("li",null,[l("button",{onClick:g[2]||(g[2]=y=>h(a.value+1)),disabled:a.value===c.value,class:ae([{"opacity-50 pointer-events-none":a.value===c.value},"px-3 py-1.5 rounded-full text-sm font-medium transition-all hover:bg-gray-700"]),"aria-label":"Next page"},g[9]||(g[9]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"m9 18 6-6-6-6"})],-1)]),10,MO)])])])])):F("",!0)]))])])}}},LO=Ke(NO,[["__scopeId","data-v-e8602ee7"]]),BO=[{path:"/",name:"Welcome",component:q3},{path:"/home",name:"Homepage",component:l8},{path:"/netflix",name:"NetflixHome",component:sA},{path:"/demo",name:"DemoUI",component:QP},{path:"/test-images",name:"TestImages",component:nO},{path:"/film/:filmName",name:"MovieDetail",component:KA,props:!0},{path:"/film/:filmName/tap/:tap",name:"WatchMovie",component:a7,props:!0},{path:"/list/:type/page/:pageNumber",name:"ListBaseType",component:sI,props:!0},{path:"/category/:categorySlug?/page/:pageNumber",name:"ListBaseCategory",component:FI,props:!0},{path:"/country/:countrySlug?/page/:pageNumber",name:"ListBaseNational",component:j$,props:!0},{path:"/contact",name:"Contact",component:B$},{path:"/account",name:"Account",component:pP},{path:"/search",name:"Search",component:LO}],Cg=sy({history:P1("/tun/"),routes:BO,scrollBehavior(t,e,s){return{top:0,behavior:"smooth"}}});var DO="firebase",UO="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn(DO,UO,"app");const HO={apiKey:"AIzaSyAiwMHCsSrqX20x8o90R5hksRxUPVmnwKM",authDomain:"hthree-94a3e.firebaseapp.com",projectId:"hthree-94a3e",storageBucket:"hthree-94a3e.firebasestorage.app",messagingSenderId:"917487991713",appId:"1:917487991713:web:68dd73293f38d7fe2229e0",measurementId:"G-9LNBDMVK0M"},FO=l0(HO),Nc=lr(FO);$w(Nc,np).catch(t=>{console.error("Error setting persistence:",t)});const ea=Df(U3);ea.use(Cg);ea.use(W2());Cg.beforeEach((t,e,s)=>{const n=t.matched.some(o=>o.meta.requiresAuth),r=Nc.currentUser;n&&!r?(console.log("Cha ng nhp (Firebase), chuyn hng v /auth"),s("/auth")):s()});let La=!1;oo(Nc,t=>{La=!!t,ea.config.globalProperties.$isAuthenticated=La,console.log("Firebase Auth state changed. isAuthenticated:",La)});ea.mount("#app");
